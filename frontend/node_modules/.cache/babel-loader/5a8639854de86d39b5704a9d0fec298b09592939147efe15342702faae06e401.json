{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\n\n// Load Tailwind CSS script (assumed available in React environment, but added for completeness)\n/* // For production use, Tailwind classes are assumed to be processed:\n// import './tailwind.css'; \n*/\n\n// --- Components ---\n\n/**\n * ArrayBar Component: Displays a single element in the array visualization.\n * It handles color coding based on the algorithm state.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArrayBar = /*#__PURE__*/React.memo(_c = ({\n  value,\n  height,\n  width,\n  isHighlighted,\n  isPivot,\n  isSorted,\n  isSearchMid,\n  isSearchRange,\n  isFound,\n  isLinearCheck\n}) => {\n  // Default color is Blue\n  let color = 'bg-blue-500';\n  let opacity = 'opacity-100';\n\n  // --- Search Mode Logic ---\n  if (isSearchMid || isSearchRange || isFound) {\n    // Elements in the current search range (Binary Search)\n    color = 'bg-blue-400';\n    opacity = 'opacity-100';\n    if (isSearchMid) {\n      // Mid element (Binary Search)\n      color = 'bg-amber-500'; // Amber/Mid\n    }\n    if (isFound) {\n      // Found element (Both Search Algorithms)\n      color = 'bg-emerald-500'; // Emerald/Found\n    }\n  } else if (isSearchMid === false && isSearchRange === false && value && isSearchRange !== undefined) {\n    // Excluded elements during Binary Search (isSearchRange check ensures this only applies to BS)\n    opacity = 'opacity-30';\n    color = 'bg-gray-400';\n  }\n\n  // Linear Search Specific Color\n  if (isLinearCheck) {\n    color = 'bg-red-500'; // Red for comparison check\n    if (isFound) {\n      color = 'bg-emerald-500'; // Emerald/Found\n    }\n  }\n\n  // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n  if (isSorted) {\n    color = 'bg-green-500';\n    opacity = 'opacity-100';\n  } else if (isPivot && !isSearchRange) {\n    color = 'bg-purple-600'; // Purple for Pivot/MinIndex\n  } else if (isHighlighted && !isSearchRange && !isSearchMid && !isLinearCheck) {\n    color = 'bg-orange-500'; // Orange for comparison/swap\n  }\n  const finalWidth = width > 0 ? `${width}px` : 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `transition-all duration-100 ease-linear rounded-t-sm shadow-md flex items-end justify-center text-white font-bold relative ${color} ${opacity}`,\n    style: {\n      height: `${height}px`,\n      width: finalWidth,\n      margin: '0 1px',\n      fontSize: width > 20 ? '10px' : '8px'\n    },\n    title: `Value: ${value}`,\n    children: width > 20 && value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 64,\n    columnNumber: 9\n  }, this);\n});\n\n/**\n * BSTVisualizer Component: Placeholder for the Binary Search Tree visualization view.\n */\n_c2 = ArrayBar;\nconst BSTVisualizer = () => {\n  _s();\n  const [treeData, setTreeData] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [message, setMessage] = useState('Enter a number to build the BST.');\n  const insertNode = useCallback((data, value) => {\n    if (!data) return {\n      value: value,\n      left: null,\n      right: null\n    };\n    if (value < data.value) {\n      data.left = insertNode(data.left, value);\n    } else if (value > data.value) {\n      data.right = insertNode(data.right, value);\n    }\n    return data;\n  }, []);\n  const handleInsert = () => {\n    const num = parseInt(inputValue);\n    if (isNaN(num)) {\n      setMessage('Please enter a valid number.');\n      return;\n    }\n    let newTreeData = [...treeData];\n    if (newTreeData.length === 0) {\n      newTreeData.push({\n        value: num,\n        left: null,\n        right: null\n      });\n    } else {\n      newTreeData = [insertNode(newTreeData[0], num)];\n    }\n    setTreeData(newTreeData);\n    setInputValue('');\n    setMessage(`Inserted ${num}. Try inserting another number.`);\n  };\n  const renderNode = node => {\n    if (!node) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col items-center\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-10 h-10 flex items-center justify-center bg-teal-500 text-white rounded-full shadow-lg border-2 border-teal-700\",\n        children: node.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), (node.left || node.right) && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex w-full justify-between mt-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex justify-start pl-2\",\n          children: [node.left && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-l-2 border-b-2 border-gray-400 w-full h-4 absolute top-10 left-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 127,\n            columnNumber: 43\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: renderNode(node.left)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 126,\n          columnNumber: 25\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"w-1/2 flex justify-end pr-2\",\n          children: [node.right && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"border-r-2 border-b-2 border-gray-400 w-full h-4 absolute top-10 right-0\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 131,\n            columnNumber: 44\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-4\",\n            children: renderNode(node.right)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 132,\n            columnNumber: 29\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 130,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this);\n  };\n\n  // A simplified visualizer is used here since recursive rendering in a flat container is hard.\n  const renderTreeSimplified = node => {\n    if (!node) return ' (Empty)';\n    return /*#__PURE__*/_jsxDEV(\"span\", {\n      className: \"font-mono text-sm\",\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"text-teal-600 font-bold\",\n        children: [\"[\", node.value, \"]\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-1 text-gray-500\",\n        children: \"L:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-0.5\",\n        children: renderTreeSimplified(node.left)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-3 text-gray-500\",\n        children: \"R:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        className: \"ml-0.5\",\n        children: renderTreeSimplified(node.right)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 149,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4 md:p-8 bg-white rounded-lg shadow-xl mt-6\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-2xl font-extrabold text-gray-800 mb-2\",\n      children: \"Binary Search Tree Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600 mb-4\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 157,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col sm:flex-row gap-3 mb-6\",\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter number (0-999)\",\n        className: \"p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 min-w-40\",\n        min: \"0\",\n        max: \"999\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 160,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleInsert,\n        className: \"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150 ease-in-out disabled:opacity-50\",\n        disabled: !inputValue || isNaN(parseInt(inputValue)),\n        children: \"Insert Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 169,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"min-h-[400px] bg-gray-50 p-5 border border-gray-200 rounded-lg overflow-auto\",\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        className: \"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\",\n        children: \"Tree Structure (Simplified)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 179,\n        columnNumber: 17\n      }, this), treeData.length > 0 ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"whitespace-nowrap pt-5\",\n        children: renderTreeSimplified(treeData[0])\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 181,\n        columnNumber: 21\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"mt-20 text-center text-gray-500 italic\",\n        children: \"Tree is empty. Insert the first node to begin.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 185,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 178,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 155,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Constants ---\n_s(BSTVisualizer, \"F/Bh5RfURi7Cf3Nfij1t5WZYoq0=\");\n_c3 = BSTVisualizer;\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400;\nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80;\n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n  bubblesort: [\"function bubbleSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    for j from 0 to n - 2 - i:\", \"      // Compare & Highlight array[j] and array[j+1]\", \"      if array[j] > array[j+1]:\", \"        // Swap elements\", \"        swap(array[j], array[j+1])\", \"  return array\"],\n  mergesort: [\"function mergeSort(array):\", \"  if array.length <= 1: return array\", \"  mid = floor(array.length / 2)\", \"  left = mergeSort(array[0...mid])\", \"  right = mergeSort(array[mid...n])\", \"  return merge(left, right)\", \"\", \"function merge(left, right):\", \"  // Merging sub-arrays and placing back into the original array...\", \"  result = []\", \"  while left & right are not empty:\", \"    if left[0] <= right[0]:\", \"      result.push(left.shift())\", \"    else:\", \"      result.push(right.shift())\", \"  return result + left + right\"],\n  quicksort: [\"function quickSort(array, low, high):\", \"  if low < high:\", \"    // Partition the array\", \"    pi = partition(array, low, high)\", \"    // Recursively sort left and right sub-arrays\", \"    quickSort(array, low, pi - 1)\", \"    quickSort(array, pi + 1, high)\", \"\", \"function partition(array, low, high):\", \"  pivot = array[high] // Choose the last element as pivot\", \"  i = low - 1\", \"  for j from low to high - 1:\", \"    if array[j] < pivot:\", \"      i++\", \"      swap(array[i], array[j])\", \"  swap(array[i+1], array[high])\", \"  return i + 1\"],\n  shellsort: [\"function shellSort(array):\", \"  n = array.length\", \"  gap = floor(n / 2)\", \"  while gap > 0:\", \"    // Perform gapped insertion sort\", \"    for i from gap to n - 1:\", \"      temp = array[i]\", \"      j = i\", \"      while j >= gap and array[j - gap] > temp:\", \"        // Shift elements (Highlight comparison and shift)\", \"        array[j] = array[j - gap]\", \"        j = j - gap\", \"      // Place temp (Highlight placement)\", \"      array[j] = temp\", \"    gap = floor(gap / 2) // Reduce the gap\"],\n  selectionsort: [\"function selectionSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    // Assume current position i holds the minimum\", \"    minIndex = i\", \"    for j from i + 1 to n - 1:\", \"      // Highlight comparison between array[j] and array[minIndex]\", \"      if array[j] < array[minIndex]:\", \"        // Update the index of the minimum element\", \"        minIndex = j\", \"    // If a smaller element was found, swap it into position i\", \"    if minIndex is not i:\", \"      swap(array[i], array[minIndex])\", \"    // Position i is finalized\", \"  return array\"],\n  binarysearch: [\"function binarySearch(array, target):\", \"  // Array MUST be sorted\", \"  low = 0\", \"  high = array.length - 1\", \"  while low <= high:\", \"    mid = floor((low + high) / 2)\", \"    // Highlight mid element (array[mid])\", \"    if array[mid] == target:\", \"      return mid\", \"    else if array[mid] < target:\", \"      // Search right (New Low = mid + 1)\", \"      low = mid + 1\", \"    else:\", \"      // Search left (New High = mid - 1)\", \"      high = mid - 1\", \"  return -1\"],\n  linearsearch: [\"function linearSearch(array, target):\", \"  n = array.length\", \"  for i from 0 to n - 1:\", \"    // Highlight array[i]\", \"    if array[i] == target:\", \"      return i\", \"  return -1\"]\n};\n\n// --- Helper Functions (Imported from user code) ---\n\nconst generateRandomArray = size => {\n  return Array.from({\n    length: size\n  }, () => Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE);\n};\nconst parseCustomArray = inputString => {\n  const elements = inputString.split(',').map(s => {\n    const num = parseInt(s.trim());\n    return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n  }).filter(n => n !== null);\n  return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC (Imported from user code) ---\nconst getBubbleSortSteps = initialArray => {\n  /* ... implementation ... */\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  for (let i = 0; i < n - 1; i++) {\n    let swapped = false;\n    for (let j = 0; j < n - 1 - i; j++) {\n      steps.push({\n        array: [...array],\n        highlight_indices: [j, j + 1],\n        action: `Comparing array[${j}] and array[${j + 1}]`,\n        sorted_indices: [...sortedIndices]\n      });\n      if (array[j] > array[j + 1]) {\n        [array[j], array[j + 1]] = [array[j + 1], array[j]];\n        swapped = true;\n        steps.push({\n          array: [...array],\n          highlight_indices: [j, j + 1],\n          action: `Swapping ${array[j + 1]} and ${array[j]}`,\n          sorted_indices: [...sortedIndices]\n        });\n      }\n    }\n    if (n - 1 - i >= 0) {\n      sortedIndices.push(n - 1 - i);\n    }\n    if (!swapped) {\n      for (let k = 0; k < n - 1 - i; k++) {\n        if (!sortedIndices.includes(k)) {\n          sortedIndices.push(k);\n        }\n      }\n      break;\n    }\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Bubble Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\nconst getMergeSortSteps = initialArray => {\n  /* ... implementation ... */\n  const array = [...initialArray];\n  const steps = [];\n  const merge = (arr, start, mid, end) => {\n    const left = arr.slice(start, mid);\n    const right = arr.slice(mid, end);\n    let i = 0,\n      j = 0,\n      k = start;\n    steps.push({\n      array: [...array],\n      highlight_indices: Array.from({\n        length: end - start\n      }, (_, idx) => start + idx),\n      action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n    while (i < left.length && j < right.length) {\n      if (left[i] <= right[j]) {\n        array[k] = left[i];\n        i++;\n      } else {\n        array[k] = right[j];\n        j++;\n      }\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing element at index ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (i < left.length) {\n      array[k] = left[i];\n      i++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from left half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (j < right.length) {\n      array[k] = right[j];\n      j++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from right half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    steps.push({\n      array: [...array],\n      highlight_indices: [],\n      action: `Merged segment complete from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n  };\n  const mergeSortHelper = (arr, start, end) => {\n    if (end - start <= 1) return;\n    const mid = Math.floor((start + end) / 2);\n    mergeSortHelper(arr, start, mid);\n    mergeSortHelper(arr, mid, end);\n    merge(arr, start, mid, end);\n  };\n  mergeSortHelper(array, 0, array.length);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Merge Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\nconst getQuickSortSteps = initialArray => {\n  /* ... implementation ... */\n  const array = [...initialArray];\n  const steps = [];\n  const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: pivot_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  const partition = (arr, low, high, sortedIndices) => {\n    const pivot = arr[high];\n    let i = low - 1;\n    recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n    for (let j = low; j <= high - 1; j++) {\n      recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n      if (arr[j] < pivot) {\n        i++;\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n        recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n      }\n    }\n    const pivotIndex = i + 1;\n    [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n    recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n    return pivotIndex;\n  };\n  const sortedIndicesTracker = [];\n  const quickSortHelper = (arr, low, high) => {\n    if (low < high) {\n      const pi = partition(arr, low, high, sortedIndicesTracker);\n      if (!sortedIndicesTracker.includes(pi)) {\n        sortedIndicesTracker.push(pi);\n      }\n      quickSortHelper(arr, low, pi - 1);\n      quickSortHelper(arr, pi + 1, high);\n    } else if (low === high && low >= 0) {\n      if (!sortedIndicesTracker.includes(low)) {\n        sortedIndicesTracker.push(low);\n        recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n      }\n    }\n  };\n  quickSortHelper(array, 0, array.length - 1);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    action: \"Finished Quick Sort\",\n    highlight_indices: [],\n    pivot_index: null,\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\nconst getShellSortSteps = initialArray => {\n  /* ... implementation ... */\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let gap = Math.floor(n / 2);\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      gap: current_gap,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  while (gap > 0) {\n    recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n    for (let i = gap; i < n; i++) {\n      const temp = array[i];\n      let j = i;\n      recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n      while (j >= gap && array[j - gap] > temp) {\n        recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n        array[j] = array[j - gap];\n        recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        j -= gap;\n      }\n      array[j] = temp;\n      recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n    }\n    gap = Math.floor(gap / 2);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n  return steps;\n};\nconst getSelectionSortSteps = initialArray => {\n  /* ... implementation ... */\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: min_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  for (let i = 0; i < n - 1; i++) {\n    let minIndex = i;\n    recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n    for (let j = i + 1; j < n; j++) {\n      recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n      if (array[j] < array[minIndex]) {\n        minIndex = j;\n        recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n      }\n    }\n    if (minIndex !== i) {\n      [array[i], array[minIndex]] = [array[minIndex], array[i]];\n      recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n    } else {\n      recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n    }\n    sortedIndices.push(i);\n    recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n  }\n  if (n > 0 && !sortedIndices.includes(n - 1)) {\n    sortedIndices.push(n - 1);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, k) => k);\n  recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n  return steps;\n};\nconst getBinarySearchSteps = (arr, target) => {\n  /* ... implementation ... */\n  const steps = [];\n  const array = [...arr];\n  steps.push({\n    array: [...array],\n    action: `Search started for target ${target}. Array must be sorted.`,\n    low: 0,\n    high: array.length - 1,\n    mid: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: [],\n    isSearch: true\n  });\n  let low = 0;\n  let high = array.length - 1;\n  let found = false;\n  let mid = -1;\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n    steps.push({\n      array: [...array],\n      action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: false,\n      search_target: target,\n      highlight_indices: [mid],\n      isSearch: true\n    });\n    if (array[mid] === target) {\n      found = true;\n      break;\n    } else if (array[mid] < target) {\n      low = mid + 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isSearch: true\n      });\n    } else {\n      high = mid - 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isSearch: true\n      });\n    }\n  }\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: true,\n      search_target: target,\n      highlight_indices: [mid],\n      isSearch: true\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n      low: low,\n      high: high,\n      mid: -1,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isSearch: true\n    });\n  }\n  return steps;\n};\nconst getLinearSearchSteps = (arr, target) => {\n  /* ... implementation ... */\n  const steps = [];\n  const array = [...arr];\n  const n = array.length;\n  let found = false;\n  let foundIndex = -1;\n  steps.push({\n    array: [...array],\n    action: `Linear Search started for target ${target}.`,\n    current_index: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: [],\n    isLinearSearch: true\n  });\n  for (let i = 0; i < n; i++) {\n    steps.push({\n      array: [...array],\n      action: `Comparing element at index ${i}: Value is ${array[i]}`,\n      current_index: i,\n      found: false,\n      search_target: target,\n      highlight_indices: [i],\n      isLinearSearch: true\n    });\n    if (array[i] === target) {\n      found = true;\n      foundIndex = i;\n      break;\n    }\n    steps.push({\n      array: [...array],\n      action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n      current_index: i,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isLinearSearch: true\n    });\n  }\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n      current_index: foundIndex,\n      found: true,\n      search_target: target,\n      highlight_indices: [foundIndex],\n      isLinearSearch: true\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n      current_index: n - 1,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isLinearSearch: true\n    });\n  }\n  return steps;\n};\n\n// --- Main App Component ---\nexport default function App() {\n  _s2();\n  const [currentView, setCurrentView] = useState('sort');\n\n  // Sorting/Searching Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"binarysearch\");\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n\n  // State for Search Algorithms\n  const [searchTarget, setSearchTarget] = useState(50);\n\n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\", \"linearsearch\"].includes(selectedAlgorithm);\n\n  // Calculate bar width based on container width and number of elements\n  const barWidth = 700 / currentArray.length - 2; // Max 700px width for visualization container\n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n    if (isAnimating) handleStartStopAnimation();\n    const newArray = generateRandomArray(size);\n    setInputArray(newArray);\n    setCustomInputData(\"\");\n    setArraySize(size);\n    if (isSearchAlgorithm && newArray.length > 0) {\n      setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n    } else {\n      setSearchTarget(50);\n    }\n  };\n  const handleLoadCustomArray = () => {\n    if (isAnimating) handleStartStopAnimation();\n    const newArray = parseCustomArray(customInputData);\n    if (newArray.length > 0 && newArray.length <= 50) {\n      setInputArray(newArray);\n      setArraySize(newArray.length);\n      setLoadingError(null);\n      if (isSearchAlgorithm && newArray.length > 0) {\n        setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n      } else {\n        setSearchTarget(50);\n      }\n    } else if (newArray.length > 50) {\n      setLoadingError(\"Maximum array size for custom input is 50 elements.\");\n    } else {\n      setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n    }\n  };\n  const handleSearchClick = () => {\n    // Force regeneration in useEffect by updating the target (even if the number value is the same, \n    // we use a trick to force state update, but the number will be rounded in useEffect)\n    const newTarget = Number(searchTarget) + 0.0000001;\n    setSearchTarget(newTarget);\n    setTimeout(() => setSearchTarget(Math.round(Number(searchTarget))), 10);\n  };\n\n  // --- Animation Control Logic ---\n\n  // Function to handle the step-by-step animation\n  const animate = useCallback(() => {\n    if (!steps || currentStepIndex >= steps.length - 1) {\n      setIsAnimating(false);\n      return;\n    }\n    const nextStepIndex = currentStepIndex + 1;\n    setCurrentStepIndex(nextStepIndex);\n    animationRef.current = setTimeout(() => {\n      animate();\n    }, speed);\n  }, [currentStepIndex, steps, speed]);\n\n  // Start/Stop Animation handler\n  const handleStartStopAnimation = useCallback(() => {\n    if (isAnimating) {\n      if (animationRef.current) {\n        clearTimeout(animationRef.current);\n      }\n      setIsAnimating(false);\n    } else {\n      if (isSortingComplete) {\n        setCurrentStepIndex(0);\n      }\n      setIsAnimating(true);\n    }\n  }, [isAnimating, isSortingComplete]);\n\n  // Effect to control the animation loop start/stop\n  useEffect(() => {\n    if (isAnimating) {\n      animate();\n    } else if (animationRef.current) {\n      clearTimeout(animationRef.current);\n    }\n\n    // Cleanup function\n    return () => {\n      if (animationRef.current) {\n        clearTimeout(animationRef.current);\n      }\n    };\n  }, [isAnimating, animate]); // Dependencies: isAnimating, and the memoized animate function\n\n  // Step controls\n  const handleStepBack = () => {\n    if (isAnimating) handleStartStopAnimation();\n    setCurrentStepIndex(prev => Math.max(0, prev - 1));\n  };\n  const handleStepForward = () => {\n    if (isAnimating) handleStartStopAnimation();\n    if (steps && currentStepIndex < steps.length - 1) {\n      setCurrentStepIndex(prev => prev + 1);\n    }\n  };\n  const handleReset = () => {\n    if (isAnimating) handleStartStopAnimation();\n    setCurrentStepIndex(0);\n  };\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    // Resetting animation when starting a new visualization\n    if (animationRef.current) {\n      clearTimeout(animationRef.current);\n      setIsAnimating(false);\n    }\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    if (!isSupportedAlgorithm) {\n      setLoadingError(`Algorithm ${selectedAlgorithm} is unsupported.`);\n      return;\n    }\n    let processedArray = inputArray.map(val => Number(val));\n    let displayArray = [...inputArray]; // Array shown in the UI\n\n    const target = isNaN(Number(searchTarget)) ? 0 : Math.round(Number(searchTarget));\n\n    // Binary Search REQUIRES a sorted array.\n    if (selectedAlgorithm === \"binarysearch\") {\n      processedArray.sort((a, b) => a - b);\n      displayArray = processedArray; // Update display to sorted version\n    } else if (selectedAlgorithm !== \"linearsearch\") {\n      processedArray = [...inputArray];\n    }\n    let newSteps = [];\n    try {\n      if (selectedAlgorithm === \"bubblesort\") {\n        newSteps = getBubbleSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"mergesort\") {\n        newSteps = getMergeSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"quicksort\") {\n        newSteps = getQuickSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"shellsort\") {\n        newSteps = getShellSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"selectionsort\") {\n        newSteps = getSelectionSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"binarysearch\") {\n        // Use the sorted array and the target\n        newSteps = getBinarySearchSteps(processedArray, target);\n      } else if (selectedAlgorithm === \"linearsearch\") {\n        // Use the original unsorted array and the target\n        newSteps = getLinearSearchSteps(displayArray, target);\n      }\n      setSteps(newSteps);\n      // Important: Update inputArray state with the sorted array ONLY if it was used for BS\n      if (selectedAlgorithm === \"binarysearch\") {\n        setInputArray(displayArray);\n      }\n    } catch (error) {\n      console.error(\"Error generating steps:\", error);\n      setLoadingError(`An error occurred: ${error.message}`);\n    }\n  }, [inputArray, selectedAlgorithm, searchTarget, currentView]);\n\n  // --- Render Functions ---\n\n  const renderSortingVisualizer = () => {\n    const currentLow = currentStep === null || currentStep === void 0 ? void 0 : currentStep.low;\n    const currentHigh = currentStep === null || currentStep === void 0 ? void 0 : currentStep.high;\n    const currentMid = currentStep === null || currentStep === void 0 ? void 0 : currentStep.mid;\n    const isFound = currentStep === null || currentStep === void 0 ? void 0 : currentStep.found;\n    const isLinearCheck = currentStep === null || currentStep === void 0 ? void 0 : currentStep.isLinearSearch;\n    const currentTarget = Math.round(Number(searchTarget)); // Use the rounded target for display\n\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex flex-col gap-6 p-4 md:p-8 bg-white rounded-lg shadow-xl\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-col md:flex-row gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-1/3 flex flex-col gap-4 p-4 border rounded-lg bg-gray-50 shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-bold text-gray-800 border-b pb-2\",\n            children: \"Visualization Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1040,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-sm font-medium text-gray-700 mb-1\",\n              children: \"Select Algorithm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1044,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n              value: selectedAlgorithm,\n              onChange: e => {\n                setSelectedAlgorithm(e.target.value);\n                handleReset();\n              },\n              className: \"w-full p-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bubblesort\",\n                children: \"Bubble Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1053,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quicksort\",\n                children: \"Quick Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1054,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"mergesort\",\n                children: \"Merge Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1055,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"selectionsort\",\n                children: \"Selection Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1056,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"shellsort\",\n                children: \"Shell Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1057,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"linearsearch\",\n                children: \"Linear Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1058,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"binarysearch\",\n                children: \"Binary Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1059,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1045,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: [\"Array Size (\", arraySize, \")\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1066,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"5\",\n                max: \"50\",\n                value: arraySize,\n                onChange: e => setArraySize(Number(e.target.value)),\n                onMouseUp: () => handleGenerateNewArray(Number(arraySize)),\n                className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1067,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1065,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex-1\",\n              children: [/*#__PURE__*/_jsxDEV(\"label\", {\n                className: \"block text-sm font-medium text-gray-700 mb-1\",\n                children: \"Speed (ms)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1078,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"range\",\n                min: \"10\",\n                max: \"500\",\n                value: speed,\n                onChange: e => setSpeed(Number(e.target.value)),\n                className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1079,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1077,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1064,\n            columnNumber: 23\n          }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"Search Target\",\n              value: currentTarget,\n              onChange: e => setSearchTarget(e.target.value),\n              className: \"w-full p-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 31\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSearchClick,\n              className: \"px-4 py-2 bg-teal-500 text-white font-semibold rounded-lg shadow-md hover:bg-teal-600 transition duration-150 ease-in-out disabled:opacity-50\",\n              disabled: isAnimating || !isSupportedAlgorithm,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1100,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 27\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex flex-col gap-2 mt-2\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleGenerateNewArray(),\n              className: \"w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150 ease-in-out\",\n              disabled: isAnimating,\n              children: \"Generate New Array\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1112,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1111,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              className: \"block text-xs font-medium text-gray-700 mb-1\",\n              children: \"Custom Array (e.g., 5,12,3,40)\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1123,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex gap-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"input\", {\n                type: \"text\",\n                placeholder: \"Comma-separated values\",\n                value: customInputData,\n                onChange: e => setCustomInputData(e.target.value),\n                className: \"w-full p-2 border border-gray-300 rounded-lg bg-white text-xs\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1125,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                onClick: handleLoadCustomArray,\n                className: \"px-3 py-2 bg-indigo-500 text-white text-xs font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition duration-150 ease-in-out disabled:opacity-50 whitespace-nowrap\",\n                disabled: isAnimating || customInputData.length === 0,\n                children: \"Load\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1132,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1124,\n              columnNumber: 27\n            }, this), loadingError && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-red-500 text-xs mt-1\",\n              children: loadingError\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1140,\n              columnNumber: 44\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1122,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"md:w-2/3 flex flex-col gap-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"min-h-[400px] border-b-2 border-gray-200 flex items-end justify-center pt-20\",\n            children: /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"flex items-end max-w-[700px] w-full h-[350px] pb-4 px-2\",\n              style: {\n                maxHeight: `${MAX_ARRAY_VALUE}px`\n              },\n              children: currentArray.map((value, index) => /*#__PURE__*/_jsxDEV(ArrayBar, {\n                value: value,\n                height: value,\n                width: barWidth,\n                isHighlighted: highlightIndices.includes(index),\n                isPivot: index === pivotIndex,\n                isSorted: sortedIndices.includes(index) && !isSearchAlgorithm\n                // Search specific props\n                ,\n                isSearchMid: index === currentMid,\n                isFound: isFound && (index === currentMid || index === (currentStep === null || currentStep === void 0 ? void 0 : currentStep.current_index)),\n                isSearchRange: isSearchAlgorithm && index >= currentLow && index <= currentHigh,\n                isLinearCheck: isLinearCheck && index === (currentStep === null || currentStep === void 0 ? void 0 : currentStep.current_index)\n              }, index, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1154,\n                columnNumber: 35\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1149,\n              columnNumber: 27\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1148,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center gap-4 bg-gray-50 p-4 rounded-lg shadow-inner\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleReset,\n              className: \"px-4 py-2 bg-gray-400 text-white rounded-full text-sm font-semibold hover:bg-gray-500 disabled:opacity-50\",\n              disabled: isAnimating || currentStepIndex === 0,\n              children: \"Reset\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStepBack,\n              className: \"px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-semibold hover:bg-yellow-600 disabled:opacity-50\",\n              disabled: isAnimating || currentStepIndex === 0,\n              children: \"\\u2190 Step\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1181,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStartStopAnimation,\n              className: `px-6 py-3 font-extrabold rounded-full shadow-lg transition-all duration-200 ${isAnimating ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'} text-white disabled:opacity-50`,\n              disabled: !steps || isSortingComplete && !isAnimating,\n              children: isAnimating ? 'Pause' : isSortingComplete ? 'Re-Run' : 'Start'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1188,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStepForward,\n              className: \"px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-semibold hover:bg-yellow-600 disabled:opacity-50\",\n              disabled: isAnimating || isSortingComplete,\n              children: \"Step \\u2192\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1195,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"text-sm font-medium text-gray-700\",\n              children: [\"Step \", currentStepIndex + 1, \" / \", steps ? steps.length : 0]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1202,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1173,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"grid grid-cols-1 lg:grid-cols-2 gap-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-blue-50 border border-blue-200 rounded-lg\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-blue-800 mb-2\",\n                children: \"Current Action\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1210,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                className: `font-mono text-sm ${currentStep !== null && currentStep !== void 0 && currentStep.found ? 'text-emerald-600 font-bold' : 'text-gray-700'}`,\n                children: (currentStep === null || currentStep === void 0 ? void 0 : currentStep.action) || 'Press Start or Step to begin.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1211,\n                columnNumber: 31\n              }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"p\", {\n                className: \"mt-2 text-xs text-gray-600\",\n                children: selectedAlgorithm === 'binarysearch' ? `Range: [${currentStep === null || currentStep === void 0 ? void 0 : currentStep.low}, ${currentStep === null || currentStep === void 0 ? void 0 : currentStep.high}]` : `Target: ${currentTarget}`\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1215,\n                columnNumber: 35\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1209,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"p-4 bg-gray-100 rounded-lg shadow-inner overflow-auto max-h-40\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-lg font-semibold text-gray-800 mb-2\",\n                children: \"Pseudocode\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1225,\n                columnNumber: 31\n              }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n                className: \"text-xs font-mono text-gray-600\",\n                children: currentPseudocode ? currentPseudocode.join('\\n') : 'Select an algorithm.'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1226,\n                columnNumber: 31\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1224,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1208,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1145,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1037,\n        columnNumber: 15\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1036,\n      columnNumber: 11\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-100 p-4 sm:p-8 font-['Inter']\",\n    children: [/*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl md:text-4xl font-extrabold text-center text-gray-900\",\n        children: \"Algorithm Visualizer & Playground\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1241,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"nav\", {\n        className: \"flex justify-center mt-4 border-b pb-2\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView('sort'),\n          className: `px-4 py-2 text-lg font-medium transition-colors duration-150 ${currentView === 'sort' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Sorting & Searching\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1245,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => setCurrentView('bst'),\n          className: `px-4 py-2 text-lg font-medium transition-colors duration-150 ${currentView === 'bst' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`,\n          children: \"Binary Search Tree\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1251,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1244,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1240,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"max-w-7xl mx-auto\",\n      children: [currentView === 'sort' && renderSortingVisualizer(), currentView === 'bst' && /*#__PURE__*/_jsxDEV(BSTVisualizer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1262,\n        columnNumber: 39\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1260,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1239,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"R1QOLiV8WMayHS/QH93UNQbiovc=\");\n_c4 = App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ArrayBar$React.memo\");\n$RefreshReg$(_c2, \"ArrayBar\");\n$RefreshReg$(_c3, \"BSTVisualizer\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","jsxDEV","_jsxDEV","ArrayBar","memo","_c","value","height","width","isHighlighted","isPivot","isSorted","isSearchMid","isSearchRange","isFound","isLinearCheck","color","opacity","undefined","finalWidth","className","style","margin","fontSize","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","BSTVisualizer","_s","treeData","setTreeData","inputValue","setInputValue","message","setMessage","insertNode","data","left","right","handleInsert","num","parseInt","isNaN","newTreeData","length","push","renderNode","node","renderTreeSimplified","type","onChange","e","target","placeholder","min","max","onClick","disabled","_c3","DEFAULT_ARRAY_SIZE","MAX_ARRAY_VALUE","MIN_ARRAY_VALUE","ANIMATION_SPEED_MS","PSEUDOCODE","bubblesort","mergesort","quicksort","shellsort","selectionsort","binarysearch","linearsearch","generateRandomArray","size","Array","from","Math","floor","random","parseCustomArray","inputString","elements","split","map","s","trim","filter","n","getBubbleSortSteps","initialArray","array","steps","sortedIndices","i","swapped","j","highlight_indices","action","sorted_indices","k","includes","finalSortedIndices","_","getMergeSortSteps","merge","arr","start","mid","end","slice","idx","mergeSortHelper","getQuickSortSteps","recordStep","pivot_index","partition","low","high","pivot","pivotIndex","sortedIndicesTracker","quickSortHelper","pi","getShellSortSteps","gap","current_gap","temp","getSelectionSortSteps","min_index","minIndex","getBinarySearchSteps","found","search_target","isSearch","getLinearSearchSteps","foundIndex","current_index","isLinearSearch","App","_s2","currentView","setCurrentView","setSteps","currentStepIndex","setCurrentStepIndex","selectedAlgorithm","setSelectedAlgorithm","loadingError","setLoadingError","inputArray","setInputArray","arraySize","setArraySize","customInputData","setCustomInputData","speed","setSpeed","searchTarget","setSearchTarget","isAnimating","setIsAnimating","animationRef","currentStep","currentArray","highlightIndices","isSortingComplete","currentPseudocode","isSearchAlgorithm","isSupportedAlgorithm","barWidth","handleGenerateNewArray","handleStartStopAnimation","newArray","handleLoadCustomArray","handleSearchClick","newTarget","Number","setTimeout","round","animate","nextStepIndex","current","clearTimeout","handleStepBack","prev","handleStepForward","handleReset","processedArray","val","displayArray","sort","a","b","newSteps","error","console","renderSortingVisualizer","currentLow","currentHigh","currentMid","currentTarget","onMouseUp","maxHeight","index","join","_c4","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\n\n// Load Tailwind CSS script (assumed available in React environment, but added for completeness)\n/* // For production use, Tailwind classes are assumed to be processed:\n// import './tailwind.css'; \n*/\n\n\n// --- Components ---\n\n/**\n * ArrayBar Component: Displays a single element in the array visualization.\n * It handles color coding based on the algorithm state.\n */\nconst ArrayBar = React.memo(({ value, height, width, isHighlighted, isPivot, isSorted, isSearchMid, isSearchRange, isFound, isLinearCheck }) => {\n    \n    // Default color is Blue\n    let color = 'bg-blue-500'; \n    let opacity = 'opacity-100';\n\n    // --- Search Mode Logic ---\n    if (isSearchMid || isSearchRange || isFound) {\n        // Elements in the current search range (Binary Search)\n        color = 'bg-blue-400'; \n        opacity = 'opacity-100';\n        \n        if (isSearchMid) {\n            // Mid element (Binary Search)\n            color = 'bg-amber-500'; // Amber/Mid\n        }\n        \n        if (isFound) {\n            // Found element (Both Search Algorithms)\n            color = 'bg-emerald-500'; // Emerald/Found\n        }\n    } else if (isSearchMid === false && isSearchRange === false && value && (isSearchRange !== undefined)) { \n        // Excluded elements during Binary Search (isSearchRange check ensures this only applies to BS)\n        opacity = 'opacity-30';\n        color = 'bg-gray-400';\n    }\n    \n    // Linear Search Specific Color\n    if (isLinearCheck) {\n        color = 'bg-red-500'; // Red for comparison check\n        if (isFound) {\n            color = 'bg-emerald-500'; // Emerald/Found\n        }\n    }\n\n\n    // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n    if (isSorted) {\n        color = 'bg-green-500';\n        opacity = 'opacity-100';\n    } else if (isPivot && !isSearchRange) {\n        color = 'bg-purple-600'; // Purple for Pivot/MinIndex\n    } else if (isHighlighted && !isSearchRange && !isSearchMid && !isLinearCheck) {\n        color = 'bg-orange-500'; // Orange for comparison/swap\n    }\n\n    const finalWidth = width > 0 ? `${width}px` : 'auto';\n\n    return (\n        <div \n            className={`transition-all duration-100 ease-linear rounded-t-sm shadow-md flex items-end justify-center text-white font-bold relative ${color} ${opacity}`}\n            style={{\n                height: `${height}px`,\n                width: finalWidth,\n                margin: '0 1px',\n                fontSize: width > 20 ? '10px' : '8px',\n            }}\n            title={`Value: ${value}`}\n        >\n            {/* Show value for bars wide enough */}\n            {width > 20 && value}\n        </div>\n    );\n});\n\n/**\n * BSTVisualizer Component: Placeholder for the Binary Search Tree visualization view.\n */\nconst BSTVisualizer = () => {\n    const [treeData, setTreeData] = useState([]);\n    const [inputValue, setInputValue] = useState('');\n    const [message, setMessage] = useState('Enter a number to build the BST.');\n\n    const insertNode = useCallback((data, value) => {\n        if (!data) return { value: value, left: null, right: null };\n        if (value < data.value) {\n            data.left = insertNode(data.left, value);\n        } else if (value > data.value) {\n            data.right = insertNode(data.right, value);\n        }\n        return data;\n    }, []);\n\n    const handleInsert = () => {\n        const num = parseInt(inputValue);\n        if (isNaN(num)) {\n            setMessage('Please enter a valid number.');\n            return;\n        }\n\n        let newTreeData = [...treeData];\n        if (newTreeData.length === 0) {\n            newTreeData.push({ value: num, left: null, right: null });\n        } else {\n            newTreeData = [insertNode(newTreeData[0], num)];\n        }\n\n        setTreeData(newTreeData);\n        setInputValue('');\n        setMessage(`Inserted ${num}. Try inserting another number.`);\n    };\n\n    const renderNode = (node) => {\n        if (!node) return null;\n        return (\n            <div className=\"flex flex-col items-center\">\n                <div className=\"w-10 h-10 flex items-center justify-center bg-teal-500 text-white rounded-full shadow-lg border-2 border-teal-700\">\n                    {node.value}\n                </div>\n                {(node.left || node.right) && (\n                    <div className=\"flex w-full justify-between mt-2\">\n                        <div className=\"w-1/2 flex justify-start pl-2\">\n                            {node.left && <div className=\"border-l-2 border-b-2 border-gray-400 w-full h-4 absolute top-10 left-0\"></div>}\n                            <div className=\"mt-4\">{renderNode(node.left)}</div>\n                        </div>\n                        <div className=\"w-1/2 flex justify-end pr-2\">\n                            {node.right && <div className=\"border-r-2 border-b-2 border-gray-400 w-full h-4 absolute top-10 right-0\"></div>}\n                            <div className=\"mt-4\">{renderNode(node.right)}</div>\n                        </div>\n                    </div>\n                )}\n            </div>\n        );\n    };\n    \n    // A simplified visualizer is used here since recursive rendering in a flat container is hard.\n    const renderTreeSimplified = (node) => {\n         if (!node) return ' (Empty)';\n         return (\n            <span className=\"font-mono text-sm\">\n                <span className=\"text-teal-600 font-bold\">[{node.value}]</span>\n                <span className=\"ml-1 text-gray-500\">L:</span>\n                <span className=\"ml-0.5\">{renderTreeSimplified(node.left)}</span>\n                <span className=\"ml-3 text-gray-500\">R:</span>\n                <span className=\"ml-0.5\">{renderTreeSimplified(node.right)}</span>\n            </span>\n         );\n    };\n\n    return (\n        <div className=\"p-4 md:p-8 bg-white rounded-lg shadow-xl mt-6\">\n            <h1 className=\"text-2xl font-extrabold text-gray-800 mb-2\">Binary Search Tree Visualizer</h1>\n            <p className=\"text-sm text-gray-600 mb-4\">{message}</p>\n            \n            <div className=\"flex flex-col sm:flex-row gap-3 mb-6\">\n                <input\n                    type=\"number\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    placeholder=\"Enter number (0-999)\"\n                    className=\"p-3 border border-gray-300 rounded-lg focus:ring-blue-500 focus:border-blue-500 min-w-40\"\n                    min=\"0\"\n                    max=\"999\"\n                />\n                <button \n                    onClick={handleInsert} \n                    className=\"px-6 py-3 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150 ease-in-out disabled:opacity-50\"\n                    disabled={!inputValue || isNaN(parseInt(inputValue))}\n                >\n                    Insert Node\n                </button>\n            </div>\n            \n            <div className=\"min-h-[400px] bg-gray-50 p-5 border border-gray-200 rounded-lg overflow-auto\">\n                <h3 className=\"text-lg font-semibold text-gray-700 mb-3 border-b pb-2\">Tree Structure (Simplified)</h3>\n                {treeData.length > 0 ? (\n                    <div className=\"whitespace-nowrap pt-5\">\n                       {renderTreeSimplified(treeData[0])}\n                    </div>\n                ) : (\n                    <p className=\"mt-20 text-center text-gray-500 italic\">Tree is empty. Insert the first node to begin.</p>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n// --- Constants ---\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400; \nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80; \n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n    bubblesort: [\n        \"function bubbleSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    for j from 0 to n - 2 - i:\",\n        \"      // Compare & Highlight array[j] and array[j+1]\",\n        \"      if array[j] > array[j+1]:\",\n        \"        // Swap elements\",\n        \"        swap(array[j], array[j+1])\",\n        \"  return array\"\n    ],\n    mergesort: [\n        \"function mergeSort(array):\",\n        \"  if array.length <= 1: return array\",\n        \"  mid = floor(array.length / 2)\",\n        \"  left = mergeSort(array[0...mid])\",\n        \"  right = mergeSort(array[mid...n])\",\n        \"  return merge(left, right)\",\n        \"\",\n        \"function merge(left, right):\",\n        \"  // Merging sub-arrays and placing back into the original array...\",\n        \"  result = []\",\n        \"  while left & right are not empty:\",\n        \"    if left[0] <= right[0]:\",\n        \"      result.push(left.shift())\",\n        \"    else:\",\n        \"      result.push(right.shift())\",\n        \"  return result + left + right\"\n    ],\n    quicksort: [\n        \"function quickSort(array, low, high):\",\n        \"  if low < high:\",\n        \"    // Partition the array\",\n        \"    pi = partition(array, low, high)\",\n        \"    // Recursively sort left and right sub-arrays\",\n        \"    quickSort(array, low, pi - 1)\",\n        \"    quickSort(array, pi + 1, high)\",\n        \"\",\n        \"function partition(array, low, high):\",\n        \"  pivot = array[high] // Choose the last element as pivot\",\n        \"  i = low - 1\",\n        \"  for j from low to high - 1:\",\n        \"    if array[j] < pivot:\",\n        \"      i++\",\n        \"      swap(array[i], array[j])\",\n        \"  swap(array[i+1], array[high])\",\n        \"  return i + 1\"\n    ],\n    shellsort: [\n        \"function shellSort(array):\",\n        \"  n = array.length\",\n        \"  gap = floor(n / 2)\",\n        \"  while gap > 0:\",\n        \"    // Perform gapped insertion sort\",\n        \"    for i from gap to n - 1:\",\n        \"      temp = array[i]\",\n        \"      j = i\",\n        \"      while j >= gap and array[j - gap] > temp:\",\n        \"        // Shift elements (Highlight comparison and shift)\",\n        \"        array[j] = array[j - gap]\",\n        \"        j = j - gap\",\n        \"      // Place temp (Highlight placement)\",\n        \"      array[j] = temp\",\n        \"    gap = floor(gap / 2) // Reduce the gap\"\n    ],\n    selectionsort: [\n        \"function selectionSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    // Assume current position i holds the minimum\",\n        \"    minIndex = i\",\n        \"    for j from i + 1 to n - 1:\",\n        \"      // Highlight comparison between array[j] and array[minIndex]\",\n        \"      if array[j] < array[minIndex]:\",\n        \"        // Update the index of the minimum element\",\n        \"        minIndex = j\",\n        \"    // If a smaller element was found, swap it into position i\",\n        \"    if minIndex is not i:\",\n        \"      swap(array[i], array[minIndex])\",\n        \"    // Position i is finalized\",\n        \"  return array\"\n    ],\n    binarysearch: [\n        \"function binarySearch(array, target):\",\n        \"  // Array MUST be sorted\",\n        \"  low = 0\",\n        \"  high = array.length - 1\",\n        \"  while low <= high:\",\n        \"    mid = floor((low + high) / 2)\",\n        \"    // Highlight mid element (array[mid])\",\n        \"    if array[mid] == target:\",\n        \"      return mid\",\n        \"    else if array[mid] < target:\",\n        \"      // Search right (New Low = mid + 1)\",\n        \"      low = mid + 1\",\n        \"    else:\",\n        \"      // Search left (New High = mid - 1)\",\n        \"      high = mid - 1\",\n        \"  return -1\"\n    ],\n    linearsearch: [\n        \"function linearSearch(array, target):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 1:\",\n        \"    // Highlight array[i]\",\n        \"    if array[i] == target:\",\n        \"      return i\",\n        \"  return -1\"\n    ]\n};\n\n// --- Helper Functions (Imported from user code) ---\n\nconst generateRandomArray = (size) => {\n    return Array.from({ length: size }, () => \n        Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE\n    );\n};\n\nconst parseCustomArray = (inputString) => {\n    const elements = inputString.split(',')\n        .map(s => {\n            const num = parseInt(s.trim());\n            return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n        })\n        .filter(n => n !== null);\n    return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC (Imported from user code) ---\nconst getBubbleSortSteps = (initialArray) => { /* ... implementation ... */\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    for (let i = 0; i < n - 1; i++) {\n        let swapped = false;\n        for (let j = 0; j < n - 1 - i; j++) {\n            steps.push({\n                array: [...array], \n                highlight_indices: [j, j + 1], \n                action: `Comparing array[${j}] and array[${j + 1}]`,\n                sorted_indices: [...sortedIndices]\n            });\n\n            if (array[j] > array[j + 1]) {\n                [array[j], array[j + 1]] = [array[j + 1], array[j]];\n                swapped = true;\n                steps.push({\n                    array: [...array], \n                    highlight_indices: [j, j + 1], \n                    action: `Swapping ${array[j+1]} and ${array[j]}`, \n                    sorted_indices: [...sortedIndices]\n                });\n            }\n        }\n        \n        if (n - 1 - i >= 0) {\n            sortedIndices.push(n - 1 - i);\n        }\n\n        if (!swapped) {\n            for (let k = 0; k < n - 1 - i; k++) {\n                if (!sortedIndices.includes(k)) {\n                     sortedIndices.push(k);\n                }\n            }\n            break;\n        }\n    }\n\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Bubble Sort\",\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\nconst getMergeSortSteps = (initialArray) => { /* ... implementation ... */\n    const array = [...initialArray];\n    const steps = [];\n    \n    const merge = (arr, start, mid, end) => {\n        const left = arr.slice(start, mid);\n        const right = arr.slice(mid, end);\n        let i = 0, j = 0, k = start;\n\n        steps.push({\n            array: [...array],\n            highlight_indices: Array.from({ length: end - start }, (_, idx) => start + idx),\n            action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n            sorted_indices: []\n        });\n\n        while (i < left.length && j < right.length) {\n            if (left[i] <= right[j]) {\n                array[k] = left[i];\n                i++;\n            } else {\n                array[k] = right[j];\n                j++;\n            }\n            k++;\n            \n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1], \n                action: `Placing element at index ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n\n        while (i < left.length) {\n            array[k] = left[i];\n            i++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from left half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        while (j < right.length) {\n            array[k] = right[j];\n            j++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from right half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        \n        steps.push({\n            array: [...array],\n            highlight_indices: [],\n            action: `Merged segment complete from index ${start} to ${end - 1}`,\n            sorted_indices: [] \n        });\n    };\n\n    const mergeSortHelper = (arr, start, end) => {\n        if (end - start <= 1) return;\n        \n        const mid = Math.floor((start + end) / 2);\n        mergeSortHelper(arr, start, mid);\n        mergeSortHelper(arr, mid, end);\n        merge(arr, start, mid, end);\n    };\n\n    mergeSortHelper(array, 0, array.length);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Merge Sort\",\n        sorted_indices: finalSortedIndices\n    });\n    \n    return steps;\n};\n\nconst getQuickSortSteps = (initialArray) => { /* ... implementation ... */\n    const array = [...initialArray];\n    const steps = [];\n\n    const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: pivot_index,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    const partition = (arr, low, high, sortedIndices) => {\n        const pivot = arr[high]; \n        let i = low - 1; \n\n        recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n\n        for (let j = low; j <= high - 1; j++) {\n            recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n            \n            if (arr[j] < pivot) {\n                i++;\n                [arr[i], arr[j]] = [arr[j], arr[i]];\n                recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n            }\n        }\n\n        const pivotIndex = i + 1;\n        [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n        \n        recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n\n        return pivotIndex;\n    };\n\n    const sortedIndicesTracker = [];\n\n    const quickSortHelper = (arr, low, high) => {\n        if (low < high) {\n            const pi = partition(arr, low, high, sortedIndicesTracker);\n\n            if (!sortedIndicesTracker.includes(pi)) {\n                sortedIndicesTracker.push(pi);\n            }\n\n            quickSortHelper(arr, low, pi - 1);\n            quickSortHelper(arr, pi + 1, high);\n        } else if (low === high && low >= 0) {\n            if (!sortedIndicesTracker.includes(low)) {\n                sortedIndicesTracker.push(low);\n                recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n            }\n        }\n    };\n\n    quickSortHelper(array, 0, array.length - 1);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        action: \"Finished Quick Sort\",\n        highlight_indices: [],\n        pivot_index: null,\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\nconst getShellSortSteps = (initialArray) => { /* ... implementation ... */\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let gap = Math.floor(n / 2);\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            gap: current_gap,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    while (gap > 0) {\n        recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n\n        for (let i = gap; i < n; i++) {\n            const temp = array[i];\n            let j = i;\n\n            recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n            while (j >= gap && array[j - gap] > temp) {\n                recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n                \n                array[j] = array[j - gap];\n                \n                recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n                \n                j -= gap;\n            }\n            \n            array[j] = temp;\n            \n            recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        }\n\n        gap = Math.floor(gap / 2);\n    }\n    \n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n\n    return steps;\n};\n\nconst getSelectionSortSteps = (initialArray) => { /* ... implementation ... */\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: min_index, \n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    for (let i = 0; i < n - 1; i++) {\n        let minIndex = i;\n        \n        recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n\n        for (let j = i + 1; j < n; j++) {\n            recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n\n            if (array[j] < array[minIndex]) {\n                minIndex = j;\n                recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n            }\n        }\n\n        if (minIndex !== i) {\n            [array[i], array[minIndex]] = [array[minIndex], array[i]];\n            recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n        } else {\n             recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n        }\n        \n        sortedIndices.push(i);\n        recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n    }\n    \n    if (n > 0 && !sortedIndices.includes(n - 1)) {\n        sortedIndices.push(n - 1);\n    }\n\n    const finalSortedIndices = Array.from({ length: n }, (_, k) => k);\n    recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n\n    return steps;\n};\n\nconst getBinarySearchSteps = (arr, target) => { /* ... implementation ... */\n    const steps = [];\n    const array = [...arr];\n\n    steps.push({\n        array: [...array],\n        action: `Search started for target ${target}. Array must be sorted.`,\n        low: 0,\n        high: array.length - 1,\n        mid: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [], \n        isSearch: true,\n    });\n\n    let low = 0;\n    let high = array.length - 1;\n    let found = false;\n    let mid = -1;\n\n    while (low <= high) {\n        mid = Math.floor((low + high) / 2);\n\n        steps.push({\n            array: [...array],\n            action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: false,\n            search_target: target,\n            highlight_indices: [mid],\n            isSearch: true,\n        });\n\n        if (array[mid] === target) {\n            found = true;\n            break;\n        } else if (array[mid] < target) {\n            low = mid + 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n                isSearch: true,\n            });\n        } else {\n            high = mid - 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n                isSearch: true,\n            });\n        }\n    }\n\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: true,\n            search_target: target,\n            highlight_indices: [mid],\n            isSearch: true,\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n            low: low,\n            high: high,\n            mid: -1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n            isSearch: true,\n        });\n    }\n\n    return steps;\n};\n\nconst getLinearSearchSteps = (arr, target) => { /* ... implementation ... */\n    const steps = [];\n    const array = [...arr];\n    const n = array.length;\n    let found = false;\n    let foundIndex = -1;\n\n    steps.push({\n        array: [...array],\n        action: `Linear Search started for target ${target}.`,\n        current_index: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isLinearSearch: true,\n    });\n\n    for (let i = 0; i < n; i++) {\n        \n        steps.push({\n            array: [...array],\n            action: `Comparing element at index ${i}: Value is ${array[i]}`,\n            current_index: i,\n            found: false,\n            search_target: target,\n            highlight_indices: [i],\n            isLinearSearch: true,\n        });\n        \n        if (array[i] === target) {\n            found = true;\n            foundIndex = i;\n            break;\n        }\n\n        steps.push({\n            array: [...array],\n            action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n            current_index: i,\n            found: false,\n            search_target: target,\n            highlight_indices: [], \n            isLinearSearch: true,\n        });\n    }\n\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n            current_index: foundIndex,\n            found: true,\n            search_target: target,\n            highlight_indices: [foundIndex],\n            isLinearSearch: true,\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n            current_index: n - 1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n            isLinearSearch: true,\n        });\n    }\n\n    return steps;\n};\n\n// --- Main App Component ---\nexport default function App() {\n  const [currentView, setCurrentView] = useState('sort'); \n    \n  // Sorting/Searching Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"binarysearch\"); \n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n  \n  // State for Search Algorithms\n  const [searchTarget, setSearchTarget] = useState(50); \n  \n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray; \n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1; \n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  \n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\", \"linearsearch\"].includes(selectedAlgorithm); \n  \n  // Calculate bar width based on container width and number of elements\n  const barWidth = 700 / currentArray.length - 2; // Max 700px width for visualization container\n\n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n      if (isAnimating) handleStartStopAnimation();\n      const newArray = generateRandomArray(size);\n      setInputArray(newArray);\n      setCustomInputData(\"\"); \n      setArraySize(size);\n      if (isSearchAlgorithm && newArray.length > 0) {\n          setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]); \n      } else {\n          setSearchTarget(50);\n      }\n  };\n  \n  const handleLoadCustomArray = () => {\n      if (isAnimating) handleStartStopAnimation();\n      const newArray = parseCustomArray(customInputData);\n      if (newArray.length > 0 && newArray.length <= 50) {\n          setInputArray(newArray);\n          setArraySize(newArray.length); \n          setLoadingError(null);\n          if (isSearchAlgorithm && newArray.length > 0) {\n            setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n          } else {\n            setSearchTarget(50);\n          }\n      } else if (newArray.length > 50) {\n           setLoadingError(\"Maximum array size for custom input is 50 elements.\");\n      } else {\n          setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n      }\n  };\n  \n  const handleSearchClick = () => {\n    // Force regeneration in useEffect by updating the target (even if the number value is the same, \n    // we use a trick to force state update, but the number will be rounded in useEffect)\n    const newTarget = Number(searchTarget) + 0.0000001;\n    setSearchTarget(newTarget);\n    setTimeout(() => setSearchTarget(Math.round(Number(searchTarget))), 10);\n  };\n\n\n  // --- Animation Control Logic ---\n\n  // Function to handle the step-by-step animation\n  const animate = useCallback(() => {\n    if (!steps || currentStepIndex >= steps.length - 1) {\n        setIsAnimating(false);\n        return;\n    }\n\n    const nextStepIndex = currentStepIndex + 1;\n    setCurrentStepIndex(nextStepIndex);\n\n    animationRef.current = setTimeout(() => {\n        animate();\n    }, speed);\n\n  }, [currentStepIndex, steps, speed]);\n\n  // Start/Stop Animation handler\n  const handleStartStopAnimation = useCallback(() => {\n    if (isAnimating) {\n        if (animationRef.current) {\n            clearTimeout(animationRef.current);\n        }\n        setIsAnimating(false);\n    } else {\n        if (isSortingComplete) {\n            setCurrentStepIndex(0);\n        }\n        setIsAnimating(true);\n    }\n  }, [isAnimating, isSortingComplete]);\n\n  // Effect to control the animation loop start/stop\n  useEffect(() => {\n    if (isAnimating) {\n        animate();\n    } else if (animationRef.current) {\n        clearTimeout(animationRef.current);\n    }\n\n    // Cleanup function\n    return () => {\n        if (animationRef.current) {\n            clearTimeout(animationRef.current);\n        }\n    };\n  }, [isAnimating, animate]); // Dependencies: isAnimating, and the memoized animate function\n\n  // Step controls\n  const handleStepBack = () => {\n      if (isAnimating) handleStartStopAnimation();\n      setCurrentStepIndex(prev => Math.max(0, prev - 1));\n  };\n\n  const handleStepForward = () => {\n      if (isAnimating) handleStartStopAnimation();\n      if (steps && currentStepIndex < steps.length - 1) {\n          setCurrentStepIndex(prev => prev + 1);\n      }\n  };\n\n  const handleReset = () => {\n      if (isAnimating) handleStartStopAnimation();\n      setCurrentStepIndex(0);\n  };\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    // Resetting animation when starting a new visualization\n    if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        setIsAnimating(false);\n    }\n    \n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    \n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    \n    if (!isSupportedAlgorithm) { \n        setLoadingError(`Algorithm ${selectedAlgorithm} is unsupported.`);\n        return; \n    }\n    \n    let processedArray = inputArray.map(val => Number(val));\n    let displayArray = [...inputArray]; // Array shown in the UI\n\n    const target = isNaN(Number(searchTarget)) ? 0 : Math.round(Number(searchTarget)); \n\n    // Binary Search REQUIRES a sorted array.\n    if (selectedAlgorithm === \"binarysearch\") {\n        processedArray.sort((a, b) => a - b);\n        displayArray = processedArray; // Update display to sorted version\n    } else if (selectedAlgorithm !== \"linearsearch\") {\n        processedArray = [...inputArray]; \n    }\n    \n    let newSteps = [];\n\n    try {\n        if (selectedAlgorithm === \"bubblesort\") {\n            newSteps = getBubbleSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"mergesort\") {\n            newSteps = getMergeSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"quicksort\") { \n            newSteps = getQuickSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"shellsort\") { \n            newSteps = getShellSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"selectionsort\") { \n             newSteps = getSelectionSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"binarysearch\") { \n             // Use the sorted array and the target\n            newSteps = getBinarySearchSteps(processedArray, target);\n        } else if (selectedAlgorithm === \"linearsearch\") {\n            // Use the original unsorted array and the target\n            newSteps = getLinearSearchSteps(displayArray, target);\n        }\n\n        setSteps(newSteps);\n        // Important: Update inputArray state with the sorted array ONLY if it was used for BS\n        if (selectedAlgorithm === \"binarysearch\") {\n             setInputArray(displayArray); \n        }\n\n    } catch (error) {\n        console.error(\"Error generating steps:\", error);\n        setLoadingError(`An error occurred: ${error.message}`);\n    }\n\n  }, [inputArray, selectedAlgorithm, searchTarget, currentView]);\n\n\n  // --- Render Functions ---\n\n  const renderSortingVisualizer = () => {\n      \n      const currentLow = currentStep?.low;\n      const currentHigh = currentStep?.high;\n      const currentMid = currentStep?.mid;\n      const isFound = currentStep?.found;\n      const isLinearCheck = currentStep?.isLinearSearch;\n\n      const currentTarget = Math.round(Number(searchTarget)); // Use the rounded target for display\n\n      return (\n          <div className=\"flex flex-col gap-6 p-4 md:p-8 bg-white rounded-lg shadow-xl\">\n              <div className=\"flex flex-col md:flex-row gap-6\">\n                  {/* Left Column: Controls and Input */}\n                  <div className=\"md:w-1/3 flex flex-col gap-4 p-4 border rounded-lg bg-gray-50 shadow-inner\">\n                      <h2 className=\"text-xl font-bold text-gray-800 border-b pb-2\">Visualization Controls</h2>\n\n                      {/* Algorithm Selector */}\n                      <div>\n                          <label className=\"block text-sm font-medium text-gray-700 mb-1\">Select Algorithm</label>\n                          <select \n                              value={selectedAlgorithm} \n                              onChange={(e) => {\n                                  setSelectedAlgorithm(e.target.value);\n                                  handleReset();\n                              }}\n                              className=\"w-full p-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500\"\n                          >\n                              <option value=\"bubblesort\">Bubble Sort</option>\n                              <option value=\"quicksort\">Quick Sort</option>\n                              <option value=\"mergesort\">Merge Sort</option>\n                              <option value=\"selectionsort\">Selection Sort</option>\n                              <option value=\"shellsort\">Shell Sort</option>\n                              <option value=\"linearsearch\">Linear Search</option>\n                              <option value=\"binarysearch\">Binary Search</option>\n                          </select>\n                      </div>\n\n                      {/* Array Size/Speed Controls */}\n                      <div className=\"flex gap-4\">\n                          <div className=\"flex-1\">\n                              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Array Size ({arraySize})</label>\n                              <input \n                                  type=\"range\" \n                                  min=\"5\" \n                                  max=\"50\" \n                                  value={arraySize} \n                                  onChange={(e) => setArraySize(Number(e.target.value))}\n                                  onMouseUp={() => handleGenerateNewArray(Number(arraySize))}\n                                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n                              />\n                          </div>\n                          <div className=\"flex-1\">\n                              <label className=\"block text-sm font-medium text-gray-700 mb-1\">Speed (ms)</label>\n                              <input \n                                  type=\"range\" \n                                  min=\"10\" \n                                  max=\"500\" \n                                  value={speed} \n                                  onChange={(e) => setSpeed(Number(e.target.value))}\n                                  className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n                              />\n                          </div>\n                      </div>\n\n                      {/* Search Target Input */}\n                      {isSearchAlgorithm && (\n                          <div className=\"mt-2 flex gap-2\">\n                              <input\n                                  type=\"number\"\n                                  placeholder=\"Search Target\"\n                                  value={currentTarget}\n                                  onChange={(e) => setSearchTarget(e.target.value)}\n                                  className=\"w-full p-2 border border-gray-300 rounded-lg bg-white focus:ring-blue-500 focus:border-blue-500\"\n                              />\n                              <button\n                                  onClick={handleSearchClick}\n                                  className=\"px-4 py-2 bg-teal-500 text-white font-semibold rounded-lg shadow-md hover:bg-teal-600 transition duration-150 ease-in-out disabled:opacity-50\"\n                                  disabled={isAnimating || !isSupportedAlgorithm}\n                              >\n                                  Search\n                              </button>\n                          </div>\n                      )}\n                      \n                      {/* Array Actions */}\n                      <div className=\"flex flex-col gap-2 mt-2\">\n                          <button \n                              onClick={() => handleGenerateNewArray()} \n                              className=\"w-full px-4 py-2 bg-blue-600 text-white font-semibold rounded-lg shadow-md hover:bg-blue-700 transition duration-150 ease-in-out\"\n                              disabled={isAnimating}\n                          >\n                              Generate New Array\n                          </button>\n                      </div>\n                      \n                      {/* Custom Array Input */}\n                      <div className=\"mt-2\">\n                          <label className=\"block text-xs font-medium text-gray-700 mb-1\">Custom Array (e.g., 5,12,3,40)</label>\n                          <div className=\"flex gap-2\">\n                              <input\n                                  type=\"text\"\n                                  placeholder=\"Comma-separated values\"\n                                  value={customInputData}\n                                  onChange={(e) => setCustomInputData(e.target.value)}\n                                  className=\"w-full p-2 border border-gray-300 rounded-lg bg-white text-xs\"\n                              />\n                              <button\n                                  onClick={handleLoadCustomArray}\n                                  className=\"px-3 py-2 bg-indigo-500 text-white text-xs font-semibold rounded-lg shadow-md hover:bg-indigo-600 transition duration-150 ease-in-out disabled:opacity-50 whitespace-nowrap\"\n                                  disabled={isAnimating || customInputData.length === 0}\n                              >\n                                  Load\n                              </button>\n                          </div>\n                          {loadingError && <p className=\"text-red-500 text-xs mt-1\">{loadingError}</p>}\n                      </div>\n                  </div>\n\n                  {/* Right Column: Visualization and Pseudocode */}\n                  <div className=\"md:w-2/3 flex flex-col gap-4\">\n                      \n                      {/* Array Visualization Area */}\n                      <div className=\"min-h-[400px] border-b-2 border-gray-200 flex items-end justify-center pt-20\">\n                          <div \n                              className=\"flex items-end max-w-[700px] w-full h-[350px] pb-4 px-2\"\n                              style={{ maxHeight: `${MAX_ARRAY_VALUE}px` }}\n                          >\n                              {currentArray.map((value, index) => (\n                                  <ArrayBar \n                                      key={index}\n                                      value={value}\n                                      height={value}\n                                      width={barWidth}\n                                      isHighlighted={highlightIndices.includes(index)}\n                                      isPivot={index === pivotIndex}\n                                      isSorted={sortedIndices.includes(index) && !isSearchAlgorithm}\n                                      // Search specific props\n                                      isSearchMid={index === currentMid}\n                                      isFound={isFound && (index === currentMid || index === currentStep?.current_index)}\n                                      isSearchRange={isSearchAlgorithm && index >= currentLow && index <= currentHigh}\n                                      isLinearCheck={isLinearCheck && index === currentStep?.current_index}\n                                  />\n                              ))}\n                          </div>\n                      </div>\n\n                      {/* Animation Controls */}\n                      <div className=\"flex justify-center items-center gap-4 bg-gray-50 p-4 rounded-lg shadow-inner\">\n                          <button \n                              onClick={handleReset} \n                              className=\"px-4 py-2 bg-gray-400 text-white rounded-full text-sm font-semibold hover:bg-gray-500 disabled:opacity-50\"\n                              disabled={isAnimating || currentStepIndex === 0}\n                          >\n                              Reset\n                          </button>\n                          <button \n                              onClick={handleStepBack} \n                              className=\"px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-semibold hover:bg-yellow-600 disabled:opacity-50\"\n                              disabled={isAnimating || currentStepIndex === 0}\n                          >\n                              &larr; Step\n                          </button>\n                          <button \n                              onClick={handleStartStopAnimation}\n                              className={`px-6 py-3 font-extrabold rounded-full shadow-lg transition-all duration-200 ${isAnimating ? 'bg-red-500 hover:bg-red-600' : 'bg-green-500 hover:bg-green-600'} text-white disabled:opacity-50`}\n                              disabled={!steps || isSortingComplete && !isAnimating}\n                          >\n                              {isAnimating ? 'Pause' : isSortingComplete ? 'Re-Run' : 'Start'}\n                          </button>\n                          <button \n                              onClick={handleStepForward} \n                              className=\"px-4 py-2 bg-yellow-500 text-white rounded-full text-sm font-semibold hover:bg-yellow-600 disabled:opacity-50\"\n                              disabled={isAnimating || isSortingComplete}\n                          >\n                              Step &rarr;\n                          </button>\n                          <div className=\"text-sm font-medium text-gray-700\">\n                              Step {currentStepIndex + 1} / {steps ? steps.length : 0}\n                          </div>\n                      </div>\n\n                      {/* Step Action and Pseudocode */}\n                      <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-4\">\n                          <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg\">\n                              <h3 className=\"text-lg font-semibold text-blue-800 mb-2\">Current Action</h3>\n                              <p className={`font-mono text-sm ${currentStep?.found ? 'text-emerald-600 font-bold' : 'text-gray-700'}`}>\n                                  {currentStep?.action || 'Press Start or Step to begin.'}\n                              </p>\n                              {isSearchAlgorithm && (\n                                  <p className=\"mt-2 text-xs text-gray-600\">\n                                      {selectedAlgorithm === 'binarysearch' ? \n                                          `Range: [${currentStep?.low}, ${currentStep?.high}]` : \n                                          `Target: ${currentTarget}`\n                                      }\n                                  </p>\n                              )}\n                          </div>\n                          \n                          <div className=\"p-4 bg-gray-100 rounded-lg shadow-inner overflow-auto max-h-40\">\n                              <h3 className=\"text-lg font-semibold text-gray-800 mb-2\">Pseudocode</h3>\n                              <pre className=\"text-xs font-mono text-gray-600\">\n                                  {currentPseudocode ? currentPseudocode.join('\\n') : 'Select an algorithm.'}\n                              </pre>\n                          </div>\n                      </div>\n\n                  </div>\n              </div>\n          </div>\n      );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gray-100 p-4 sm:p-8 font-['Inter']\">\n        <header className=\"mb-8\">\n            <h1 className=\"text-3xl md:text-4xl font-extrabold text-center text-gray-900\">\n                Algorithm Visualizer & Playground\n            </h1>\n            <nav className=\"flex justify-center mt-4 border-b pb-2\">\n                <button \n                    onClick={() => setCurrentView('sort')}\n                    className={`px-4 py-2 text-lg font-medium transition-colors duration-150 ${currentView === 'sort' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`}\n                >\n                    Sorting & Searching\n                </button>\n                <button \n                    onClick={() => setCurrentView('bst')}\n                    className={`px-4 py-2 text-lg font-medium transition-colors duration-150 ${currentView === 'bst' ? 'text-blue-600 border-b-2 border-blue-600' : 'text-gray-500 hover:text-gray-700'}`}\n                >\n                    Binary Search Tree\n                </button>\n            </nav>\n        </header>\n\n        <main className=\"max-w-7xl mx-auto\">\n            {currentView === 'sort' && renderSortingVisualizer()}\n            {currentView === 'bst' && <BSTVisualizer />}\n        </main>\n    </div>\n  );\n}"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;;AAEvE;AACA;AACA;AACA;;AAGA;;AAEA;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA;AAIA,MAAMC,QAAQ,gBAAGP,KAAK,CAACQ,IAAI,CAAAC,EAAA,GAACA,CAAC;EAAEC,KAAK;EAAEC,MAAM;EAAEC,KAAK;EAAEC,aAAa;EAAEC,OAAO;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,aAAa;EAAEC,OAAO;EAAEC;AAAc,CAAC,KAAK;EAE5I;EACA,IAAIC,KAAK,GAAG,aAAa;EACzB,IAAIC,OAAO,GAAG,aAAa;;EAE3B;EACA,IAAIL,WAAW,IAAIC,aAAa,IAAIC,OAAO,EAAE;IACzC;IACAE,KAAK,GAAG,aAAa;IACrBC,OAAO,GAAG,aAAa;IAEvB,IAAIL,WAAW,EAAE;MACb;MACAI,KAAK,GAAG,cAAc,CAAC,CAAC;IAC5B;IAEA,IAAIF,OAAO,EAAE;MACT;MACAE,KAAK,GAAG,gBAAgB,CAAC,CAAC;IAC9B;EACJ,CAAC,MAAM,IAAIJ,WAAW,KAAK,KAAK,IAAIC,aAAa,KAAK,KAAK,IAAIP,KAAK,IAAKO,aAAa,KAAKK,SAAU,EAAE;IACnG;IACAD,OAAO,GAAG,YAAY;IACtBD,KAAK,GAAG,aAAa;EACzB;;EAEA;EACA,IAAID,aAAa,EAAE;IACfC,KAAK,GAAG,YAAY,CAAC,CAAC;IACtB,IAAIF,OAAO,EAAE;MACTE,KAAK,GAAG,gBAAgB,CAAC,CAAC;IAC9B;EACJ;;EAGA;EACA,IAAIL,QAAQ,EAAE;IACVK,KAAK,GAAG,cAAc;IACtBC,OAAO,GAAG,aAAa;EAC3B,CAAC,MAAM,IAAIP,OAAO,IAAI,CAACG,aAAa,EAAE;IAClCG,KAAK,GAAG,eAAe,CAAC,CAAC;EAC7B,CAAC,MAAM,IAAIP,aAAa,IAAI,CAACI,aAAa,IAAI,CAACD,WAAW,IAAI,CAACG,aAAa,EAAE;IAC1EC,KAAK,GAAG,eAAe,CAAC,CAAC;EAC7B;EAEA,MAAMG,UAAU,GAAGX,KAAK,GAAG,CAAC,GAAG,GAAGA,KAAK,IAAI,GAAG,MAAM;EAEpD,oBACIN,OAAA;IACIkB,SAAS,EAAE,8HAA8HJ,KAAK,IAAIC,OAAO,EAAG;IAC5JI,KAAK,EAAE;MACHd,MAAM,EAAE,GAAGA,MAAM,IAAI;MACrBC,KAAK,EAAEW,UAAU;MACjBG,MAAM,EAAE,OAAO;MACfC,QAAQ,EAAEf,KAAK,GAAG,EAAE,GAAG,MAAM,GAAG;IACpC,CAAE;IACFgB,KAAK,EAAE,UAAUlB,KAAK,EAAG;IAAAmB,QAAA,EAGxBjB,KAAK,GAAG,EAAE,IAAIF;EAAK;IAAAoB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnB,CAAC;AAEd,CAAC,CAAC;;AAEF;AACA;AACA;AAFAC,GAAA,GAjEM3B,QAAQ;AAoEd,MAAM4B,aAAa,GAAGA,CAAA,KAAM;EAAAC,EAAA;EACxB,MAAM,CAACC,QAAQ,EAAEC,WAAW,CAAC,GAAGrC,QAAQ,CAAC,EAAE,CAAC;EAC5C,MAAM,CAACsC,UAAU,EAAEC,aAAa,CAAC,GAAGvC,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAM,CAACwC,OAAO,EAAEC,UAAU,CAAC,GAAGzC,QAAQ,CAAC,kCAAkC,CAAC;EAE1E,MAAM0C,UAAU,GAAGxC,WAAW,CAAC,CAACyC,IAAI,EAAElC,KAAK,KAAK;IAC5C,IAAI,CAACkC,IAAI,EAAE,OAAO;MAAElC,KAAK,EAAEA,KAAK;MAAEmC,IAAI,EAAE,IAAI;MAAEC,KAAK,EAAE;IAAK,CAAC;IAC3D,IAAIpC,KAAK,GAAGkC,IAAI,CAAClC,KAAK,EAAE;MACpBkC,IAAI,CAACC,IAAI,GAAGF,UAAU,CAACC,IAAI,CAACC,IAAI,EAAEnC,KAAK,CAAC;IAC5C,CAAC,MAAM,IAAIA,KAAK,GAAGkC,IAAI,CAAClC,KAAK,EAAE;MAC3BkC,IAAI,CAACE,KAAK,GAAGH,UAAU,CAACC,IAAI,CAACE,KAAK,EAAEpC,KAAK,CAAC;IAC9C;IACA,OAAOkC,IAAI;EACf,CAAC,EAAE,EAAE,CAAC;EAEN,MAAMG,YAAY,GAAGA,CAAA,KAAM;IACvB,MAAMC,GAAG,GAAGC,QAAQ,CAACV,UAAU,CAAC;IAChC,IAAIW,KAAK,CAACF,GAAG,CAAC,EAAE;MACZN,UAAU,CAAC,8BAA8B,CAAC;MAC1C;IACJ;IAEA,IAAIS,WAAW,GAAG,CAAC,GAAGd,QAAQ,CAAC;IAC/B,IAAIc,WAAW,CAACC,MAAM,KAAK,CAAC,EAAE;MAC1BD,WAAW,CAACE,IAAI,CAAC;QAAE3C,KAAK,EAAEsC,GAAG;QAAEH,IAAI,EAAE,IAAI;QAAEC,KAAK,EAAE;MAAK,CAAC,CAAC;IAC7D,CAAC,MAAM;MACHK,WAAW,GAAG,CAACR,UAAU,CAACQ,WAAW,CAAC,CAAC,CAAC,EAAEH,GAAG,CAAC,CAAC;IACnD;IAEAV,WAAW,CAACa,WAAW,CAAC;IACxBX,aAAa,CAAC,EAAE,CAAC;IACjBE,UAAU,CAAC,YAAYM,GAAG,iCAAiC,CAAC;EAChE,CAAC;EAED,MAAMM,UAAU,GAAIC,IAAI,IAAK;IACzB,IAAI,CAACA,IAAI,EAAE,OAAO,IAAI;IACtB,oBACIjD,OAAA;MAAKkB,SAAS,EAAC,4BAA4B;MAAAK,QAAA,gBACvCvB,OAAA;QAAKkB,SAAS,EAAC,mHAAmH;QAAAK,QAAA,EAC7H0B,IAAI,CAAC7C;MAAK;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACV,CAAC,EACL,CAACsB,IAAI,CAACV,IAAI,IAAIU,IAAI,CAACT,KAAK,kBACrBxC,OAAA;QAAKkB,SAAS,EAAC,kCAAkC;QAAAK,QAAA,gBAC7CvB,OAAA;UAAKkB,SAAS,EAAC,+BAA+B;UAAAK,QAAA,GACzC0B,IAAI,CAACV,IAAI,iBAAIvC,OAAA;YAAKkB,SAAS,EAAC;UAAyE;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC7G3B,OAAA;YAAKkB,SAAS,EAAC,MAAM;YAAAK,QAAA,EAAEyB,UAAU,CAACC,IAAI,CAACV,IAAI;UAAC;YAAAf,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAClD,CAAC,eACN3B,OAAA;UAAKkB,SAAS,EAAC,6BAA6B;UAAAK,QAAA,GACvC0B,IAAI,CAACT,KAAK,iBAAIxC,OAAA;YAAKkB,SAAS,EAAC;UAA0E;YAAAM,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC,eAC/G3B,OAAA;YAAKkB,SAAS,EAAC,MAAM;YAAAK,QAAA,EAAEyB,UAAU,CAACC,IAAI,CAACT,KAAK;UAAC;YAAAhB,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAM,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACnD,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CACR;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAEd,CAAC;;EAED;EACA,MAAMuB,oBAAoB,GAAID,IAAI,IAAK;IAClC,IAAI,CAACA,IAAI,EAAE,OAAO,UAAU;IAC5B,oBACGjD,OAAA;MAAMkB,SAAS,EAAC,mBAAmB;MAAAK,QAAA,gBAC/BvB,OAAA;QAAMkB,SAAS,EAAC,yBAAyB;QAAAK,QAAA,GAAC,GAAC,EAAC0B,IAAI,CAAC7C,KAAK,EAAC,GAAC;MAAA;QAAAoB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC/D3B,OAAA;QAAMkB,SAAS,EAAC,oBAAoB;QAAAK,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9C3B,OAAA;QAAMkB,SAAS,EAAC,QAAQ;QAAAK,QAAA,EAAE2B,oBAAoB,CAACD,IAAI,CAACV,IAAI;MAAC;QAAAf,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC,eACjE3B,OAAA;QAAMkB,SAAS,EAAC,oBAAoB;QAAAK,QAAA,EAAC;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9C3B,OAAA;QAAMkB,SAAS,EAAC,QAAQ;QAAAK,QAAA,EAAE2B,oBAAoB,CAACD,IAAI,CAACT,KAAK;MAAC;QAAAhB,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAO,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAChE,CAAC;EAEf,CAAC;EAED,oBACI3B,OAAA;IAAKkB,SAAS,EAAC,+CAA+C;IAAAK,QAAA,gBAC1DvB,OAAA;MAAIkB,SAAS,EAAC,4CAA4C;MAAAK,QAAA,EAAC;IAA6B;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAC7F3B,OAAA;MAAGkB,SAAS,EAAC,4BAA4B;MAAAK,QAAA,EAAEY;IAAO;MAAAX,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eAEvD3B,OAAA;MAAKkB,SAAS,EAAC,sCAAsC;MAAAK,QAAA,gBACjDvB,OAAA;QACImD,IAAI,EAAC,QAAQ;QACb/C,KAAK,EAAE6B,UAAW;QAClBmB,QAAQ,EAAGC,CAAC,IAAKnB,aAAa,CAACmB,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAE;QAC/CmD,WAAW,EAAC,sBAAsB;QAClCrC,SAAS,EAAC,0FAA0F;QACpGsC,GAAG,EAAC,GAAG;QACPC,GAAG,EAAC;MAAK;QAAAjC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACZ,CAAC,eACF3B,OAAA;QACI0D,OAAO,EAAEjB,YAAa;QACtBvB,SAAS,EAAC,+IAA+I;QACzJyC,QAAQ,EAAE,CAAC1B,UAAU,IAAIW,KAAK,CAACD,QAAQ,CAACV,UAAU,CAAC,CAAE;QAAAV,QAAA,EACxD;MAED;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACR,CAAC,eAEN3B,OAAA;MAAKkB,SAAS,EAAC,8EAA8E;MAAAK,QAAA,gBACzFvB,OAAA;QAAIkB,SAAS,EAAC,wDAAwD;QAAAK,QAAA,EAAC;MAA2B;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,EACtGI,QAAQ,CAACe,MAAM,GAAG,CAAC,gBAChB9C,OAAA;QAAKkB,SAAS,EAAC,wBAAwB;QAAAK,QAAA,EACnC2B,oBAAoB,CAACnB,QAAQ,CAAC,CAAC,CAAC;MAAC;QAAAP,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAChC,CAAC,gBAEN3B,OAAA;QAAGkB,SAAS,EAAC,wCAAwC;QAAAK,QAAA,EAAC;MAA8C;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAG,CAC1G;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACA,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEd,CAAC;;AAGD;AAAAG,EAAA,CA9GMD,aAAa;AAAA+B,GAAA,GAAb/B,aAAa;AA+GnB,MAAMgC,kBAAkB,GAAG,EAAE;AAC7B,MAAMC,eAAe,GAAG,GAAG;AAC3B,MAAMC,eAAe,GAAG,EAAE;AAC1B,MAAMC,kBAAkB,GAAG,EAAE;;AAE7B;AACA,MAAMC,UAAU,GAAG;EACfC,UAAU,EAAE,CACR,6BAA6B,EAC7B,oBAAoB,EACpB,0BAA0B,EAC1B,gCAAgC,EAChC,sDAAsD,EACtD,iCAAiC,EACjC,0BAA0B,EAC1B,oCAAoC,EACpC,gBAAgB,CACnB;EACDC,SAAS,EAAE,CACP,4BAA4B,EAC5B,sCAAsC,EACtC,iCAAiC,EACjC,oCAAoC,EACpC,qCAAqC,EACrC,6BAA6B,EAC7B,EAAE,EACF,8BAA8B,EAC9B,qEAAqE,EACrE,eAAe,EACf,qCAAqC,EACrC,6BAA6B,EAC7B,iCAAiC,EACjC,WAAW,EACX,kCAAkC,EAClC,gCAAgC,CACnC;EACDC,SAAS,EAAE,CACP,uCAAuC,EACvC,kBAAkB,EAClB,4BAA4B,EAC5B,sCAAsC,EACtC,mDAAmD,EACnD,mCAAmC,EACnC,oCAAoC,EACpC,EAAE,EACF,uCAAuC,EACvC,2DAA2D,EAC3D,eAAe,EACf,+BAA+B,EAC/B,0BAA0B,EAC1B,WAAW,EACX,gCAAgC,EAChC,iCAAiC,EACjC,gBAAgB,CACnB;EACDC,SAAS,EAAE,CACP,4BAA4B,EAC5B,oBAAoB,EACpB,sBAAsB,EACtB,kBAAkB,EAClB,sCAAsC,EACtC,8BAA8B,EAC9B,uBAAuB,EACvB,aAAa,EACb,iDAAiD,EACjD,4DAA4D,EAC5D,mCAAmC,EACnC,qBAAqB,EACrB,2CAA2C,EAC3C,uBAAuB,EACvB,4CAA4C,CAC/C;EACDC,aAAa,EAAE,CACX,gCAAgC,EAChC,oBAAoB,EACpB,0BAA0B,EAC1B,oDAAoD,EACpD,kBAAkB,EAClB,gCAAgC,EAChC,oEAAoE,EACpE,sCAAsC,EACtC,oDAAoD,EACpD,sBAAsB,EACtB,gEAAgE,EAChE,2BAA2B,EAC3B,uCAAuC,EACvC,gCAAgC,EAChC,gBAAgB,CACnB;EACDC,YAAY,EAAE,CACV,uCAAuC,EACvC,2BAA2B,EAC3B,WAAW,EACX,2BAA2B,EAC3B,sBAAsB,EACtB,mCAAmC,EACnC,2CAA2C,EAC3C,8BAA8B,EAC9B,kBAAkB,EAClB,kCAAkC,EAClC,2CAA2C,EAC3C,qBAAqB,EACrB,WAAW,EACX,2CAA2C,EAC3C,sBAAsB,EACtB,aAAa,CAChB;EACDC,YAAY,EAAE,CACV,uCAAuC,EACvC,oBAAoB,EACpB,0BAA0B,EAC1B,2BAA2B,EAC3B,4BAA4B,EAC5B,gBAAgB,EAChB,aAAa;AAErB,CAAC;;AAED;;AAEA,MAAMC,mBAAmB,GAAIC,IAAI,IAAK;EAClC,OAAOC,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE4B;EAAK,CAAC,EAAE,MAChCG,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIjB,eAAe,GAAGC,eAAe,GAAG,CAAC,CAAC,CAAC,GAAGA,eAC1E,CAAC;AACL,CAAC;AAED,MAAMiB,gBAAgB,GAAIC,WAAW,IAAK;EACtC,MAAMC,QAAQ,GAAGD,WAAW,CAACE,KAAK,CAAC,GAAG,CAAC,CAClCC,GAAG,CAACC,CAAC,IAAI;IACN,MAAM3C,GAAG,GAAGC,QAAQ,CAAC0C,CAAC,CAACC,IAAI,CAAC,CAAC,CAAC;IAC9B,OAAO1C,KAAK,CAACF,GAAG,CAAC,IAAIA,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGmC,IAAI,CAACrB,GAAG,CAACd,GAAG,EAAEoB,eAAe,CAAC;EACzE,CAAC,CAAC,CACDyB,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAK,IAAI,CAAC;EAC5B,OAAON,QAAQ;AACnB,CAAC;;AAED;AACA,MAAMO,kBAAkB,GAAIC,YAAY,IAAK;EAAE;EAC3C,MAAMC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC/B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAAC7C,MAAM;EACtB,IAAI+C,aAAa,GAAG,EAAE;EAEtB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,CAAC,GAAG,CAAC,EAAEM,CAAC,EAAE,EAAE;IAC5B,IAAIC,OAAO,GAAG,KAAK;IACnB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,CAAC,GAAG,CAAC,GAAGM,CAAC,EAAEE,CAAC,EAAE,EAAE;MAChCJ,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBM,iBAAiB,EAAE,CAACD,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC;QAC7BE,MAAM,EAAE,mBAAmBF,CAAC,eAAeA,CAAC,GAAG,CAAC,GAAG;QACnDG,cAAc,EAAE,CAAC,GAAGN,aAAa;MACrC,CAAC,CAAC;MAEF,IAAIF,KAAK,CAACK,CAAC,CAAC,GAAGL,KAAK,CAACK,CAAC,GAAG,CAAC,CAAC,EAAE;QACzB,CAACL,KAAK,CAACK,CAAC,CAAC,EAAEL,KAAK,CAACK,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAACL,KAAK,CAACK,CAAC,GAAG,CAAC,CAAC,EAAEL,KAAK,CAACK,CAAC,CAAC,CAAC;QACnDD,OAAO,GAAG,IAAI;QACdH,KAAK,CAAC7C,IAAI,CAAC;UACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;UACjBM,iBAAiB,EAAE,CAACD,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC;UAC7BE,MAAM,EAAE,YAAYP,KAAK,CAACK,CAAC,GAAC,CAAC,CAAC,QAAQL,KAAK,CAACK,CAAC,CAAC,EAAE;UAChDG,cAAc,EAAE,CAAC,GAAGN,aAAa;QACrC,CAAC,CAAC;MACN;IACJ;IAEA,IAAIL,CAAC,GAAG,CAAC,GAAGM,CAAC,IAAI,CAAC,EAAE;MAChBD,aAAa,CAAC9C,IAAI,CAACyC,CAAC,GAAG,CAAC,GAAGM,CAAC,CAAC;IACjC;IAEA,IAAI,CAACC,OAAO,EAAE;MACV,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,CAAC,GAAG,CAAC,GAAGM,CAAC,EAAEM,CAAC,EAAE,EAAE;QAChC,IAAI,CAACP,aAAa,CAACQ,QAAQ,CAACD,CAAC,CAAC,EAAE;UAC3BP,aAAa,CAAC9C,IAAI,CAACqD,CAAC,CAAC;QAC1B;MACJ;MACA;IACJ;EACJ;EAEA,MAAME,kBAAkB,GAAG3B,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE0C;EAAE,CAAC,EAAE,CAACe,CAAC,EAAET,CAAC,KAAKA,CAAC,CAAC;EACjEF,KAAK,CAAC7C,IAAI,CAAC;IACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBM,iBAAiB,EAAE,EAAE;IACrBC,MAAM,EAAE,sBAAsB;IAC9BC,cAAc,EAAEG;EACpB,CAAC,CAAC;EAEF,OAAOV,KAAK;AAChB,CAAC;AAED,MAAMY,iBAAiB,GAAId,YAAY,IAAK;EAAE;EAC1C,MAAMC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC/B,MAAME,KAAK,GAAG,EAAE;EAEhB,MAAMa,KAAK,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,KAAK;IACpC,MAAMtE,IAAI,GAAGmE,GAAG,CAACI,KAAK,CAACH,KAAK,EAAEC,GAAG,CAAC;IAClC,MAAMpE,KAAK,GAAGkE,GAAG,CAACI,KAAK,CAACF,GAAG,EAAEC,GAAG,CAAC;IACjC,IAAIf,CAAC,GAAG,CAAC;MAAEE,CAAC,GAAG,CAAC;MAAEI,CAAC,GAAGO,KAAK;IAE3Bf,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBM,iBAAiB,EAAEtB,KAAK,CAACC,IAAI,CAAC;QAAE9B,MAAM,EAAE+D,GAAG,GAAGF;MAAM,CAAC,EAAE,CAACJ,CAAC,EAAEQ,GAAG,KAAKJ,KAAK,GAAGI,GAAG,CAAC;MAC/Eb,MAAM,EAAE,iCAAiCS,KAAK,OAAOE,GAAG,GAAG,CAAC,EAAE;MAC9DV,cAAc,EAAE;IACpB,CAAC,CAAC;IAEF,OAAOL,CAAC,GAAGvD,IAAI,CAACO,MAAM,IAAIkD,CAAC,GAAGxD,KAAK,CAACM,MAAM,EAAE;MACxC,IAAIP,IAAI,CAACuD,CAAC,CAAC,IAAItD,KAAK,CAACwD,CAAC,CAAC,EAAE;QACrBL,KAAK,CAACS,CAAC,CAAC,GAAG7D,IAAI,CAACuD,CAAC,CAAC;QAClBA,CAAC,EAAE;MACP,CAAC,MAAM;QACHH,KAAK,CAACS,CAAC,CAAC,GAAG5D,KAAK,CAACwD,CAAC,CAAC;QACnBA,CAAC,EAAE;MACP;MACAI,CAAC,EAAE;MAEHR,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBM,iBAAiB,EAAE,CAACG,CAAC,GAAG,CAAC,CAAC;QAC1BF,MAAM,EAAE,4BAA4BE,CAAC,GAAG,CAAC,EAAE;QAC3CD,cAAc,EAAE;MACpB,CAAC,CAAC;IACN;IAEA,OAAOL,CAAC,GAAGvD,IAAI,CAACO,MAAM,EAAE;MACpB6C,KAAK,CAACS,CAAC,CAAC,GAAG7D,IAAI,CAACuD,CAAC,CAAC;MAClBA,CAAC,EAAE;MAAEM,CAAC,EAAE;MACRR,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBM,iBAAiB,EAAE,CAACG,CAAC,GAAG,CAAC,CAAC;QAC1BF,MAAM,EAAE,+CAA+CE,CAAC,GAAG,CAAC,EAAE;QAC9DD,cAAc,EAAE;MACpB,CAAC,CAAC;IACN;IACA,OAAOH,CAAC,GAAGxD,KAAK,CAACM,MAAM,EAAE;MACrB6C,KAAK,CAACS,CAAC,CAAC,GAAG5D,KAAK,CAACwD,CAAC,CAAC;MACnBA,CAAC,EAAE;MAAEI,CAAC,EAAE;MACRR,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBM,iBAAiB,EAAE,CAACG,CAAC,GAAG,CAAC,CAAC;QAC1BF,MAAM,EAAE,gDAAgDE,CAAC,GAAG,CAAC,EAAE;QAC/DD,cAAc,EAAE;MACpB,CAAC,CAAC;IACN;IAEAP,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBM,iBAAiB,EAAE,EAAE;MACrBC,MAAM,EAAE,sCAAsCS,KAAK,OAAOE,GAAG,GAAG,CAAC,EAAE;MACnEV,cAAc,EAAE;IACpB,CAAC,CAAC;EACN,CAAC;EAED,MAAMa,eAAe,GAAGA,CAACN,GAAG,EAAEC,KAAK,EAAEE,GAAG,KAAK;IACzC,IAAIA,GAAG,GAAGF,KAAK,IAAI,CAAC,EAAE;IAEtB,MAAMC,GAAG,GAAG/B,IAAI,CAACC,KAAK,CAAC,CAAC6B,KAAK,GAAGE,GAAG,IAAI,CAAC,CAAC;IACzCG,eAAe,CAACN,GAAG,EAAEC,KAAK,EAAEC,GAAG,CAAC;IAChCI,eAAe,CAACN,GAAG,EAAEE,GAAG,EAAEC,GAAG,CAAC;IAC9BJ,KAAK,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,CAAC;EAC/B,CAAC;EAEDG,eAAe,CAACrB,KAAK,EAAE,CAAC,EAAEA,KAAK,CAAC7C,MAAM,CAAC;EAEvC,MAAMwD,kBAAkB,GAAG3B,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE6C,KAAK,CAAC7C;EAAO,CAAC,EAAE,CAACyD,CAAC,EAAET,CAAC,KAAKA,CAAC,CAAC;EAC5EF,KAAK,CAAC7C,IAAI,CAAC;IACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBM,iBAAiB,EAAE,EAAE;IACrBC,MAAM,EAAE,qBAAqB;IAC7BC,cAAc,EAAEG;EACpB,CAAC,CAAC;EAEF,OAAOV,KAAK;AAChB,CAAC;AAED,MAAMqB,iBAAiB,GAAIvB,YAAY,IAAK;EAAE;EAC1C,MAAMC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC/B,MAAME,KAAK,GAAG,EAAE;EAEhB,MAAMsB,UAAU,GAAGA,CAAChB,MAAM,EAAED,iBAAiB,GAAG,EAAE,EAAEkB,WAAW,GAAG,IAAI,EAAEhB,cAAc,GAAG,EAAE,KAAK;IAC5FP,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAEA,MAAM;MACdD,iBAAiB,EAAEA,iBAAiB;MACpCkB,WAAW,EAAEA,WAAW;MACxBhB,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;EACN,CAAC;EAED,MAAMiB,SAAS,GAAGA,CAACV,GAAG,EAAEW,GAAG,EAAEC,IAAI,EAAEzB,aAAa,KAAK;IACjD,MAAM0B,KAAK,GAAGb,GAAG,CAACY,IAAI,CAAC;IACvB,IAAIxB,CAAC,GAAGuB,GAAG,GAAG,CAAC;IAEfH,UAAU,CAAC,mBAAmBK,KAAK,aAAaD,IAAI,EAAE,EAAE,EAAE,EAAEA,IAAI,EAAEzB,aAAa,CAAC;IAEhF,KAAK,IAAIG,CAAC,GAAGqB,GAAG,EAAErB,CAAC,IAAIsB,IAAI,GAAG,CAAC,EAAEtB,CAAC,EAAE,EAAE;MAClCkB,UAAU,CAAC,aAAaR,GAAG,CAACV,CAAC,CAAC,OAAOA,CAAC,eAAeuB,KAAK,EAAE,EAAE,CAACvB,CAAC,CAAC,EAAEsB,IAAI,EAAEzB,aAAa,CAAC;MAEvF,IAAIa,GAAG,CAACV,CAAC,CAAC,GAAGuB,KAAK,EAAE;QAChBzB,CAAC,EAAE;QACH,CAACY,GAAG,CAACZ,CAAC,CAAC,EAAEY,GAAG,CAACV,CAAC,CAAC,CAAC,GAAG,CAACU,GAAG,CAACV,CAAC,CAAC,EAAEU,GAAG,CAACZ,CAAC,CAAC,CAAC;QACnCoB,UAAU,CAAC,YAAYR,GAAG,CAACZ,CAAC,CAAC,OAAOA,CAAC,QAAQY,GAAG,CAACV,CAAC,CAAC,OAAOA,CAAC,EAAE,EAAE,CAACF,CAAC,EAAEE,CAAC,CAAC,EAAEsB,IAAI,EAAEzB,aAAa,CAAC;MAC/F;IACJ;IAEA,MAAM2B,UAAU,GAAG1B,CAAC,GAAG,CAAC;IACxB,CAACY,GAAG,CAACc,UAAU,CAAC,EAAEd,GAAG,CAACY,IAAI,CAAC,CAAC,GAAG,CAACZ,GAAG,CAACY,IAAI,CAAC,EAAEZ,GAAG,CAACc,UAAU,CAAC,CAAC;IAE3DN,UAAU,CAAC,SAASK,KAAK,8BAA8BC,UAAU,EAAE,EAAE,CAACA,UAAU,CAAC,EAAE,IAAI,EAAE,CAAC,GAAG3B,aAAa,EAAE2B,UAAU,CAAC,CAAC;IAExH,OAAOA,UAAU;EACrB,CAAC;EAED,MAAMC,oBAAoB,GAAG,EAAE;EAE/B,MAAMC,eAAe,GAAGA,CAAChB,GAAG,EAAEW,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAID,GAAG,GAAGC,IAAI,EAAE;MACZ,MAAMK,EAAE,GAAGP,SAAS,CAACV,GAAG,EAAEW,GAAG,EAAEC,IAAI,EAAEG,oBAAoB,CAAC;MAE1D,IAAI,CAACA,oBAAoB,CAACpB,QAAQ,CAACsB,EAAE,CAAC,EAAE;QACpCF,oBAAoB,CAAC1E,IAAI,CAAC4E,EAAE,CAAC;MACjC;MAEAD,eAAe,CAAChB,GAAG,EAAEW,GAAG,EAAEM,EAAE,GAAG,CAAC,CAAC;MACjCD,eAAe,CAAChB,GAAG,EAAEiB,EAAE,GAAG,CAAC,EAAEL,IAAI,CAAC;IACtC,CAAC,MAAM,IAAID,GAAG,KAAKC,IAAI,IAAID,GAAG,IAAI,CAAC,EAAE;MACjC,IAAI,CAACI,oBAAoB,CAACpB,QAAQ,CAACgB,GAAG,CAAC,EAAE;QACrCI,oBAAoB,CAAC1E,IAAI,CAACsE,GAAG,CAAC;QAC9BH,UAAU,CAAC,gCAAgCG,GAAG,aAAa,EAAE,EAAE,EAAE,IAAI,EAAEI,oBAAoB,CAAC;MAChG;IACJ;EACJ,CAAC;EAEDC,eAAe,CAAC/B,KAAK,EAAE,CAAC,EAAEA,KAAK,CAAC7C,MAAM,GAAG,CAAC,CAAC;EAE3C,MAAMwD,kBAAkB,GAAG3B,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE6C,KAAK,CAAC7C;EAAO,CAAC,EAAE,CAACyD,CAAC,EAAET,CAAC,KAAKA,CAAC,CAAC;EAC5EF,KAAK,CAAC7C,IAAI,CAAC;IACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBO,MAAM,EAAE,qBAAqB;IAC7BD,iBAAiB,EAAE,EAAE;IACrBkB,WAAW,EAAE,IAAI;IACjBhB,cAAc,EAAEG;EACpB,CAAC,CAAC;EAEF,OAAOV,KAAK;AAChB,CAAC;AAED,MAAMgC,iBAAiB,GAAIlC,YAAY,IAAK;EAAE;EAC1C,MAAMC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC/B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAAC7C,MAAM;EACtB,IAAI+E,GAAG,GAAGhD,IAAI,CAACC,KAAK,CAACU,CAAC,GAAG,CAAC,CAAC;EAC3B,IAAIK,aAAa,GAAG,EAAE;EAEtB,MAAMqB,UAAU,GAAGA,CAAChB,MAAM,EAAED,iBAAiB,GAAG,EAAE,EAAE6B,WAAW,GAAGD,GAAG,EAAE1B,cAAc,GAAG,EAAE,KAAK;IAC3FP,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAEA,MAAM;MACdD,iBAAiB,EAAEA,iBAAiB;MACpC4B,GAAG,EAAEC,WAAW;MAChB3B,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;EACN,CAAC;EAED,OAAO0B,GAAG,GAAG,CAAC,EAAE;IACZX,UAAU,CAAC,4BAA4BW,GAAG,EAAE,EAAE,EAAE,EAAEA,GAAG,EAAEhC,aAAa,CAAC;IAErE,KAAK,IAAIC,CAAC,GAAG+B,GAAG,EAAE/B,CAAC,GAAGN,CAAC,EAAEM,CAAC,EAAE,EAAE;MAC1B,MAAMiC,IAAI,GAAGpC,KAAK,CAACG,CAAC,CAAC;MACrB,IAAIE,CAAC,GAAGF,CAAC;MAEToB,UAAU,CAAC,qBAAqBa,IAAI,aAAajC,CAAC,WAAW+B,GAAG,EAAE,EAAE,CAAC/B,CAAC,CAAC,EAAE+B,GAAG,EAAEhC,aAAa,CAAC;MAE5F,OAAOG,CAAC,IAAI6B,GAAG,IAAIlC,KAAK,CAACK,CAAC,GAAG6B,GAAG,CAAC,GAAGE,IAAI,EAAE;QACtCb,UAAU,CAAC,aAAavB,KAAK,CAACK,CAAC,GAAG6B,GAAG,CAAC,OAAO7B,CAAC,GAAG6B,GAAG,QAAQE,IAAI,qBAAqB/B,CAAC,YAAY6B,GAAG,EAAE,EAAE,CAAC7B,CAAC,EAAEA,CAAC,GAAG6B,GAAG,CAAC,EAAEA,GAAG,EAAEhC,aAAa,CAAC;QAE1IF,KAAK,CAACK,CAAC,CAAC,GAAGL,KAAK,CAACK,CAAC,GAAG6B,GAAG,CAAC;QAEzBX,UAAU,CAAC,YAAYvB,KAAK,CAACK,CAAC,GAAG6B,GAAG,CAAC,OAAO7B,CAAC,WAAW6B,GAAG,EAAE,EAAE,CAAC7B,CAAC,CAAC,EAAE6B,GAAG,EAAEhC,aAAa,CAAC;QAEvFG,CAAC,IAAI6B,GAAG;MACZ;MAEAlC,KAAK,CAACK,CAAC,CAAC,GAAG+B,IAAI;MAEfb,UAAU,CAAC,WAAWa,IAAI,aAAa/B,CAAC,WAAW6B,GAAG,EAAE,EAAE,CAAC7B,CAAC,CAAC,EAAE6B,GAAG,EAAEhC,aAAa,CAAC;IACtF;IAEAgC,GAAG,GAAGhD,IAAI,CAACC,KAAK,CAAC+C,GAAG,GAAG,CAAC,CAAC;EAC7B;EAEA,MAAMvB,kBAAkB,GAAG3B,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE0C;EAAE,CAAC,EAAE,CAACe,CAAC,EAAET,CAAC,KAAKA,CAAC,CAAC;EACjEoB,UAAU,CAAC,qBAAqB,EAAE,EAAE,EAAE,CAAC,EAAEZ,kBAAkB,CAAC;EAE5D,OAAOV,KAAK;AAChB,CAAC;AAED,MAAMoC,qBAAqB,GAAItC,YAAY,IAAK;EAAE;EAC9C,MAAMC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC/B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAAC7C,MAAM;EACtB,IAAI+C,aAAa,GAAG,EAAE;EAEtB,MAAMqB,UAAU,GAAGA,CAAChB,MAAM,EAAED,iBAAiB,GAAG,EAAE,EAAEgC,SAAS,GAAG,IAAI,EAAE9B,cAAc,GAAG,EAAE,KAAK;IAC1FP,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAEA,MAAM;MACdD,iBAAiB,EAAEA,iBAAiB;MACpCkB,WAAW,EAAEc,SAAS;MACtB9B,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;EACN,CAAC;EAED,KAAK,IAAIL,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,CAAC,GAAG,CAAC,EAAEM,CAAC,EAAE,EAAE;IAC5B,IAAIoC,QAAQ,GAAGpC,CAAC;IAEhBoB,UAAU,CAAC,iBAAiBpB,CAAC,GAAG,CAAC,uBAAuBH,KAAK,CAACG,CAAC,CAAC,aAAaA,CAAC,GAAG,EAAE,EAAE,EAAEoC,QAAQ,EAAErC,aAAa,CAAC;IAE/G,KAAK,IAAIG,CAAC,GAAGF,CAAC,GAAG,CAAC,EAAEE,CAAC,GAAGR,CAAC,EAAEQ,CAAC,EAAE,EAAE;MAC5BkB,UAAU,CAAC,aAAavB,KAAK,CAACK,CAAC,CAAC,OAAOA,CAAC,yBAAyBL,KAAK,CAACuC,QAAQ,CAAC,OAAOA,QAAQ,GAAG,EAAE,CAAClC,CAAC,CAAC,EAAEkC,QAAQ,EAAErC,aAAa,CAAC;MAEjI,IAAIF,KAAK,CAACK,CAAC,CAAC,GAAGL,KAAK,CAACuC,QAAQ,CAAC,EAAE;QAC5BA,QAAQ,GAAGlC,CAAC;QACZkB,UAAU,CAAC,sBAAsBvB,KAAK,CAACuC,QAAQ,CAAC,aAAaA,QAAQ,GAAG,EAAE,CAAClC,CAAC,CAAC,EAAEkC,QAAQ,EAAErC,aAAa,CAAC;MAC3G;IACJ;IAEA,IAAIqC,QAAQ,KAAKpC,CAAC,EAAE;MAChB,CAACH,KAAK,CAACG,CAAC,CAAC,EAAEH,KAAK,CAACuC,QAAQ,CAAC,CAAC,GAAG,CAACvC,KAAK,CAACuC,QAAQ,CAAC,EAAEvC,KAAK,CAACG,CAAC,CAAC,CAAC;MACzDoB,UAAU,CAAC,YAAYvB,KAAK,CAACG,CAAC,CAAC,wBAAwBH,KAAK,CAACuC,QAAQ,CAAC,oDAAoDpC,CAAC,GAAG,EAAE,CAACA,CAAC,EAAEoC,QAAQ,CAAC,EAAE,IAAI,EAAErC,aAAa,CAAC;IACvK,CAAC,MAAM;MACFqB,UAAU,CAAC,cAAcpB,CAAC,mDAAmD,EAAE,EAAE,EAAE,IAAI,EAAED,aAAa,CAAC;IAC5G;IAEAA,aAAa,CAAC9C,IAAI,CAAC+C,CAAC,CAAC;IACrBoB,UAAU,CAAC,YAAYpB,CAAC,yBAAyB,EAAE,EAAE,EAAE,IAAI,EAAED,aAAa,CAAC;EAC/E;EAEA,IAAIL,CAAC,GAAG,CAAC,IAAI,CAACK,aAAa,CAACQ,QAAQ,CAACb,CAAC,GAAG,CAAC,CAAC,EAAE;IACzCK,aAAa,CAAC9C,IAAI,CAACyC,CAAC,GAAG,CAAC,CAAC;EAC7B;EAEA,MAAMc,kBAAkB,GAAG3B,KAAK,CAACC,IAAI,CAAC;IAAE9B,MAAM,EAAE0C;EAAE,CAAC,EAAE,CAACe,CAAC,EAAEH,CAAC,KAAKA,CAAC,CAAC;EACjEc,UAAU,CAAC,yBAAyB,EAAE,EAAE,EAAE,IAAI,EAAEZ,kBAAkB,CAAC;EAEnE,OAAOV,KAAK;AAChB,CAAC;AAED,MAAMuC,oBAAoB,GAAGA,CAACzB,GAAG,EAAEpD,MAAM,KAAK;EAAE;EAC5C,MAAMsC,KAAK,GAAG,EAAE;EAChB,MAAMD,KAAK,GAAG,CAAC,GAAGe,GAAG,CAAC;EAEtBd,KAAK,CAAC7C,IAAI,CAAC;IACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBO,MAAM,EAAE,6BAA6B5C,MAAM,yBAAyB;IACpE+D,GAAG,EAAE,CAAC;IACNC,IAAI,EAAE3B,KAAK,CAAC7C,MAAM,GAAG,CAAC;IACtB8D,GAAG,EAAE,CAAC,CAAC;IACPwB,KAAK,EAAE,KAAK;IACZC,aAAa,EAAE/E,MAAM;IACrB2C,iBAAiB,EAAE,EAAE;IACrBqC,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,IAAIjB,GAAG,GAAG,CAAC;EACX,IAAIC,IAAI,GAAG3B,KAAK,CAAC7C,MAAM,GAAG,CAAC;EAC3B,IAAIsF,KAAK,GAAG,KAAK;EACjB,IAAIxB,GAAG,GAAG,CAAC,CAAC;EAEZ,OAAOS,GAAG,IAAIC,IAAI,EAAE;IAChBV,GAAG,GAAG/B,IAAI,CAACC,KAAK,CAAC,CAACuC,GAAG,GAAGC,IAAI,IAAI,CAAC,CAAC;IAElC1B,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,iCAAiCU,GAAG,cAAcjB,KAAK,CAACiB,GAAG,CAAC,EAAE;MACtES,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVV,GAAG,EAAEA,GAAG;MACRwB,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,CAACW,GAAG,CAAC;MACxB0B,QAAQ,EAAE;IACd,CAAC,CAAC;IAEF,IAAI3C,KAAK,CAACiB,GAAG,CAAC,KAAKtD,MAAM,EAAE;MACvB8E,KAAK,GAAG,IAAI;MACZ;IACJ,CAAC,MAAM,IAAIzC,KAAK,CAACiB,GAAG,CAAC,GAAGtD,MAAM,EAAE;MAC5B+D,GAAG,GAAGT,GAAG,GAAG,CAAC;MACbhB,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBO,MAAM,EAAE,WAAW5C,MAAM,qBAAqBqC,KAAK,CAACiB,GAAG,CAAC,oCAAoCS,GAAG,IAAI;QACnGA,GAAG,EAAEA,GAAG;QACRC,IAAI,EAAEA,IAAI;QACVV,GAAG,EAAEA,GAAG;QACRwB,KAAK,EAAE,KAAK;QACZC,aAAa,EAAE/E,MAAM;QACrB2C,iBAAiB,EAAE,EAAE;QACrBqC,QAAQ,EAAE;MACd,CAAC,CAAC;IACN,CAAC,MAAM;MACHhB,IAAI,GAAGV,GAAG,GAAG,CAAC;MACdhB,KAAK,CAAC7C,IAAI,CAAC;QACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBO,MAAM,EAAE,WAAW5C,MAAM,kBAAkBqC,KAAK,CAACiB,GAAG,CAAC,oCAAoCU,IAAI,IAAI;QACjGD,GAAG,EAAEA,GAAG;QACRC,IAAI,EAAEA,IAAI;QACVV,GAAG,EAAEA,GAAG;QACRwB,KAAK,EAAE,KAAK;QACZC,aAAa,EAAE/E,MAAM;QACrB2C,iBAAiB,EAAE,EAAE;QACrBqC,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;EACJ;EAEA,IAAIF,KAAK,EAAE;IACPxC,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,mBAAmB5C,MAAM,mBAAmBsD,GAAG,oBAAoB;MAC3ES,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVV,GAAG,EAAEA,GAAG;MACRwB,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,CAACW,GAAG,CAAC;MACxB0B,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC,MAAM;IACH1C,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,mBAAmB5C,MAAM,oBAAoB+D,GAAG,aAAaC,IAAI,IAAI;MAC7ED,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVV,GAAG,EAAE,CAAC,CAAC;MACPwB,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,EAAE;MACrBqC,QAAQ,EAAE;IACd,CAAC,CAAC;EACN;EAEA,OAAO1C,KAAK;AAChB,CAAC;AAED,MAAM2C,oBAAoB,GAAGA,CAAC7B,GAAG,EAAEpD,MAAM,KAAK;EAAE;EAC5C,MAAMsC,KAAK,GAAG,EAAE;EAChB,MAAMD,KAAK,GAAG,CAAC,GAAGe,GAAG,CAAC;EACtB,MAAMlB,CAAC,GAAGG,KAAK,CAAC7C,MAAM;EACtB,IAAIsF,KAAK,GAAG,KAAK;EACjB,IAAII,UAAU,GAAG,CAAC,CAAC;EAEnB5C,KAAK,CAAC7C,IAAI,CAAC;IACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBO,MAAM,EAAE,oCAAoC5C,MAAM,GAAG;IACrDmF,aAAa,EAAE,CAAC,CAAC;IACjBL,KAAK,EAAE,KAAK;IACZC,aAAa,EAAE/E,MAAM;IACrB2C,iBAAiB,EAAE,EAAE;IACrByC,cAAc,EAAE;EACpB,CAAC,CAAC;EAEF,KAAK,IAAI5C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGN,CAAC,EAAEM,CAAC,EAAE,EAAE;IAExBF,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,8BAA8BJ,CAAC,cAAcH,KAAK,CAACG,CAAC,CAAC,EAAE;MAC/D2C,aAAa,EAAE3C,CAAC;MAChBsC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,CAACH,CAAC,CAAC;MACtB4C,cAAc,EAAE;IACpB,CAAC,CAAC;IAEF,IAAI/C,KAAK,CAACG,CAAC,CAAC,KAAKxC,MAAM,EAAE;MACrB8E,KAAK,GAAG,IAAI;MACZI,UAAU,GAAG1C,CAAC;MACd;IACJ;IAEAF,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,SAASP,KAAK,CAACG,CAAC,CAAC,mBAAmBxC,MAAM,yBAAyB;MAC3EmF,aAAa,EAAE3C,CAAC;MAChBsC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,EAAE;MACrByC,cAAc,EAAE;IACpB,CAAC,CAAC;EACN;EAEA,IAAIN,KAAK,EAAE;IACPxC,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,mBAAmB5C,MAAM,mBAAmBkF,UAAU,oBAAoB;MAClFC,aAAa,EAAED,UAAU;MACzBJ,KAAK,EAAE,IAAI;MACXC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,CAACuC,UAAU,CAAC;MAC/BE,cAAc,EAAE;IACpB,CAAC,CAAC;EACN,CAAC,MAAM;IACH9C,KAAK,CAAC7C,IAAI,CAAC;MACP4C,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBO,MAAM,EAAE,mBAAmB5C,MAAM,0DAA0D;MAC3FmF,aAAa,EAAEjD,CAAC,GAAG,CAAC;MACpB4C,KAAK,EAAE,KAAK;MACZC,aAAa,EAAE/E,MAAM;MACrB2C,iBAAiB,EAAE,EAAE;MACrByC,cAAc,EAAE;IACpB,CAAC,CAAC;EACN;EAEA,OAAO9C,KAAK;AAChB,CAAC;;AAED;AACA,eAAe,SAAS+C,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAC5B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAGnJ,QAAQ,CAAC,MAAM,CAAC;;EAEtD;EACA,MAAM,CAACiG,KAAK,EAAEmD,QAAQ,CAAC,GAAGpJ,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAACqJ,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGtJ,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACuJ,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGxJ,QAAQ,CAAC,cAAc,CAAC;EAC1E,MAAM,CAACyJ,YAAY,EAAEC,eAAe,CAAC,GAAG1J,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAAC2J,UAAU,EAAEC,aAAa,CAAC,GAAG5J,QAAQ,CAAC,MAAM8E,mBAAmB,CAACZ,kBAAkB,CAAC,CAAC;EAC3F,MAAM,CAAC2F,SAAS,EAAEC,YAAY,CAAC,GAAG9J,QAAQ,CAACkE,kBAAkB,CAAC;EAC9D,MAAM,CAAC6F,eAAe,EAAEC,kBAAkB,CAAC,GAAGhK,QAAQ,CAAC,EAAE,CAAC;EAC1D,MAAM,CAACiK,KAAK,EAAEC,QAAQ,CAAC,GAAGlK,QAAQ,CAACqE,kBAAkB,CAAC;;EAEtD;EACA,MAAM,CAAC8F,YAAY,EAAEC,eAAe,CAAC,GAAGpK,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACA,MAAM,CAACqK,WAAW,EAAEC,cAAc,CAAC,GAAGtK,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMuK,YAAY,GAAGpK,MAAM,CAAC,IAAI,CAAC;;EAEjC;EACA,MAAMqK,WAAW,GAAGvE,KAAK,GAAGA,KAAK,CAACoD,gBAAgB,CAAC,GAAG,IAAI;EAC1D,MAAMoB,YAAY,GAAGD,WAAW,GAAGA,WAAW,CAACxE,KAAK,GAAG2D,UAAU;EACjE,MAAMe,gBAAgB,GAAGF,WAAW,GAAGA,WAAW,CAAClE,iBAAiB,GAAG,EAAE;EACzE,MAAMuB,UAAU,GAAG2C,WAAW,GAAGA,WAAW,CAAChD,WAAW,GAAG,IAAI;EAC/D,MAAMtB,aAAa,GAAGsE,WAAW,GAAGA,WAAW,CAAChE,cAAc,IAAI,EAAE,GAAG,EAAE;EACzE,MAAMmE,iBAAiB,GAAG1E,KAAK,IAAIoD,gBAAgB,IAAIpD,KAAK,CAAC9C,MAAM,GAAG,CAAC;EACvE,MAAMyH,iBAAiB,GAAGtG,UAAU,CAACiF,iBAAiB,CAAC;EAEvD,MAAMsB,iBAAiB,GAAGtB,iBAAiB,KAAK,cAAc,IAAIA,iBAAiB,KAAK,cAAc;EACtG,MAAMuB,oBAAoB,GAAG,CAAC,YAAY,EAAE,WAAW,EAAE,WAAW,EAAE,WAAW,EAAE,eAAe,EAAE,cAAc,EAAE,cAAc,CAAC,CAACpE,QAAQ,CAAC6C,iBAAiB,CAAC;;EAE/J;EACA,MAAMwB,QAAQ,GAAG,GAAG,GAAGN,YAAY,CAACtH,MAAM,GAAG,CAAC,CAAC,CAAC;;EAGhD;EACA,MAAM6H,sBAAsB,GAAGA,CAACjG,IAAI,GAAG8E,SAAS,KAAK;IACjD,IAAIQ,WAAW,EAAEY,wBAAwB,CAAC,CAAC;IAC3C,MAAMC,QAAQ,GAAGpG,mBAAmB,CAACC,IAAI,CAAC;IAC1C6E,aAAa,CAACsB,QAAQ,CAAC;IACvBlB,kBAAkB,CAAC,EAAE,CAAC;IACtBF,YAAY,CAAC/E,IAAI,CAAC;IAClB,IAAI8F,iBAAiB,IAAIK,QAAQ,CAAC/H,MAAM,GAAG,CAAC,EAAE;MAC1CiH,eAAe,CAACc,QAAQ,CAAChG,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG8F,QAAQ,CAAC/H,MAAM,CAAC,CAAC,CAAC;IAC1E,CAAC,MAAM;MACHiH,eAAe,CAAC,EAAE,CAAC;IACvB;EACJ,CAAC;EAED,MAAMe,qBAAqB,GAAGA,CAAA,KAAM;IAChC,IAAId,WAAW,EAAEY,wBAAwB,CAAC,CAAC;IAC3C,MAAMC,QAAQ,GAAG7F,gBAAgB,CAAC0E,eAAe,CAAC;IAClD,IAAImB,QAAQ,CAAC/H,MAAM,GAAG,CAAC,IAAI+H,QAAQ,CAAC/H,MAAM,IAAI,EAAE,EAAE;MAC9CyG,aAAa,CAACsB,QAAQ,CAAC;MACvBpB,YAAY,CAACoB,QAAQ,CAAC/H,MAAM,CAAC;MAC7BuG,eAAe,CAAC,IAAI,CAAC;MACrB,IAAImB,iBAAiB,IAAIK,QAAQ,CAAC/H,MAAM,GAAG,CAAC,EAAE;QAC5CiH,eAAe,CAACc,QAAQ,CAAChG,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAG8F,QAAQ,CAAC/H,MAAM,CAAC,CAAC,CAAC;MACxE,CAAC,MAAM;QACLiH,eAAe,CAAC,EAAE,CAAC;MACrB;IACJ,CAAC,MAAM,IAAIc,QAAQ,CAAC/H,MAAM,GAAG,EAAE,EAAE;MAC5BuG,eAAe,CAAC,qDAAqD,CAAC;IAC3E,CAAC,MAAM;MACHA,eAAe,CAAC,6FAA6F,CAAC;IAClH;EACJ,CAAC;EAED,MAAM0B,iBAAiB,GAAGA,CAAA,KAAM;IAC9B;IACA;IACA,MAAMC,SAAS,GAAGC,MAAM,CAACnB,YAAY,CAAC,GAAG,SAAS;IAClDC,eAAe,CAACiB,SAAS,CAAC;IAC1BE,UAAU,CAAC,MAAMnB,eAAe,CAAClF,IAAI,CAACsG,KAAK,CAACF,MAAM,CAACnB,YAAY,CAAC,CAAC,CAAC,EAAE,EAAE,CAAC;EACzE,CAAC;;EAGD;;EAEA;EACA,MAAMsB,OAAO,GAAGvL,WAAW,CAAC,MAAM;IAChC,IAAI,CAAC+F,KAAK,IAAIoD,gBAAgB,IAAIpD,KAAK,CAAC9C,MAAM,GAAG,CAAC,EAAE;MAChDmH,cAAc,CAAC,KAAK,CAAC;MACrB;IACJ;IAEA,MAAMoB,aAAa,GAAGrC,gBAAgB,GAAG,CAAC;IAC1CC,mBAAmB,CAACoC,aAAa,CAAC;IAElCnB,YAAY,CAACoB,OAAO,GAAGJ,UAAU,CAAC,MAAM;MACpCE,OAAO,CAAC,CAAC;IACb,CAAC,EAAExB,KAAK,CAAC;EAEX,CAAC,EAAE,CAACZ,gBAAgB,EAAEpD,KAAK,EAAEgE,KAAK,CAAC,CAAC;;EAEpC;EACA,MAAMgB,wBAAwB,GAAG/K,WAAW,CAAC,MAAM;IACjD,IAAImK,WAAW,EAAE;MACb,IAAIE,YAAY,CAACoB,OAAO,EAAE;QACtBC,YAAY,CAACrB,YAAY,CAACoB,OAAO,CAAC;MACtC;MACArB,cAAc,CAAC,KAAK,CAAC;IACzB,CAAC,MAAM;MACH,IAAIK,iBAAiB,EAAE;QACnBrB,mBAAmB,CAAC,CAAC,CAAC;MAC1B;MACAgB,cAAc,CAAC,IAAI,CAAC;IACxB;EACF,CAAC,EAAE,CAACD,WAAW,EAAEM,iBAAiB,CAAC,CAAC;;EAEpC;EACA1K,SAAS,CAAC,MAAM;IACd,IAAIoK,WAAW,EAAE;MACboB,OAAO,CAAC,CAAC;IACb,CAAC,MAAM,IAAIlB,YAAY,CAACoB,OAAO,EAAE;MAC7BC,YAAY,CAACrB,YAAY,CAACoB,OAAO,CAAC;IACtC;;IAEA;IACA,OAAO,MAAM;MACT,IAAIpB,YAAY,CAACoB,OAAO,EAAE;QACtBC,YAAY,CAACrB,YAAY,CAACoB,OAAO,CAAC;MACtC;IACJ,CAAC;EACH,CAAC,EAAE,CAACtB,WAAW,EAAEoB,OAAO,CAAC,CAAC,CAAC,CAAC;;EAE5B;EACA,MAAMI,cAAc,GAAGA,CAAA,KAAM;IACzB,IAAIxB,WAAW,EAAEY,wBAAwB,CAAC,CAAC;IAC3C3B,mBAAmB,CAACwC,IAAI,IAAI5G,IAAI,CAACpB,GAAG,CAAC,CAAC,EAAEgI,IAAI,GAAG,CAAC,CAAC,CAAC;EACtD,CAAC;EAED,MAAMC,iBAAiB,GAAGA,CAAA,KAAM;IAC5B,IAAI1B,WAAW,EAAEY,wBAAwB,CAAC,CAAC;IAC3C,IAAIhF,KAAK,IAAIoD,gBAAgB,GAAGpD,KAAK,CAAC9C,MAAM,GAAG,CAAC,EAAE;MAC9CmG,mBAAmB,CAACwC,IAAI,IAAIA,IAAI,GAAG,CAAC,CAAC;IACzC;EACJ,CAAC;EAED,MAAME,WAAW,GAAGA,CAAA,KAAM;IACtB,IAAI3B,WAAW,EAAEY,wBAAwB,CAAC,CAAC;IAC3C3B,mBAAmB,CAAC,CAAC,CAAC;EAC1B,CAAC;;EAED;EACArJ,SAAS,CAAC,MAAM;IACd;IACA,IAAIsK,YAAY,CAACoB,OAAO,EAAE;MACtBC,YAAY,CAACrB,YAAY,CAACoB,OAAO,CAAC;MAClCrB,cAAc,CAAC,KAAK,CAAC;IACzB;IAEA,IAAIpB,WAAW,KAAK,MAAM,IAAIS,UAAU,CAACxG,MAAM,KAAK,CAAC,EAAE;IAEvDiG,QAAQ,CAAC,IAAI,CAAC;IACdE,mBAAmB,CAAC,CAAC,CAAC;IACtBI,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI,CAACoB,oBAAoB,EAAE;MACvBpB,eAAe,CAAC,aAAaH,iBAAiB,kBAAkB,CAAC;MACjE;IACJ;IAEA,IAAI0C,cAAc,GAAGtC,UAAU,CAAClE,GAAG,CAACyG,GAAG,IAAIZ,MAAM,CAACY,GAAG,CAAC,CAAC;IACvD,IAAIC,YAAY,GAAG,CAAC,GAAGxC,UAAU,CAAC,CAAC,CAAC;;IAEpC,MAAMhG,MAAM,GAAGV,KAAK,CAACqI,MAAM,CAACnB,YAAY,CAAC,CAAC,GAAG,CAAC,GAAGjF,IAAI,CAACsG,KAAK,CAACF,MAAM,CAACnB,YAAY,CAAC,CAAC;;IAEjF;IACA,IAAIZ,iBAAiB,KAAK,cAAc,EAAE;MACtC0C,cAAc,CAACG,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;MACpCH,YAAY,GAAGF,cAAc,CAAC,CAAC;IACnC,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,cAAc,EAAE;MAC7C0C,cAAc,GAAG,CAAC,GAAGtC,UAAU,CAAC;IACpC;IAEA,IAAI4C,QAAQ,GAAG,EAAE;IAEjB,IAAI;MACA,IAAIhD,iBAAiB,KAAK,YAAY,EAAE;QACpCgD,QAAQ,GAAGzG,kBAAkB,CAACmG,cAAc,CAAC;MACjD,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,WAAW,EAAE;QAC1CgD,QAAQ,GAAG1F,iBAAiB,CAACoF,cAAc,CAAC;MAChD,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,WAAW,EAAE;QAC1CgD,QAAQ,GAAGjF,iBAAiB,CAAC2E,cAAc,CAAC;MAChD,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,WAAW,EAAE;QAC1CgD,QAAQ,GAAGtE,iBAAiB,CAACgE,cAAc,CAAC;MAChD,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,eAAe,EAAE;QAC7CgD,QAAQ,GAAGlE,qBAAqB,CAAC4D,cAAc,CAAC;MACrD,CAAC,MAAM,IAAI1C,iBAAiB,KAAK,cAAc,EAAE;QAC5C;QACDgD,QAAQ,GAAG/D,oBAAoB,CAACyD,cAAc,EAAEtI,MAAM,CAAC;MAC3D,CAAC,MAAM,IAAI4F,iBAAiB,KAAK,cAAc,EAAE;QAC7C;QACAgD,QAAQ,GAAG3D,oBAAoB,CAACuD,YAAY,EAAExI,MAAM,CAAC;MACzD;MAEAyF,QAAQ,CAACmD,QAAQ,CAAC;MAClB;MACA,IAAIhD,iBAAiB,KAAK,cAAc,EAAE;QACrCK,aAAa,CAACuC,YAAY,CAAC;MAChC;IAEJ,CAAC,CAAC,OAAOK,KAAK,EAAE;MACZC,OAAO,CAACD,KAAK,CAAC,yBAAyB,EAAEA,KAAK,CAAC;MAC/C9C,eAAe,CAAC,sBAAsB8C,KAAK,CAAChK,OAAO,EAAE,CAAC;IAC1D;EAEF,CAAC,EAAE,CAACmH,UAAU,EAAEJ,iBAAiB,EAAEY,YAAY,EAAEjB,WAAW,CAAC,CAAC;;EAG9D;;EAEA,MAAMwD,uBAAuB,GAAGA,CAAA,KAAM;IAElC,MAAMC,UAAU,GAAGnC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE9C,GAAG;IACnC,MAAMkF,WAAW,GAAGpC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE7C,IAAI;IACrC,MAAMkF,UAAU,GAAGrC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEvD,GAAG;IACnC,MAAMhG,OAAO,GAAGuJ,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE/B,KAAK;IAClC,MAAMvH,aAAa,GAAGsJ,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEzB,cAAc;IAEjD,MAAM+D,aAAa,GAAG5H,IAAI,CAACsG,KAAK,CAACF,MAAM,CAACnB,YAAY,CAAC,CAAC,CAAC,CAAC;;IAExD,oBACI9J,OAAA;MAAKkB,SAAS,EAAC,8DAA8D;MAAAK,QAAA,eACzEvB,OAAA;QAAKkB,SAAS,EAAC,iCAAiC;QAAAK,QAAA,gBAE5CvB,OAAA;UAAKkB,SAAS,EAAC,4EAA4E;UAAAK,QAAA,gBACvFvB,OAAA;YAAIkB,SAAS,EAAC,+CAA+C;YAAAK,QAAA,EAAC;UAAsB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAGzF3B,OAAA;YAAAuB,QAAA,gBACIvB,OAAA;cAAOkB,SAAS,EAAC,8CAA8C;cAAAK,QAAA,EAAC;YAAgB;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACxF3B,OAAA;cACII,KAAK,EAAE8I,iBAAkB;cACzB9F,QAAQ,EAAGC,CAAC,IAAK;gBACb8F,oBAAoB,CAAC9F,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAC;gBACpCuL,WAAW,CAAC,CAAC;cACjB,CAAE;cACFzK,SAAS,EAAC,iGAAiG;cAAAK,QAAA,gBAE3GvB,OAAA;gBAAQI,KAAK,EAAC,YAAY;gBAAAmB,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC/C3B,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAAmB,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7C3B,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAAmB,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7C3B,OAAA;gBAAQI,KAAK,EAAC,eAAe;gBAAAmB,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACrD3B,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAAmB,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7C3B,OAAA;gBAAQI,KAAK,EAAC,cAAc;gBAAAmB,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACnD3B,OAAA;gBAAQI,KAAK,EAAC,cAAc;gBAAAmB,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC/C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAGN3B,OAAA;YAAKkB,SAAS,EAAC,YAAY;YAAAK,QAAA,gBACvBvB,OAAA;cAAKkB,SAAS,EAAC,QAAQ;cAAAK,QAAA,gBACnBvB,OAAA;gBAAOkB,SAAS,EAAC,8CAA8C;gBAAAK,QAAA,GAAC,cAAY,EAACiI,SAAS,EAAC,GAAC;cAAA;gBAAAhI,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAChG3B,OAAA;gBACImD,IAAI,EAAC,OAAO;gBACZK,GAAG,EAAC,GAAG;gBACPC,GAAG,EAAC,IAAI;gBACRrD,KAAK,EAAEoJ,SAAU;gBACjBpG,QAAQ,EAAGC,CAAC,IAAKoG,YAAY,CAACwB,MAAM,CAAC5H,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAC,CAAE;gBACtDsM,SAAS,EAAEA,CAAA,KAAM/B,sBAAsB,CAACM,MAAM,CAACzB,SAAS,CAAC,CAAE;gBAC3DtI,SAAS,EAAC;cAA2E;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC,eACN3B,OAAA;cAAKkB,SAAS,EAAC,QAAQ;cAAAK,QAAA,gBACnBvB,OAAA;gBAAOkB,SAAS,EAAC,8CAA8C;gBAAAK,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAO,CAAC,eAClF3B,OAAA;gBACImD,IAAI,EAAC,OAAO;gBACZK,GAAG,EAAC,IAAI;gBACRC,GAAG,EAAC,KAAK;gBACTrD,KAAK,EAAEwJ,KAAM;gBACbxG,QAAQ,EAAGC,CAAC,IAAKwG,QAAQ,CAACoB,MAAM,CAAC5H,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAC,CAAE;gBAClDc,SAAS,EAAC;cAA2E;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxF,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,EAGL6I,iBAAiB,iBACdxK,OAAA;YAAKkB,SAAS,EAAC,iBAAiB;YAAAK,QAAA,gBAC5BvB,OAAA;cACImD,IAAI,EAAC,QAAQ;cACbI,WAAW,EAAC,eAAe;cAC3BnD,KAAK,EAAEqM,aAAc;cACrBrJ,QAAQ,EAAGC,CAAC,IAAK0G,eAAe,CAAC1G,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAE;cACjDc,SAAS,EAAC;YAAiG;cAAAM,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9G,CAAC,eACF3B,OAAA;cACI0D,OAAO,EAAEqH,iBAAkB;cAC3B7J,SAAS,EAAC,+IAA+I;cACzJyC,QAAQ,EAAEqG,WAAW,IAAI,CAACS,oBAAqB;cAAAlJ,QAAA,EAClD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CACR,eAGD3B,OAAA;YAAKkB,SAAS,EAAC,0BAA0B;YAAAK,QAAA,eACrCvB,OAAA;cACI0D,OAAO,EAAEA,CAAA,KAAMiH,sBAAsB,CAAC,CAAE;cACxCzJ,SAAS,EAAC,kIAAkI;cAC5IyC,QAAQ,EAAEqG,WAAY;cAAAzI,QAAA,EACzB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAGN3B,OAAA;YAAKkB,SAAS,EAAC,MAAM;YAAAK,QAAA,gBACjBvB,OAAA;cAAOkB,SAAS,EAAC,8CAA8C;cAAAK,QAAA,EAAC;YAA8B;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAO,CAAC,eACtG3B,OAAA;cAAKkB,SAAS,EAAC,YAAY;cAAAK,QAAA,gBACvBvB,OAAA;gBACImD,IAAI,EAAC,MAAM;gBACXI,WAAW,EAAC,wBAAwB;gBACpCnD,KAAK,EAAEsJ,eAAgB;gBACvBtG,QAAQ,EAAGC,CAAC,IAAKsG,kBAAkB,CAACtG,CAAC,CAACC,MAAM,CAAClD,KAAK,CAAE;gBACpDc,SAAS,EAAC;cAA+D;gBAAAM,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAC5E,CAAC,eACF3B,OAAA;gBACI0D,OAAO,EAAEoH,qBAAsB;gBAC/B5J,SAAS,EAAC,6KAA6K;gBACvLyC,QAAQ,EAAEqG,WAAW,IAAIN,eAAe,CAAC5G,MAAM,KAAK,CAAE;gBAAAvB,QAAA,EACzD;cAED;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACR,CAAC,EACLyH,YAAY,iBAAIpJ,OAAA;cAAGkB,SAAS,EAAC,2BAA2B;cAAAK,QAAA,EAAE6H;YAAY;cAAA5H,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAI,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC3E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGN3B,OAAA;UAAKkB,SAAS,EAAC,8BAA8B;UAAAK,QAAA,gBAGzCvB,OAAA;YAAKkB,SAAS,EAAC,8EAA8E;YAAAK,QAAA,eACzFvB,OAAA;cACIkB,SAAS,EAAC,yDAAyD;cACnEC,KAAK,EAAE;gBAAEwL,SAAS,EAAE,GAAG7I,eAAe;cAAK,CAAE;cAAAvC,QAAA,EAE5C6I,YAAY,CAAChF,GAAG,CAAC,CAAChF,KAAK,EAAEwM,KAAK,kBAC3B5M,OAAA,CAACC,QAAQ;gBAELG,KAAK,EAAEA,KAAM;gBACbC,MAAM,EAAED,KAAM;gBACdE,KAAK,EAAEoK,QAAS;gBAChBnK,aAAa,EAAE8J,gBAAgB,CAAChE,QAAQ,CAACuG,KAAK,CAAE;gBAChDpM,OAAO,EAAEoM,KAAK,KAAKpF,UAAW;gBAC9B/G,QAAQ,EAAEoF,aAAa,CAACQ,QAAQ,CAACuG,KAAK,CAAC,IAAI,CAACpC;gBAC5C;gBAAA;gBACA9J,WAAW,EAAEkM,KAAK,KAAKJ,UAAW;gBAClC5L,OAAO,EAAEA,OAAO,KAAKgM,KAAK,KAAKJ,UAAU,IAAII,KAAK,MAAKzC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE1B,aAAa,EAAE;gBACnF9H,aAAa,EAAE6J,iBAAiB,IAAIoC,KAAK,IAAIN,UAAU,IAAIM,KAAK,IAAIL,WAAY;gBAChF1L,aAAa,EAAEA,aAAa,IAAI+L,KAAK,MAAKzC,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE1B,aAAa;cAAC,GAXhEmE,KAAK;gBAAApL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAYb,CACJ;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACD;UAAC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGN3B,OAAA;YAAKkB,SAAS,EAAC,+EAA+E;YAAAK,QAAA,gBAC1FvB,OAAA;cACI0D,OAAO,EAAEiI,WAAY;cACrBzK,SAAS,EAAC,2GAA2G;cACrHyC,QAAQ,EAAEqG,WAAW,IAAIhB,gBAAgB,KAAK,CAAE;cAAAzH,QAAA,EACnD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACI0D,OAAO,EAAE8H,cAAe;cACxBtK,SAAS,EAAC,+GAA+G;cACzHyC,QAAQ,EAAEqG,WAAW,IAAIhB,gBAAgB,KAAK,CAAE;cAAAzH,QAAA,EACnD;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cACI0D,OAAO,EAAEkH,wBAAyB;cAClC1J,SAAS,EAAE,+EAA+E8I,WAAW,GAAG,6BAA6B,GAAG,iCAAiC,iCAAkC;cAC3MrG,QAAQ,EAAE,CAACiC,KAAK,IAAI0E,iBAAiB,IAAI,CAACN,WAAY;cAAAzI,QAAA,EAErDyI,WAAW,GAAG,OAAO,GAAGM,iBAAiB,GAAG,QAAQ,GAAG;YAAO;cAAA9I,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3D,CAAC,eACT3B,OAAA;cACI0D,OAAO,EAAEgI,iBAAkB;cAC3BxK,SAAS,EAAC,+GAA+G;cACzHyC,QAAQ,EAAEqG,WAAW,IAAIM,iBAAkB;cAAA/I,QAAA,EAC9C;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACT3B,OAAA;cAAKkB,SAAS,EAAC,mCAAmC;cAAAK,QAAA,GAAC,OAC1C,EAACyH,gBAAgB,GAAG,CAAC,EAAC,KAAG,EAACpD,KAAK,GAAGA,KAAK,CAAC9C,MAAM,GAAG,CAAC;YAAA;cAAAtB,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACtD,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC,eAGN3B,OAAA;YAAKkB,SAAS,EAAC,uCAAuC;YAAAK,QAAA,gBAClDvB,OAAA;cAAKkB,SAAS,EAAC,kDAAkD;cAAAK,QAAA,gBAC7DvB,OAAA;gBAAIkB,SAAS,EAAC,0CAA0C;gBAAAK,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eAC5E3B,OAAA;gBAAGkB,SAAS,EAAE,qBAAqBiJ,WAAW,aAAXA,WAAW,eAAXA,WAAW,CAAE/B,KAAK,GAAG,4BAA4B,GAAG,eAAe,EAAG;gBAAA7G,QAAA,EACpG,CAAA4I,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAEjE,MAAM,KAAI;cAA+B;gBAAA1E,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACxD,CAAC,EACH6I,iBAAiB,iBACdxK,OAAA;gBAAGkB,SAAS,EAAC,4BAA4B;gBAAAK,QAAA,EACpC2H,iBAAiB,KAAK,cAAc,GACjC,WAAWiB,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE9C,GAAG,KAAK8C,WAAW,aAAXA,WAAW,uBAAXA,WAAW,CAAE7C,IAAI,GAAG,GACpD,WAAWmF,aAAa;cAAE;gBAAAjL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAE/B,CACN;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACA,CAAC,eAEN3B,OAAA;cAAKkB,SAAS,EAAC,gEAAgE;cAAAK,QAAA,gBAC3EvB,OAAA;gBAAIkB,SAAS,EAAC,0CAA0C;gBAAAK,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAI,CAAC,eACxE3B,OAAA;gBAAKkB,SAAS,EAAC,iCAAiC;gBAAAK,QAAA,EAC3CgJ,iBAAiB,GAAGA,iBAAiB,CAACsC,IAAI,CAAC,IAAI,CAAC,GAAG;cAAsB;gBAAArL,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OACzE,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACL,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACL,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAEL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL;IAAC;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAEd,CAAC;EAED,oBACE3B,OAAA;IAAKkB,SAAS,EAAC,oDAAoD;IAAAK,QAAA,gBAC/DvB,OAAA;MAAQkB,SAAS,EAAC,MAAM;MAAAK,QAAA,gBACpBvB,OAAA;QAAIkB,SAAS,EAAC,+DAA+D;QAAAK,QAAA,EAAC;MAE9E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eACL3B,OAAA;QAAKkB,SAAS,EAAC,wCAAwC;QAAAK,QAAA,gBACnDvB,OAAA;UACI0D,OAAO,EAAEA,CAAA,KAAMoF,cAAc,CAAC,MAAM,CAAE;UACtC5H,SAAS,EAAE,gEAAgE2H,WAAW,KAAK,MAAM,GAAG,0CAA0C,GAAG,mCAAmC,EAAG;UAAAtH,QAAA,EAC1L;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC,eACT3B,OAAA;UACI0D,OAAO,EAAEA,CAAA,KAAMoF,cAAc,CAAC,KAAK,CAAE;UACrC5H,SAAS,EAAE,gEAAgE2H,WAAW,KAAK,KAAK,GAAG,0CAA0C,GAAG,mCAAmC,EAAG;UAAAtH,QAAA,EACzL;QAED;UAAAC,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OAAQ,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACR,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACF,CAAC,eAET3B,OAAA;MAAMkB,SAAS,EAAC,mBAAmB;MAAAK,QAAA,GAC9BsH,WAAW,KAAK,MAAM,IAAIwD,uBAAuB,CAAC,CAAC,EACnDxD,WAAW,KAAK,KAAK,iBAAI7I,OAAA,CAAC6B,aAAa;QAAAL,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACzC,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV;AAACiH,GAAA,CAvcuBD,GAAG;AAAAmE,GAAA,GAAHnE,GAAG;AAAA,IAAAxI,EAAA,EAAAyB,GAAA,EAAAgC,GAAA,EAAAkJ,GAAA;AAAAC,YAAA,CAAA5M,EAAA;AAAA4M,YAAA,CAAAnL,GAAA;AAAAmL,YAAA,CAAAnJ,GAAA;AAAAmJ,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}