{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ArrayBar = /*#__PURE__*/React.memo(_c = ({\n  value,\n  height,\n  width,\n  isHighlighted,\n  isPivot,\n  isSorted,\n  isSearchMid,\n  isSearchRange,\n  isFound\n}) => {\n  // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot/MinIndex\n  let color = '#007bff'; // Default Blue\n\n  // --- Search Mode Logic ---\n  let opacity = '1';\n  if (isSearchMid || isSearchRange) {\n    // Elements in the current search range\n    color = '#3b82f6'; // Light Blue\n    opacity = '1';\n    if (isSearchMid) {\n      // Mid element\n      color = '#f59e0b'; // Amber/Mid\n    }\n    if (isFound) {\n      // Found element\n      color = '#10b981'; // Emerald/Found\n    }\n  } else if (isSearchMid === false && isSearchRange === false && value) {\n    // Excluded elements during search\n    opacity = '0.3';\n    color = '#9ca3af'; // Gray\n  }\n\n  // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n  if (isSorted) {\n    color = '#4CAF50';\n    opacity = '1';\n  } else if (isPivot) {\n    color = '#8A2BE2'; // BlueViolet for Pivot/MinIndex\n  } else if (isHighlighted && !isSearchRange && !isSearchMid) {\n    color = '#FF5733'; // Orange for comparison/swap\n  }\n  const finalWidth = width > 0 ? `${width}px` : 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: `${height}px`,\n      width: finalWidth,\n      margin: '0 1px',\n      backgroundColor: color,\n      transition: 'height 0.1s linear, background-color 0.1s linear, opacity 0.1s linear',\n      borderRadius: '2px 2px 0 0',\n      display: 'flex',\n      alignItems: 'flex-end',\n      justifyContent: 'center',\n      fontSize: '10px',\n      color: 'white',\n      fontWeight: 'bold',\n      position: 'relative',\n      opacity: opacity\n    },\n    title: `Value: ${value}`,\n    children: width > 20 && value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 47,\n    columnNumber: 9\n  }, this);\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\n_c2 = ArrayBar;\nconst BSTVisualizer = () => {\n  _s();\n  const [treeData, setTreeData] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [message, setMessage] = useState('Enter a number to build the BST.');\n  const insertNode = useCallback((data, value) => {\n    if (!data) return {\n      value: value,\n      left: null,\n      right: null\n    };\n    if (value < data.value) {\n      data.left = insertNode(data.left, value);\n    } else if (value > data.value) {\n      data.right = insertNode(data.right, value);\n    }\n    return data;\n  }, []);\n  const handleInsert = () => {\n    const num = parseInt(inputValue);\n    if (isNaN(num)) {\n      setMessage('Please enter a valid number.');\n      return;\n    }\n    let newTreeData = [...treeData];\n    if (newTreeData.length === 0) {\n      newTreeData.push({\n        value: num,\n        left: null,\n        right: null\n      });\n    } else {\n      // Only update the root element (which is the single object in the array)\n      newTreeData = [insertNode(newTreeData[0], num)];\n    }\n    setTreeData(newTreeData);\n    setInputValue('');\n    setMessage(`Inserted ${num}. Try inserting another number.`);\n  };\n\n  // A simple function to render the tree (just showing the root for simplicity)\n  const renderTree = node => {\n    if (!node) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '10px',\n        padding: '10px',\n        border: '1px solid #ccc',\n        borderRadius: '8px',\n        display: 'inline-block',\n        backgroundColor: '#e9f7ff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          margin: 0\n        },\n        children: [\"Root: \", node.value]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 113,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '10px'\n        },\n        children: [node.left && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: '10px',\n            borderRight: '1px dashed #ccc'\n          },\n          children: [\"L: \", renderTree(node.left)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 115,\n          columnNumber: 35\n        }, this), node.right && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '10px',\n            borderLeft: '1px dashed #ccc'\n          },\n          children: [\"R: \", renderTree(node.right)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 116,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Binary Search Tree Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter number\",\n        style: {\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          minWidth: '150px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleInsert,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Insert Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 134,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 126,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '400px',\n        backgroundColor: '#f9f9f9',\n        padding: '20px',\n        border: '1px solid #eee',\n        borderRadius: '8px',\n        textAlign: 'center'\n      },\n      children: treeData.length > 0 ? renderTree(treeData[0]) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '150px',\n          color: '#888'\n        },\n        children: \"Tree is empty. Insert the first node!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 123,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Constants ---\n_s(BSTVisualizer, \"F/Bh5RfURi7Cf3Nfij1t5WZYoq0=\");\n_c3 = BSTVisualizer;\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400;\nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80;\n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n  bubblesort: [\"function bubbleSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    for j from 0 to n - 2 - i:\", \"      // Compare & Highlight array[j] and array[j+1]\", \"      if array[j] > array[j+1]:\", \"        // Swap elements\", \"        swap(array[j], array[j+1])\", \"  return array\"],\n  mergesort: [\"function mergeSort(array):\", \"  if array.length <= 1: return array\", \"  mid = floor(array.length / 2)\", \"  left = mergeSort(array[0...mid])\", \"  right = mergeSort(array[mid...n])\", \"  return merge(left, right)\", \"\", \"function merge(left, right):\", \"  // Merging sub-arrays and placing back into the original array...\", \"  result = []\", \"  while left & right are not empty:\", \"    if left[0] <= right[0]:\", \"      result.push(left.shift())\", \"    else:\", \"      result.push(right.shift())\", \"  return result + left + right\"],\n  quicksort: [\"function quickSort(array, low, high):\", \"  if low < high:\", \"    // Partition the array\", \"    pi = partition(array, low, high)\", \"    // Recursively sort left and right sub-arrays\", \"    quickSort(array, low, pi - 1)\", \"    quickSort(array, pi + 1, high)\", \"\", \"function partition(array, low, high):\", \"  pivot = array[high] // Choose the last element as pivot\", \"  i = low - 1\", \"  for j from low to high - 1:\", \"    if array[j] < pivot:\", \"      i++\", \"      swap(array[i], array[j])\", \"  swap(array[i+1], array[high])\", \"  return i + 1\"],\n  shellsort: [\"function shellSort(array):\", \"  n = array.length\", \"  gap = floor(n / 2)\", \"  while gap > 0:\", \"    // Perform gapped insertion sort\", \"    for i from gap to n - 1:\", \"      temp = array[i]\", \"      j = i\", \"      while j >= gap and array[j - gap] > temp:\", \"        // Shift elements (Highlight comparison and shift)\", \"        array[j] = array[j - gap]\", \"        j = j - gap\", \"      // Place temp (Highlight placement)\", \"      array[j] = temp\", \"    gap = floor(gap / 2) // Reduce the gap\"],\n  selectionsort: [\"function selectionSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    // Assume current position i holds the minimum\", \"    minIndex = i\", \"    for j from i + 1 to n - 1:\", \"      // Highlight comparison between array[j] and array[minIndex]\", \"      if array[j] < array[minIndex]:\", \"        // Update the index of the minimum element\", \"        minIndex = j\", \"    // If a smaller element was found, swap it into position i\", \"    if minIndex is not i:\", \"      swap(array[i], array[minIndex])\", \"  return array\"],\n  // ADDED BINARY SEARCH PSEUDOCODE\n  binarysearch: [\"function binarySearch(array, target):\", \"  low = 0\", \"  high = array.length - 1\", \"  while low <= high:\", \"    mid = floor((low + high) / 2)\", \"    // Highlight mid element (array[mid])\", \"    if array[mid] == target:\", \"      return mid\", \"    else if array[mid] < target:\", \"      // Search right (New Low = mid + 1)\", \"      low = mid + 1\", \"    else:\", \"      // Search left (New High = mid - 1)\", \"      high = mid - 1\", \"  return -1\"]\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = size => {\n  return Array.from({\n    length: size\n  }, () => Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE);\n};\nconst parseCustomArray = inputString => {\n  const elements = inputString.split(',').map(s => {\n    const num = parseInt(s.trim());\n    return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n  }).filter(n => n !== null);\n  return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization. (Existing logic)\n */\nconst getBubbleSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  for (let i = 0; i < n - 1; i++) {\n    let swapped = false;\n    for (let j = 0; j < n - 1 - i; j++) {\n      // 1. Highlight comparison\n      steps.push({\n        array: [...array],\n        highlight_indices: [j, j + 1],\n        action: `Comparing array[${j}] and array[${j + 1}]`,\n        sorted_indices: [...sortedIndices]\n      });\n      if (array[j] > array[j + 1]) {\n        // 2. Swap\n        [array[j], array[j + 1]] = [array[j + 1], array[j]];\n        swapped = true;\n        steps.push({\n          array: [...array],\n          highlight_indices: [j, j + 1],\n          action: `Swapping ${array[j + 1]} and ${array[j]}`,\n          sorted_indices: [...sortedIndices]\n        });\n      }\n    }\n\n    // Mark the largest element of this pass as sorted\n    if (n - 1 - i >= 0) {\n      sortedIndices.push(n - 1 - i);\n    }\n\n    // If no two elements were swapped in the inner loop, the array is sorted\n    if (!swapped) {\n      // Mark remaining elements as sorted and break\n      for (let k = 0; k < n - 1 - i; k++) {\n        if (!sortedIndices.includes(k)) {\n          sortedIndices.push(k);\n        }\n      }\n      break;\n    }\n  }\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Bubble Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization. (Existing logic)\n */\nconst getMergeSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n\n  // Recursive Merge function that records steps\n  const merge = (arr, start, mid, end) => {\n    // Since we are working with the original array 'array', we use indices relative to it\n    const left = arr.slice(start, mid);\n    const right = arr.slice(mid, end);\n    let i = 0,\n      j = 0,\n      k = start;\n\n    // Step 1: Highlight the sub-array being merged\n    steps.push({\n      array: [...array],\n      highlight_indices: Array.from({\n        length: end - start\n      }, (_, idx) => start + idx),\n      action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n    while (i < left.length && j < right.length) {\n      // Step 2: Comparison and placement\n      if (left[i] <= right[j]) {\n        array[k] = left[i];\n        i++;\n      } else {\n        array[k] = right[j];\n        j++;\n      }\n      k++;\n\n      // Record step after each placement\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        // Highlight the placed bar\n        action: `Placing element at index ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n\n    // Step 3: Handle remaining elements\n    while (i < left.length) {\n      array[k] = left[i];\n      i++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from left half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (j < right.length) {\n      array[k] = right[j];\n      j++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from right half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n\n    // Final coloring for the merged segment\n    steps.push({\n      array: [...array],\n      highlight_indices: [],\n      action: `Merged segment complete from index ${start} to ${end - 1}`,\n      // We don't mark as sorted until the whole thing is done to avoid visual clutter\n      sorted_indices: []\n    });\n  };\n  const mergeSortHelper = (arr, start, end) => {\n    if (end - start <= 1) return;\n    const mid = Math.floor((start + end) / 2);\n    mergeSortHelper(arr, start, mid);\n    mergeSortHelper(arr, mid, end);\n    merge(arr, start, mid, end);\n  };\n  mergeSortHelper(array, 0, array.length);\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Merge Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme). (Existing logic)\n */\nconst getQuickSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n\n  // Helper to record a step\n  const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: pivot_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n\n  // Partition function (Lomuto)\n  const partition = (arr, low, high, sortedIndices) => {\n    const pivot = arr[high]; // Pivot is the last element\n    let i = low - 1; // Index of smaller element\n\n    recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n    for (let j = low; j <= high - 1; j++) {\n      // Highlight comparison\n      recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n      if (arr[j] < pivot) {\n        i++;\n        // Swap arr[i] and arr[j]\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n\n        // Highlight swap\n        recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n      }\n    }\n\n    // Swap arr[i+1] and arr[high] (put pivot in correct position)\n    const pivotIndex = i + 1;\n    [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n\n    // Final placement of pivot\n    recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n    return pivotIndex;\n  };\n  const sortedIndicesTracker = [];\n\n  // Recursive helper\n  const quickSortHelper = (arr, low, high) => {\n    if (low < high) {\n      const pi = partition(arr, low, high, sortedIndicesTracker);\n\n      // Add the placed pivot index to the tracker (it's permanently sorted)\n      if (!sortedIndicesTracker.includes(pi)) {\n        sortedIndicesTracker.push(pi);\n      }\n\n      // Recursive calls\n      quickSortHelper(arr, low, pi - 1);\n      quickSortHelper(arr, pi + 1, high);\n    } else if (low === high && low >= 0) {\n      // Base case for single element array/sub-array\n      if (!sortedIndicesTracker.includes(low)) {\n        sortedIndicesTracker.push(low);\n        recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n      }\n    }\n  };\n  quickSortHelper(array, 0, array.length - 1);\n\n  // Final step: Ensure all are marked as sorted\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    action: \"Finished Quick Sort\",\n    highlight_indices: [],\n    pivot_index: null,\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization (using array halving gap). (Existing logic)\n */\nconst getShellSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let gap = Math.floor(n / 2);\n  let sortedIndices = [];\n\n  // Helper to record a step\n  const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      gap: current_gap,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  while (gap > 0) {\n    recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n    for (let i = gap; i < n; i++) {\n      const temp = array[i];\n      let j = i;\n\n      // Highlight the element being inserted\n      recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n      // Inner Insertion Sort with a gap\n      while (j >= gap && array[j - gap] > temp) {\n        // 1. Highlight comparison\n        recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n\n        // 2. Shift the element\n        array[j] = array[j - gap];\n\n        // 3. Highlight shift\n        recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        j -= gap;\n      }\n\n      // Place the element (temp) into its correct gapped position\n      array[j] = temp;\n\n      // 4. Highlight placement\n      recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n    }\n\n    // Reduce the gap\n    gap = Math.floor(gap / 2);\n  }\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n  return steps;\n};\n\n/**\n * Generates steps for Selection Sort visualization. (Existing logic)\n */\nconst getSelectionSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n\n  // Helper to record a step\n  const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      // Use pivot_index to track the current minimum index for visualization\n      pivot_index: min_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  for (let i = 0; i < n - 1; i++) {\n    let minIndex = i;\n\n    // Initial state: assume i is the minimum, highlight it as the current minimum\n    recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n    for (let j = i + 1; j < n; j++) {\n      // Highlight the element being compared (j) and the current minimum (minIndex)\n      recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n      if (array[j] < array[minIndex]) {\n        minIndex = j;\n        // Highlight the new minimum index found\n        recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n      }\n    }\n\n    // After the inner loop, check if a swap is necessary\n    if (minIndex !== i) {\n      // Swap array[i] and array[minIndex]\n      [array[i], array[minIndex]] = [array[minIndex], array[i]];\n\n      // Record the swap action\n      recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n    } else {\n      // Record that no swap was needed, the element was already smallest\n      recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n    }\n\n    // Mark index i as sorted (the correct minimum element is now in position)\n    sortedIndices.push(i);\n    recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n  }\n\n  // The last element (n-1) must also be marked as sorted\n  if (n > 0 && !sortedIndices.includes(n - 1)) {\n    sortedIndices.push(n - 1);\n  }\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, k) => k);\n  recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n  return steps;\n};\n\n/**\n * Generates steps for Binary Search visualization. (FIXED: Converted from user's Python logic)\n * It ASSUMES the input array is already sorted (which we ensure in the useEffect hook).\n */\nconst getBinarySearchSteps = (arr, target) => {\n  const steps = [];\n  const array = [...arr]; // Use the already sorted array\n\n  // Initial state tracking\n  steps.push({\n    array: [...array],\n    action: `Search started for target ${target}. Array must be sorted.`,\n    low: 0,\n    high: array.length - 1,\n    mid: -1,\n    found: false,\n    search_target: target,\n    indices: []\n  });\n  let low = 0;\n  let high = array.length - 1;\n  let found = false;\n  let mid = -1;\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n\n    // Track mid element check\n    steps.push({\n      array: [...array],\n      action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: false,\n      search_target: target,\n      highlight_indices: [mid]\n    });\n\n    // Comparison\n    if (array[mid] === target) {\n      found = true;\n      break;\n    } else if (array[mid] < target) {\n      // Search right side\n      low = mid + 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: []\n      });\n    } else {\n      // Search left side\n      high = mid - 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: []\n      });\n    }\n  }\n\n  // Final result tracking\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: true,\n      search_target: target,\n      highlight_indices: [mid]\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n      low: low,\n      high: high,\n      mid: -1,\n      found: false,\n      search_target: target,\n      highlight_indices: []\n    });\n  }\n  return steps;\n};\nfunction App() {\n  _s2();\n  // NEW STATE: Controls the current view ('sort' or 'bst')\n  const [currentView, setCurrentView] = useState('sort');\n\n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"binarysearch\"); // Default to binary search now\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n\n  // NEW STATE FOR SEARCH ALGORITHMS\n  const [searchTarget, setSearchTarget] = useState(50);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  // If steps exist, use the array from the step, otherwise use the unsorted input array for display\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null; // Tracks Pivot (QuickSort) or MinIndex (SelectionSort)\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && sortedIndices.length === inputArray.length;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n\n  // Check if the selected algorithm is a search algorithm\n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n\n  // Supported only checks for sorting/implemented algos\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\"].includes(selectedAlgorithm);\n\n  // --- Sorting Visualizer Helper Functions ---\n  const handleGenerateNewArray = (size = arraySize) => {\n    const newArray = generateRandomArray(size);\n    setInputArray(newArray);\n    setCustomInputData(\"\");\n    setArraySize(size);\n  };\n  const handleLoadCustomArray = () => {\n    const newArray = parseCustomArray(customInputData);\n    if (newArray.length > 0) {\n      setInputArray(newArray);\n      setArraySize(newArray.length);\n      setLoadingError(null);\n    } else {\n      setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n    }\n  };\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n\n    // Determine if the selected algorithm is a search algorithm\n    const isSearchAlgo = selectedAlgorithm === \"binarysearch\" || selectedAlgorithm === \"linearsearch\";\n\n    // Clear steps/error before generation\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    if (!isSupportedAlgorithm) {\n      return;\n    }\n    let processedArray = inputArray.map(val => Number(val));\n\n    // Binary Search REQUIRES a sorted array. Linear search doesn't, but we'll sort for consistency here.\n    if (isSearchAlgo) {\n      processedArray.sort((a, b) => a - b);\n    }\n    let newSteps;\n    try {\n      if (selectedAlgorithm === \"bubblesort\") {\n        newSteps = getBubbleSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"mergesort\") {\n        newSteps = getMergeSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"quicksort\") {\n        newSteps = getQuickSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"shellsort\") {\n        newSteps = getShellSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"selectionsort\") {\n        newSteps = getSelectionSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"binarysearch\") {\n        if (isNaN(searchTarget) || searchTarget === null) {\n          setLoadingError(\"Please set a valid numeric search target.\");\n          return;\n        }\n        newSteps = getBinarySearchSteps(processedArray, searchTarget);\n      }\n      if (newSteps && newSteps.length > 0) {\n        // Crucially, update the steps' array property to use the sorted array for visualization\n        newSteps = newSteps.map(step => ({\n          ...step,\n          array: processedArray\n        }));\n        setSteps(newSteps);\n        // Also, update the main inputArray state to the sorted version for a clean display\n        if (isSearchAlgo) {\n          setInputArray(processedArray);\n        }\n      } else {\n        setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n      }\n    } catch (error) {\n      console.error('Algorithm Generation Failed:', error);\n      setLoadingError(`Algorithm generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView, searchTarget]);\n\n  // --- 2. Animation Timer Logic (Sorting/Search only) ---\n  useEffect(() => {\n    // CONDITION 1: Check if we are in the sort view\n    if (currentView !== 'sort') return;\n\n    // CONDITION 2: Check if steps data is loaded and sorting is not yet complete\n    if (!steps || currentStepIndex >= steps.length - 1) return;\n    const intervalId = setInterval(() => {\n      setCurrentStepIndex(prevIndex => prevIndex + 1);\n    }, speed); // Use dynamic speed state\n\n    return () => clearInterval(intervalId);\n  }, [steps, currentStepIndex, currentView, speed]);\n\n  // --- Algorithm Options Structure ---\n  const algorithmOptions = [{\n    label: \"--- Supported Sorting Algorithms ---\",\n    value: \"header-supported\",\n    disabled: true\n  }, {\n    label: \"Selection Sort (O(n²))\",\n    value: \"selectionsort\"\n  }, {\n    label: \"Bubble Sort (O(n²))\",\n    value: \"bubblesort\"\n  }, {\n    label: \"Merge Sort (O(n log n))\",\n    value: \"mergesort\"\n  }, {\n    label: \"Quick Sort (O(n log n))\",\n    value: \"quicksort\"\n  }, {\n    label: \"Shell Sort (O(n log² n))\",\n    value: \"shellsort\"\n  }, {\n    label: \"--- Supported Search Algorithms ---\",\n    value: \"header-search\",\n    disabled: true\n  }, {\n    label: \"Binary Search (O(log n)) - RUNNING (FIXED)\",\n    value: \"binarysearch\"\n  }, {\n    label: \"--- Other Algorithms ---\",\n    value: \"header-other\",\n    disabled: true\n  }, {\n    label: \"Linear Search (O(n))\",\n    value: \"linearsearch\"\n  }, {\n    label: \"Insertion Sort (O(n²))\",\n    value: \"insertionsort\"\n  }];\n\n  // Calculate bar width dynamically\n  const barWidth = Math.max(20, Math.floor(800 / currentArray.length) - 2);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      minWidth: '800px',\n      fontFamily: 'Inter, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        borderBottom: '2px solid #eee',\n        paddingBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentView('sort'),\n        style: {\n          padding: '10px 20px',\n          marginRight: '10px',\n          fontWeight: currentView === 'sort' ? 'bold' : 'normal',\n          backgroundColor: currentView === 'sort' ? '#007bff' : '#f0f0f0',\n          color: currentView === 'sort' ? 'white' : '#333',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          boxShadow: currentView === 'sort' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        children: \"Array Visualizer (Sorting & Search) \\uD83D\\uDCC8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 927,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentView('bst'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: currentView === 'bst' ? 'bold' : 'normal',\n          backgroundColor: currentView === 'bst' ? '#007bff' : '#f0f0f0',\n          color: currentView === 'bst' ? 'white' : '#333',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          boxShadow: currentView === 'bst' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        children: \"Binary Search Tree Visualizer \\uD83C\\uDF33\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 942,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 926,\n      columnNumber: 7\n    }, this), currentView === 'sort' ?\n    /*#__PURE__*/\n    // === ARRAY VISUALIZER (SORTING & SEARCH) ===\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: '24px',\n          marginBottom: '15px'\n        },\n        children: \"Array Sorting & Search Visualizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 961,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px',\n          padding: '15px',\n          borderRadius: '8px',\n          backgroundColor: '#f4f7fa',\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '20px',\n          alignItems: 'center',\n          boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"algo-select\",\n            style: {\n              marginRight: '10px',\n              fontWeight: 'bold'\n            },\n            children: \"Algorithm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 968,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"algo-select\",\n            value: selectedAlgorithm,\n            onChange: e => setSelectedAlgorithm(e.target.value),\n            style: {\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            children: algorithmOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              disabled: option.disabled,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 975,\n              columnNumber: 27\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 969,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 967,\n          columnNumber: 15\n        }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"target-input\",\n            style: {\n              fontWeight: 'bold'\n            },\n            children: \"Target Value:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 988,\n            columnNumber: 23\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            id: \"target-input\",\n            value: searchTarget,\n            onChange: e => setSearchTarget(Number(e.target.value)),\n            placeholder: \"Search Target\",\n            style: {\n              padding: '8px',\n              minWidth: '100px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 989,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 987,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleGenerateNewArray(),\n          style: {\n            padding: '8px 15px',\n            cursor: 'pointer',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: '#FFC107',\n            color: '#333',\n            fontWeight: 'bold'\n          },\n          children: \"Generate New Array\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1001,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Custom Array (e.g., 5,12,3,40)\",\n            value: customInputData,\n            onChange: e => setCustomInputData(e.target.value),\n            style: {\n              padding: '8px',\n              minWidth: '200px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLoadCustomArray,\n            style: {\n              padding: '8px 15px',\n              cursor: 'pointer',\n              backgroundColor: '#28A745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontWeight: 'bold'\n            },\n            children: \"Load Custom Array\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1024,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"speed-slider\",\n            style: {\n              marginRight: '10px',\n              fontWeight: 'bold'\n            },\n            children: [\"Speed (\", speed, \"ms):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1041,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\",\n            id: \"speed-slider\",\n            min: \"1\",\n            max: \"300\",\n            value: speed,\n            onChange: e => setSpeed(Number(e.target.value)),\n            style: {\n              verticalAlign: 'middle'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1047,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1040,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 964,\n        columnNumber: 11\n      }, this), loadingError && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          padding: '10px',\n          backgroundColor: '#f8d7da',\n          color: '#721c24',\n          borderRadius: '4px',\n          marginBottom: '15px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Error:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1062,\n          columnNumber: 19\n        }, this), \" \", loadingError, isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-1 text-sm\",\n          children: \"Note: For **Binary Search**, the array is automatically **sorted** before visualization.\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1064,\n          columnNumber: 20\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1061,\n        columnNumber: 15\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          minHeight: '400px',\n          backgroundColor: '#fff',\n          padding: '20px',\n          border: '1px solid #eee',\n          borderRadius: '8px',\n          boxShadow: '0 1px 3px rgba(0,0,0,0.05)',\n          display: 'flex',\n          alignItems: 'flex-end',\n          justifyContent: 'center'\n        },\n        children: currentArray.map((val, i) => /*#__PURE__*/_jsxDEV(ArrayBar, {\n          value: val,\n          height: val,\n          width: barWidth\n          // Sorting Props\n          ,\n          isHighlighted: highlightIndices.includes(i),\n          isPivot: i === pivotIndex,\n          isSorted: sortedIndices.includes(i) && !isSearchAlgorithm // Only mark as fully sorted for sorting algos\n          // Search Props\n          ,\n          isSearchMid: isSearchAlgorithm && currentStep && i === currentStep.mid,\n          isSearchRange: isSearchAlgorithm && currentStep && i >= currentStep.low && i <= currentStep.high,\n          isFound: isSearchAlgorithm && currentStep && currentStep.found && i === currentStep.mid\n        }, i, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1081,\n          columnNumber: 19\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1069,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          marginTop: '20px',\n          gap: '20px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 2,\n            padding: '15px',\n            border: '1px solid #ddd',\n            borderRadius: '8px',\n            backgroundColor: '#f0f0f0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '16px',\n              fontWeight: 'bold',\n              marginBottom: '10px'\n            },\n            children: [\"Status (\", isSearchAlgorithm ? 'Search Step' : 'Sorting Step', \")\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1103,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              marginBottom: '5px'\n            },\n            children: [\"Step **\", currentStepIndex + 1, \"** of **\", steps ? steps.length : 0, \"**\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1104,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              fontWeight: 'bold',\n              color: isSortingComplete ? '#4CAF50' : currentStep && currentStep.action.includes('SUCCESS') ? '#10b981' : currentStep && currentStep.action.includes('FAILURE') ? '#dc3545' : '#007bff'\n            },\n            children: currentStep ? currentStep.action : \"Ready to visualize...\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1107,\n            columnNumber: 19\n          }, this), isSearchAlgorithm && currentStep && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-2 text-sm\",\n            children: [/*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"Low Index: **\", currentStep.low, \"**\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1116,\n              columnNumber: 27\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              children: [\"High Index: **\", currentStep.high, \"**\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1117,\n              columnNumber: 27\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1115,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1102,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 3,\n            padding: '15px',\n            border: '1px solid #ddd',\n            borderRadius: '8px',\n            backgroundColor: '#fff'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            style: {\n              fontSize: '16px',\n              fontWeight: 'bold',\n              marginBottom: '10px'\n            },\n            children: [\"Pseudocode: \", selectedAlgorithm]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1125,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            style: {\n              overflowX: 'auto',\n              backgroundColor: '#f9f9f9',\n              padding: '5px',\n              borderRadius: '4px',\n              fontSize: '12px'\n            },\n            children: currentPseudocode ? currentPseudocode.map((line, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                backgroundColor: currentStep && currentStep.code_line === index ? '#ffe0b2' : 'transparent',\n                // Example code highlighting\n                padding: '2px 0'\n              },\n              children: line\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1128,\n              columnNumber: 27\n            }, this)) : \"Select an algorithm to view its pseudocode.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1126,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1124,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1099,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) :\n    /*#__PURE__*/\n    // === BST VISUALIZER ===\n    _jsxDEV(BSTVisualizer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1144,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 923,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"+skq9pL7TSZMPW9Fwz3NrUjYAd8=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ArrayBar$React.memo\");\n$RefreshReg$(_c2, \"ArrayBar\");\n$RefreshReg$(_c3, \"BSTVisualizer\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","ArrayBar","memo","_c","value","height","width","isHighlighted","isPivot","isSorted","isSearchMid","isSearchRange","isFound","color","opacity","finalWidth","style","margin","backgroundColor","transition","borderRadius","display","alignItems","justifyContent","fontSize","fontWeight","position","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","BSTVisualizer","_s","treeData","setTreeData","inputValue","setInputValue","message","setMessage","insertNode","data","left","right","handleInsert","num","parseInt","isNaN","newTreeData","length","push","renderTree","node","padding","border","marginTop","marginRight","borderRight","marginLeft","borderLeft","className","gap","marginBottom","type","onChange","e","target","placeholder","minWidth","onClick","cursor","minHeight","textAlign","_c3","DEFAULT_ARRAY_SIZE","MAX_ARRAY_VALUE","MIN_ARRAY_VALUE","ANIMATION_SPEED_MS","PSEUDOCODE","bubblesort","mergesort","quicksort","shellsort","selectionsort","binarysearch","generateRandomArray","size","Array","from","Math","floor","random","parseCustomArray","inputString","elements","split","map","s","trim","min","filter","n","getBubbleSortSteps","initialArray","array","steps","sortedIndices","i","swapped","j","highlight_indices","action","sorted_indices","k","includes","finalSortedIndices","_","getMergeSortSteps","merge","arr","start","mid","end","slice","idx","mergeSortHelper","getQuickSortSteps","recordStep","pivot_index","partition","low","high","pivot","pivotIndex","sortedIndicesTracker","quickSortHelper","pi","getShellSortSteps","current_gap","temp","getSelectionSortSteps","min_index","minIndex","getBinarySearchSteps","found","search_target","indices","App","_s2","currentView","setCurrentView","setSteps","currentStepIndex","setCurrentStepIndex","selectedAlgorithm","setSelectedAlgorithm","loadingError","setLoadingError","inputArray","setInputArray","arraySize","setArraySize","customInputData","setCustomInputData","speed","setSpeed","searchTarget","setSearchTarget","currentStep","currentArray","highlightIndices","isSortingComplete","currentPseudocode","isSearchAlgorithm","isSupportedAlgorithm","handleGenerateNewArray","newArray","handleLoadCustomArray","isSearchAlgo","processedArray","val","Number","sort","a","b","newSteps","step","error","console","intervalId","setInterval","prevIndex","clearInterval","algorithmOptions","label","disabled","barWidth","max","fontFamily","borderBottom","paddingBottom","boxShadow","flexWrap","htmlFor","id","option","verticalAlign","flex","overflowX","line","index","code_line","_c4","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nconst ArrayBar = React.memo(({ value, height, width, isHighlighted, isPivot, isSorted, isSearchMid, isSearchRange, isFound }) => {\n    // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot/MinIndex\n    let color = '#007bff'; // Default Blue\n    \n    // --- Search Mode Logic ---\n    let opacity = '1';\n    \n    if (isSearchMid || isSearchRange) {\n        // Elements in the current search range\n        color = '#3b82f6'; // Light Blue\n        opacity = '1';\n        \n        if (isSearchMid) {\n            // Mid element\n            color = '#f59e0b'; // Amber/Mid\n        }\n        \n        if (isFound) {\n            // Found element\n            color = '#10b981'; // Emerald/Found\n        }\n    } else if (isSearchMid === false && isSearchRange === false && value) { \n        // Excluded elements during search\n        opacity = '0.3';\n        color = '#9ca3af'; // Gray\n    }\n\n\n    // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n    if (isSorted) {\n        color = '#4CAF50';\n        opacity = '1';\n    } else if (isPivot) {\n        color = '#8A2BE2'; // BlueViolet for Pivot/MinIndex\n    } else if (isHighlighted && !isSearchRange && !isSearchMid) {\n        color = '#FF5733'; // Orange for comparison/swap\n    }\n\n    const finalWidth = width > 0 ? `${width}px` : 'auto';\n\n    return (\n        <div \n            style={{\n                height: `${height}px`,\n                width: finalWidth,\n                margin: '0 1px',\n                backgroundColor: color,\n                transition: 'height 0.1s linear, background-color 0.1s linear, opacity 0.1s linear',\n                borderRadius: '2px 2px 0 0',\n                display: 'flex',\n                alignItems: 'flex-end',\n                justifyContent: 'center',\n                fontSize: '10px',\n                color: 'white',\n                fontWeight: 'bold',\n                position: 'relative',\n                opacity: opacity,\n            }}\n            title={`Value: ${value}`}\n        >\n            {/* Show value for smaller arrays */}\n            {width > 20 && value}\n        </div>\n    );\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\nconst BSTVisualizer = () => {\n    const [treeData, setTreeData] = useState([]);\n    const [inputValue, setInputValue] = useState('');\n    const [message, setMessage] = useState('Enter a number to build the BST.');\n\n    const insertNode = useCallback((data, value) => {\n        if (!data) return { value: value, left: null, right: null };\n        if (value < data.value) {\n            data.left = insertNode(data.left, value);\n        } else if (value > data.value) {\n            data.right = insertNode(data.right, value);\n        }\n        return data;\n    }, []);\n\n    const handleInsert = () => {\n        const num = parseInt(inputValue);\n        if (isNaN(num)) {\n            setMessage('Please enter a valid number.');\n            return;\n        }\n\n        let newTreeData = [...treeData];\n        if (newTreeData.length === 0) {\n            newTreeData.push({ value: num, left: null, right: null });\n        } else {\n            // Only update the root element (which is the single object in the array)\n            newTreeData = [insertNode(newTreeData[0], num)];\n        }\n\n        setTreeData(newTreeData);\n        setInputValue('');\n        setMessage(`Inserted ${num}. Try inserting another number.`);\n    };\n\n    // A simple function to render the tree (just showing the root for simplicity)\n    const renderTree = (node) => {\n        if (!node) return null;\n        return (\n            <div style={{ margin: '10px', padding: '10px', border: '1px solid #ccc', borderRadius: '8px', display: 'inline-block', backgroundColor: '#e9f7ff' }}>\n                <p style={{ fontWeight: 'bold', margin: 0 }}>Root: {node.value}</p>\n                <div style={{ display: 'flex', justifyContent: 'center', marginTop: '10px' }}>\n                    {node.left && <div style={{ marginRight: '10px', borderRight: '1px dashed #ccc' }}>L: {renderTree(node.left)}</div>}\n                    {node.right && <div style={{ marginLeft: '10px', borderLeft: '1px dashed #ccc' }}>R: {renderTree(node.right)}</div>}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <h1>Binary Search Tree Visualizer</h1>\n            <p className=\"text-sm text-gray-600\">{message}</p>\n            <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\n                <input\n                    type=\"number\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    placeholder=\"Enter number\"\n                    style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px', minWidth: '150px' }}\n                />\n                <button \n                    onClick={handleInsert} \n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n                >\n                    Insert Node\n                </button>\n            </div>\n            \n            <div style={{ \n                minHeight: '400px', \n                backgroundColor: '#f9f9f9', \n                padding: '20px', \n                border: '1px solid #eee',\n                borderRadius: '8px',\n                textAlign: 'center'\n            }}>\n                {treeData.length > 0 ? (\n                    renderTree(treeData[0])\n                ) : (\n                    <p style={{marginTop: '150px', color: '#888'}}>Tree is empty. Insert the first node!</p>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n// --- Constants ---\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400; \nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80; \n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n    bubblesort: [\n        \"function bubbleSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    for j from 0 to n - 2 - i:\",\n        \"      // Compare & Highlight array[j] and array[j+1]\",\n        \"      if array[j] > array[j+1]:\",\n        \"        // Swap elements\",\n        \"        swap(array[j], array[j+1])\",\n        \"  return array\"\n    ],\n    mergesort: [\n        \"function mergeSort(array):\",\n        \"  if array.length <= 1: return array\",\n        \"  mid = floor(array.length / 2)\",\n        \"  left = mergeSort(array[0...mid])\",\n        \"  right = mergeSort(array[mid...n])\",\n        \"  return merge(left, right)\",\n        \"\",\n        \"function merge(left, right):\",\n        \"  // Merging sub-arrays and placing back into the original array...\",\n        \"  result = []\",\n        \"  while left & right are not empty:\",\n        \"    if left[0] <= right[0]:\",\n        \"      result.push(left.shift())\",\n        \"    else:\",\n        \"      result.push(right.shift())\",\n        \"  return result + left + right\"\n    ],\n    quicksort: [\n        \"function quickSort(array, low, high):\",\n        \"  if low < high:\",\n        \"    // Partition the array\",\n        \"    pi = partition(array, low, high)\",\n        \"    // Recursively sort left and right sub-arrays\",\n        \"    quickSort(array, low, pi - 1)\",\n        \"    quickSort(array, pi + 1, high)\",\n        \"\",\n        \"function partition(array, low, high):\",\n        \"  pivot = array[high] // Choose the last element as pivot\",\n        \"  i = low - 1\",\n        \"  for j from low to high - 1:\",\n        \"    if array[j] < pivot:\",\n        \"      i++\",\n        \"      swap(array[i], array[j])\",\n        \"  swap(array[i+1], array[high])\",\n        \"  return i + 1\"\n    ],\n    shellsort: [\n        \"function shellSort(array):\",\n        \"  n = array.length\",\n        \"  gap = floor(n / 2)\",\n        \"  while gap > 0:\",\n        \"    // Perform gapped insertion sort\",\n        \"    for i from gap to n - 1:\",\n        \"      temp = array[i]\",\n        \"      j = i\",\n        \"      while j >= gap and array[j - gap] > temp:\",\n        \"        // Shift elements (Highlight comparison and shift)\",\n        \"        array[j] = array[j - gap]\",\n        \"        j = j - gap\",\n        \"      // Place temp (Highlight placement)\",\n        \"      array[j] = temp\",\n        \"    gap = floor(gap / 2) // Reduce the gap\"\n    ],\n    selectionsort: [\n        \"function selectionSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    // Assume current position i holds the minimum\",\n        \"    minIndex = i\",\n        \"    for j from i + 1 to n - 1:\",\n        \"      // Highlight comparison between array[j] and array[minIndex]\",\n        \"      if array[j] < array[minIndex]:\",\n        \"        // Update the index of the minimum element\",\n        \"        minIndex = j\",\n        \"    // If a smaller element was found, swap it into position i\",\n        \"    if minIndex is not i:\",\n        \"      swap(array[i], array[minIndex])\",\n        \"  return array\"\n    ],\n    // ADDED BINARY SEARCH PSEUDOCODE\n    binarysearch: [\n        \"function binarySearch(array, target):\",\n        \"  low = 0\",\n        \"  high = array.length - 1\",\n        \"  while low <= high:\",\n        \"    mid = floor((low + high) / 2)\",\n        \"    // Highlight mid element (array[mid])\",\n        \"    if array[mid] == target:\",\n        \"      return mid\",\n        \"    else if array[mid] < target:\",\n        \"      // Search right (New Low = mid + 1)\",\n        \"      low = mid + 1\",\n        \"    else:\",\n        \"      // Search left (New High = mid - 1)\",\n        \"      high = mid - 1\",\n        \"  return -1\"\n    ],\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = (size) => {\n    return Array.from({ length: size }, () => \n        Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE\n    );\n};\n\nconst parseCustomArray = (inputString) => {\n    const elements = inputString.split(',')\n        .map(s => {\n            const num = parseInt(s.trim());\n            return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n        })\n        .filter(n => n !== null);\n    return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization. (Existing logic)\n */\nconst getBubbleSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    for (let i = 0; i < n - 1; i++) {\n        let swapped = false;\n        for (let j = 0; j < n - 1 - i; j++) {\n            // 1. Highlight comparison\n            steps.push({\n                array: [...array], \n                highlight_indices: [j, j + 1], \n                action: `Comparing array[${j}] and array[${j + 1}]`,\n                sorted_indices: [...sortedIndices]\n            });\n\n            if (array[j] > array[j + 1]) {\n                // 2. Swap\n                [array[j], array[j + 1]] = [array[j + 1], array[j]];\n                swapped = true;\n                steps.push({\n                    array: [...array], \n                    highlight_indices: [j, j + 1], \n                    action: `Swapping ${array[j+1]} and ${array[j]}`, \n                    sorted_indices: [...sortedIndices]\n                });\n            }\n        }\n        \n        // Mark the largest element of this pass as sorted\n        if (n - 1 - i >= 0) {\n            sortedIndices.push(n - 1 - i);\n        }\n\n        // If no two elements were swapped in the inner loop, the array is sorted\n        if (!swapped) {\n            // Mark remaining elements as sorted and break\n            for (let k = 0; k < n - 1 - i; k++) {\n                if (!sortedIndices.includes(k)) {\n                     sortedIndices.push(k);\n                }\n            }\n            break;\n        }\n    }\n\n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Bubble Sort\",\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization. (Existing logic)\n */\nconst getMergeSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    \n    // Recursive Merge function that records steps\n    const merge = (arr, start, mid, end) => {\n        // Since we are working with the original array 'array', we use indices relative to it\n        const left = arr.slice(start, mid);\n        const right = arr.slice(mid, end);\n        let i = 0, j = 0, k = start;\n\n        // Step 1: Highlight the sub-array being merged\n        steps.push({\n            array: [...array],\n            highlight_indices: Array.from({ length: end - start }, (_, idx) => start + idx),\n            action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n            sorted_indices: []\n        });\n\n        while (i < left.length && j < right.length) {\n            // Step 2: Comparison and placement\n            if (left[i] <= right[j]) {\n                array[k] = left[i];\n                i++;\n            } else {\n                array[k] = right[j];\n                j++;\n            }\n            k++;\n            \n            // Record step after each placement\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1], // Highlight the placed bar\n                action: `Placing element at index ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n\n        // Step 3: Handle remaining elements\n        while (i < left.length) {\n            array[k] = left[i];\n            i++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from left half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        while (j < right.length) {\n            array[k] = right[j];\n            j++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from right half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        \n        // Final coloring for the merged segment\n        steps.push({\n            array: [...array],\n            highlight_indices: [],\n            action: `Merged segment complete from index ${start} to ${end - 1}`,\n            // We don't mark as sorted until the whole thing is done to avoid visual clutter\n            sorted_indices: [] \n        });\n    };\n\n    const mergeSortHelper = (arr, start, end) => {\n        if (end - start <= 1) return;\n        \n        const mid = Math.floor((start + end) / 2);\n        mergeSortHelper(arr, start, mid);\n        mergeSortHelper(arr, mid, end);\n        merge(arr, start, mid, end);\n    };\n\n    mergeSortHelper(array, 0, array.length);\n\n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Merge Sort\",\n        sorted_indices: finalSortedIndices\n    });\n    \n    return steps;\n};\n\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme). (Existing logic)\n */\nconst getQuickSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n\n    // Helper to record a step\n    const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: pivot_index,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    // Partition function (Lomuto)\n    const partition = (arr, low, high, sortedIndices) => {\n        const pivot = arr[high]; // Pivot is the last element\n        let i = low - 1; // Index of smaller element\n\n        recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n\n        for (let j = low; j <= high - 1; j++) {\n            // Highlight comparison\n            recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n            \n            if (arr[j] < pivot) {\n                i++;\n                // Swap arr[i] and arr[j]\n                [arr[i], arr[j]] = [arr[j], arr[i]];\n                \n                // Highlight swap\n                recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n            }\n        }\n\n        // Swap arr[i+1] and arr[high] (put pivot in correct position)\n        const pivotIndex = i + 1;\n        [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n        \n        // Final placement of pivot\n        recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n\n        return pivotIndex;\n    };\n\n    const sortedIndicesTracker = [];\n\n    // Recursive helper\n    const quickSortHelper = (arr, low, high) => {\n        if (low < high) {\n            const pi = partition(arr, low, high, sortedIndicesTracker);\n\n            // Add the placed pivot index to the tracker (it's permanently sorted)\n            if (!sortedIndicesTracker.includes(pi)) {\n                sortedIndicesTracker.push(pi);\n            }\n\n            // Recursive calls\n            quickSortHelper(arr, low, pi - 1);\n            quickSortHelper(arr, pi + 1, high);\n        } else if (low === high && low >= 0) {\n            // Base case for single element array/sub-array\n            if (!sortedIndicesTracker.includes(low)) {\n                sortedIndicesTracker.push(low);\n                recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n            }\n        }\n    };\n\n    quickSortHelper(array, 0, array.length - 1);\n\n    // Final step: Ensure all are marked as sorted\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        action: \"Finished Quick Sort\",\n        highlight_indices: [],\n        pivot_index: null,\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization (using array halving gap). (Existing logic)\n */\nconst getShellSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let gap = Math.floor(n / 2);\n    let sortedIndices = [];\n\n    // Helper to record a step\n    const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            gap: current_gap,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    while (gap > 0) {\n        recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n\n        for (let i = gap; i < n; i++) {\n            const temp = array[i];\n            let j = i;\n\n            // Highlight the element being inserted\n            recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n            // Inner Insertion Sort with a gap\n            while (j >= gap && array[j - gap] > temp) {\n                // 1. Highlight comparison\n                recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n                \n                // 2. Shift the element\n                array[j] = array[j - gap];\n                \n                // 3. Highlight shift\n                recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n                \n                j -= gap;\n            }\n            \n            // Place the element (temp) into its correct gapped position\n            array[j] = temp;\n            \n            // 4. Highlight placement\n            recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        }\n\n        // Reduce the gap\n        gap = Math.floor(gap / 2);\n    }\n    \n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n\n    return steps;\n};\n\n/**\n * Generates steps for Selection Sort visualization. (Existing logic)\n */\nconst getSelectionSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    // Helper to record a step\n    const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            // Use pivot_index to track the current minimum index for visualization\n            pivot_index: min_index, \n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    for (let i = 0; i < n - 1; i++) {\n        let minIndex = i;\n        \n        // Initial state: assume i is the minimum, highlight it as the current minimum\n        recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n\n        for (let j = i + 1; j < n; j++) {\n            // Highlight the element being compared (j) and the current minimum (minIndex)\n            recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n\n            if (array[j] < array[minIndex]) {\n                minIndex = j;\n                // Highlight the new minimum index found\n                recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n            }\n        }\n\n        // After the inner loop, check if a swap is necessary\n        if (minIndex !== i) {\n            // Swap array[i] and array[minIndex]\n            [array[i], array[minIndex]] = [array[minIndex], array[i]];\n            \n            // Record the swap action\n            recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n        } else {\n             // Record that no swap was needed, the element was already smallest\n             recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n        }\n        \n        // Mark index i as sorted (the correct minimum element is now in position)\n        sortedIndices.push(i);\n        recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n    }\n    \n    // The last element (n-1) must also be marked as sorted\n    if (n > 0 && !sortedIndices.includes(n - 1)) {\n        sortedIndices.push(n - 1);\n    }\n\n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: n }, (_, k) => k);\n    recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n\n    return steps;\n};\n\n\n/**\n * Generates steps for Binary Search visualization. (FIXED: Converted from user's Python logic)\n * It ASSUMES the input array is already sorted (which we ensure in the useEffect hook).\n */\nconst getBinarySearchSteps = (arr, target) => {\n    const steps = [];\n    const array = [...arr]; // Use the already sorted array\n\n    // Initial state tracking\n    steps.push({\n        array: [...array],\n        action: `Search started for target ${target}. Array must be sorted.`,\n        low: 0,\n        high: array.length - 1,\n        mid: -1,\n        found: false,\n        search_target: target,\n        indices: [], \n    });\n\n    let low = 0;\n    let high = array.length - 1;\n    let found = false;\n    let mid = -1;\n\n    while (low <= high) {\n        mid = Math.floor((low + high) / 2);\n\n        // Track mid element check\n        steps.push({\n            array: [...array],\n            action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: false,\n            search_target: target,\n            highlight_indices: [mid],\n        });\n\n        // Comparison\n        if (array[mid] === target) {\n            found = true;\n            break;\n        } else if (array[mid] < target) {\n            // Search right side\n            low = mid + 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n            });\n        } else {\n            // Search left side\n            high = mid - 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n            });\n        }\n    }\n\n    // Final result tracking\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: true,\n            search_target: target,\n            highlight_indices: [mid],\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n            low: low,\n            high: high,\n            mid: -1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n        });\n    }\n\n    return steps;\n};\n\n\nfunction App() {\n  // NEW STATE: Controls the current view ('sort' or 'bst')\n  const [currentView, setCurrentView] = useState('sort'); \n    \n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"binarysearch\"); // Default to binary search now\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n  \n  // NEW STATE FOR SEARCH ALGORITHMS\n  const [searchTarget, setSearchTarget] = useState(50); \n  \n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  // If steps exist, use the array from the step, otherwise use the unsorted input array for display\n  const currentArray = currentStep ? currentStep.array : inputArray; \n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null; // Tracks Pivot (QuickSort) or MinIndex (SelectionSort)\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && sortedIndices.length === inputArray.length;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  \n  // Check if the selected algorithm is a search algorithm\n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  \n  // Supported only checks for sorting/implemented algos\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\"].includes(selectedAlgorithm);\n\n\n  // --- Sorting Visualizer Helper Functions ---\n  const handleGenerateNewArray = (size = arraySize) => {\n      const newArray = generateRandomArray(size);\n      setInputArray(newArray);\n      setCustomInputData(\"\"); \n      setArraySize(size);\n  };\n  \n  const handleLoadCustomArray = () => {\n      const newArray = parseCustomArray(customInputData);\n      if (newArray.length > 0) {\n          setInputArray(newArray);\n          setArraySize(newArray.length); \n          setLoadingError(null);\n      } else {\n          setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n      }\n  };\n\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    \n    // Determine if the selected algorithm is a search algorithm\n    const isSearchAlgo = selectedAlgorithm === \"binarysearch\" || selectedAlgorithm === \"linearsearch\"; \n\n    // Clear steps/error before generation\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    \n    if (!isSupportedAlgorithm) { \n        return; \n    }\n    \n    let processedArray = inputArray.map(val => Number(val));\n    \n    // Binary Search REQUIRES a sorted array. Linear search doesn't, but we'll sort for consistency here.\n    if (isSearchAlgo) {\n        processedArray.sort((a, b) => a - b);\n    }\n    \n    let newSteps;\n\n    try {\n        if (selectedAlgorithm === \"bubblesort\") {\n            newSteps = getBubbleSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"mergesort\") {\n            newSteps = getMergeSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"quicksort\") { \n            newSteps = getQuickSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"shellsort\") { \n            newSteps = getShellSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"selectionsort\") { \n             newSteps = getSelectionSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"binarysearch\") { \n             if (isNaN(searchTarget) || searchTarget === null) {\n                 setLoadingError(\"Please set a valid numeric search target.\");\n                 return;\n             }\n             newSteps = getBinarySearchSteps(processedArray, searchTarget);\n        }\n        \n        if (newSteps && newSteps.length > 0) {\n            // Crucially, update the steps' array property to use the sorted array for visualization\n            newSteps = newSteps.map(step => ({...step, array: processedArray}));\n            setSteps(newSteps);\n            // Also, update the main inputArray state to the sorted version for a clean display\n            if (isSearchAlgo) {\n                setInputArray(processedArray);\n            }\n        } else {\n             setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n        }\n        \n    } catch (error) {\n        console.error('Algorithm Generation Failed:', error);\n        setLoadingError(`Algorithm generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n    \n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView, searchTarget]); \n\n  // --- 2. Animation Timer Logic (Sorting/Search only) ---\n  useEffect(() => {\n    // CONDITION 1: Check if we are in the sort view\n    if (currentView !== 'sort') return;\n    \n    // CONDITION 2: Check if steps data is loaded and sorting is not yet complete\n    if (!steps || currentStepIndex >= steps.length - 1) return;\n\n    const intervalId = setInterval(() => {\n      setCurrentStepIndex(prevIndex => prevIndex + 1);\n    }, speed); // Use dynamic speed state\n\n    return () => clearInterval(intervalId); \n    \n  }, [steps, currentStepIndex, currentView, speed]); \n    \n  // --- Algorithm Options Structure ---\n  const algorithmOptions = [\n    { label: \"--- Supported Sorting Algorithms ---\", value: \"header-supported\", disabled: true },\n    { label: \"Selection Sort (O(n²))\", value: \"selectionsort\" },\n    { label: \"Bubble Sort (O(n²))\", value: \"bubblesort\" },\n    { label: \"Merge Sort (O(n log n))\", value: \"mergesort\" },\n    { label: \"Quick Sort (O(n log n))\", value: \"quicksort\" },\n    { label: \"Shell Sort (O(n log² n))\", value: \"shellsort\" },\n    { label: \"--- Supported Search Algorithms ---\", value: \"header-search\", disabled: true },\n    { label: \"Binary Search (O(log n)) - RUNNING (FIXED)\", value: \"binarysearch\" },\n    { label: \"--- Other Algorithms ---\", value: \"header-other\", disabled: true },\n    { label: \"Linear Search (O(n))\", value: \"linearsearch\" },\n    { label: \"Insertion Sort (O(n²))\", value: \"insertionsort\" },\n  ];\n  \n  // Calculate bar width dynamically\n  const barWidth = Math.max(20, Math.floor(800 / currentArray.length) - 2);\n\n\n  return (\n    <div style={{ padding: '20px', minWidth: '800px', fontFamily: 'Inter, sans-serif' }}>\n\n      {/* VIEW TOGGLE BUTTONS */}\n      <div style={{ marginBottom: '20px', borderBottom: '2px solid #eee', paddingBottom: '10px' }}>\n        <button \n          onClick={() => setCurrentView('sort')} \n          style={{ \n            padding: '10px 20px', \n            marginRight: '10px', \n            fontWeight: currentView === 'sort' ? 'bold' : 'normal',\n            backgroundColor: currentView === 'sort' ? '#007bff' : '#f0f0f0',\n            color: currentView === 'sort' ? 'white' : '#333',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            boxShadow: currentView === 'sort' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n          }}>\n          Array Visualizer (Sorting & Search) 📈\n        </button>\n        <button \n          onClick={() => setCurrentView('bst')} \n          style={{ \n            padding: '10px 20px', \n            fontWeight: currentView === 'bst' ? 'bold' : 'normal',\n            backgroundColor: currentView === 'bst' ? '#007bff' : '#f0f0f0',\n            color: currentView === 'bst' ? 'white' : '#333',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            boxShadow: currentView === 'bst' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n          }}>\n          Binary Search Tree Visualizer 🌳\n        </button>\n      </div>\n\n      {currentView === 'sort' ? (\n        // === ARRAY VISUALIZER (SORTING & SEARCH) ===\n        <>\n          <h1 style={{fontSize: '24px', marginBottom: '15px'}}>Array Sorting & Search Visualizer</h1>\n          \n          {/* CONTROL PANEL */}\n          <div style={{ marginBottom: '20px', padding: '15px', borderRadius: '8px', backgroundColor: '#f4f7fa', display: 'flex', flexWrap: 'wrap', gap: '20px', alignItems: 'center', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)' }}>\n              \n              {/* Algorithm Selector */}\n              <div>\n                  <label htmlFor=\"algo-select\" style={{ marginRight: '10px', fontWeight: 'bold' }}>Algorithm:</label>\n                  <select \n                      id=\"algo-select\" \n                      value={selectedAlgorithm} \n                      onChange={(e) => setSelectedAlgorithm(e.target.value)}\n                      style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}>\n                      {algorithmOptions.map(option => (\n                          <option \n                              key={option.value} \n                              value={option.value} \n                              disabled={option.disabled}>\n                              {option.label}\n                          </option>\n                      ))}\n                  </select>\n              </div>\n              \n              {/* Search Target Input (Conditional) */}\n              {isSearchAlgorithm && (\n                  <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n                      <label htmlFor=\"target-input\" style={{ fontWeight: 'bold' }}>Target Value:</label>\n                      <input\n                          type=\"number\"\n                          id=\"target-input\"\n                          value={searchTarget}\n                          onChange={(e) => setSearchTarget(Number(e.target.value))}\n                          placeholder=\"Search Target\"\n                          style={{ padding: '8px', minWidth: '100px', border: '1px solid #ccc', borderRadius: '4px' }}\n                      />\n                  </div>\n              )}\n\n              {/* New Random Array Button */}\n              <button \n                onClick={() => handleGenerateNewArray()} \n                style={{ \n                    padding: '8px 15px', \n                    cursor: 'pointer', \n                    border: 'none', \n                    borderRadius: '4px', \n                    backgroundColor: '#FFC107', \n                    color: '#333', \n                    fontWeight: 'bold' \n                }}>\n                  Generate New Array\n              </button>\n              \n              {/* Custom Array Input */}\n              <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Custom Array (e.g., 5,12,3,40)\"\n                    value={customInputData}\n                    onChange={(e) => setCustomInputData(e.target.value)}\n                    style={{ padding: '8px', minWidth: '200px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n                <button \n                    onClick={handleLoadCustomArray} \n                    style={{ \n                        padding: '8px 15px', \n                        cursor: 'pointer', \n                        backgroundColor: '#28A745', \n                        color: 'white', \n                        border: 'none', \n                        borderRadius: '4px',\n                        fontWeight: 'bold'\n                    }}>\n                    Load Custom Array\n                </button>\n              </div>\n\n              {/* Speed Slider */}\n              <div style={{ marginLeft: 'auto' }}>\n                  <label htmlFor=\"speed-slider\" style={{ \n                      marginRight: '10px', \n                      fontWeight: 'bold' \n                  }}>\n                      Speed ({speed}ms):\n                  </label>\n                  <input\n                      type=\"range\"\n                      id=\"speed-slider\"\n                      min=\"1\"\n                      max=\"300\"\n                      value={speed}\n                      onChange={(e) => setSpeed(Number(e.target.value))}\n                      style={{ verticalAlign: 'middle' }}\n                  />\n              </div>\n          </div>\n          \n          {/* Error Message */}\n          {loadingError && (\n              <div style={{ padding: '10px', backgroundColor: '#f8d7da', color: '#721c24', borderRadius: '4px', marginBottom: '15px' }}>\n                  <strong>Error:</strong> {loadingError}\n                  {isSearchAlgorithm && \n                   <p className=\"mt-1 text-sm\">Note: For **Binary Search**, the array is automatically **sorted** before visualization.</p>}\n              </div>\n          )}\n\n          {/* VISUALIZATION AREA */}\n          <div style={{ \n              minHeight: '400px', \n              backgroundColor: '#fff', \n              padding: '20px', \n              border: '1px solid #eee', \n              borderRadius: '8px', \n              boxShadow: '0 1px 3px rgba(0,0,0,0.05)',\n              display: 'flex', \n              alignItems: 'flex-end',\n              justifyContent: 'center'\n          }}>\n              {currentArray.map((val, i) => (\n                  <ArrayBar \n                      key={i} \n                      value={val} \n                      height={val} \n                      width={barWidth} \n                      // Sorting Props\n                      isHighlighted={highlightIndices.includes(i)} \n                      isPivot={i === pivotIndex} \n                      isSorted={sortedIndices.includes(i) && !isSearchAlgorithm} // Only mark as fully sorted for sorting algos\n                      // Search Props\n                      isSearchMid={isSearchAlgorithm && currentStep && i === currentStep.mid}\n                      isSearchRange={isSearchAlgorithm && currentStep && i >= currentStep.low && i <= currentStep.high}\n                      isFound={isSearchAlgorithm && currentStep && currentStep.found && i === currentStep.mid}\n                  />\n              ))}\n          </div>\n\n          {/* STATUS BAR & PSEUDOCODE */}\n          <div style={{ display: 'flex', marginTop: '20px', gap: '20px' }}>\n              \n              {/* Status */}\n              <div style={{ flex: 2, padding: '15px', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#f0f0f0' }}>\n                  <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '10px' }}>Status ({isSearchAlgorithm ? 'Search Step' : 'Sorting Step'})</h3>\n                  <p style={{ marginBottom: '5px' }}>\n                    Step **{currentStepIndex + 1}** of **{steps ? steps.length : 0}**\n                  </p>\n                  <p style={{ \n                      fontWeight: 'bold', \n                      color: isSortingComplete ? '#4CAF50' : (currentStep && currentStep.action.includes('SUCCESS') ? '#10b981' : (currentStep && currentStep.action.includes('FAILURE') ? '#dc3545' : '#007bff')) \n                  }}>\n                    {currentStep ? currentStep.action : \"Ready to visualize...\"}\n                  </p>\n                  \n                  {isSearchAlgorithm && currentStep && (\n                      <div className=\"mt-2 text-sm\">\n                          <p>Low Index: **{currentStep.low}**</p>\n                          <p>High Index: **{currentStep.high}**</p>\n                      </div>\n                  )}\n\n              </div>\n\n              {/* Pseudocode */}\n              <div style={{ flex: 3, padding: '15px', border: '1px solid #ddd', borderRadius: '8px', backgroundColor: '#fff' }}>\n                  <h3 style={{ fontSize: '16px', fontWeight: 'bold', marginBottom: '10px' }}>Pseudocode: {selectedAlgorithm}</h3>\n                  <pre style={{ overflowX: 'auto', backgroundColor: '#f9f9f9', padding: '5px', borderRadius: '4px', fontSize: '12px' }}>\n                      {currentPseudocode ? currentPseudocode.map((line, index) => (\n                          <div \n                              key={index} \n                              style={{ \n                                  backgroundColor: currentStep && currentStep.code_line === index ? '#ffe0b2' : 'transparent', // Example code highlighting\n                                  padding: '2px 0',\n                              }}>\n                              {line}\n                          </div>\n                      )) : \"Select an algorithm to view its pseudocode.\"}\n                  </pre>\n              </div>\n              \n          </div>\n        </>\n      ) : (\n        // === BST VISUALIZER ===\n        <BSTVisualizer />\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}