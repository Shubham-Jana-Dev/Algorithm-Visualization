{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react';\n\n// --- Components ---\n\n/**\n * ArrayBar Component: Displays a single element in the array visualization.\n * It handles color coding based on the algorithm state.\n */\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst ArrayBar = /*#__PURE__*/React.memo(_c = ({\n  value,\n  height,\n  width,\n  isHighlighted,\n  isPivot,\n  isSorted,\n  isSearchMid,\n  isSearchRange,\n  isFound,\n  isLinearCheck,\n  isBinarySearchMode\n}) => {\n  // Default color is Blue - using inline styles instead of Tailwind\n  let backgroundColor = '#3b82f6'; // blue-500\n  let opacity = 1;\n\n  // --- Search Mode Logic ---\n  if (isFound) {\n    // Found element (Both Search Algorithms) takes highest priority\n    backgroundColor = '#10b981'; // emerald-500\n  } else if (isLinearCheck) {\n    // Linear Search Specific Color for current comparison\n    backgroundColor = '#ef4444'; // red-500\n  } else if (isSearchMid) {\n    // Mid element (Binary Search)\n    backgroundColor = '#f59e0b'; // amber-500\n  } else if (isSearchRange) {\n    // Elements in the current search range (Binary Search)\n    backgroundColor = '#60a5fa'; // blue-400\n  } else if (isBinarySearchMode) {\n    // Excluded elements during Binary Search\n    opacity = 0.3;\n    backgroundColor = '#9ca3af'; // gray-400\n  }\n\n  // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n  // These only apply if the search flags above were false.\n  if (!isBinarySearchMode && !isLinearSearchMode) {\n    // Ensure sorting colors only apply if not in a search mode\n    if (isSorted) {\n      backgroundColor = '#22c55e'; // green-500\n      opacity = 1;\n    } else if (isPivot) {\n      backgroundColor = '#9333ea'; // purple-600\n    } else if (isHighlighted) {\n      backgroundColor = '#f97316'; // orange-500\n    }\n  }\n  const finalWidth = width > 0 ? `${width}px` : '20px';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: `${height}px`,\n      width: finalWidth,\n      minWidth: finalWidth,\n      minHeight: '20px',\n      margin: '0 1px',\n      backgroundColor: backgroundColor,\n      opacity: opacity,\n      display: 'flex',\n      alignItems: 'flex-end',\n      justifyContent: 'center',\n      color: 'white',\n      fontWeight: 'bold',\n      fontSize: width > 20 ? '10px' : '8px',\n      borderRadius: '4px 4px 0 0',\n      boxShadow: '0 1px 3px rgba(0,0,0,0.2)',\n      position: 'relative',\n      flexShrink: 0,\n      // Maintained transition for smoother visual steps\n      transition: 'height 0.2s ease-out, background-color 0.1s linear'\n    },\n    title: `Value: ${value}`,\n    children: width > 20 && value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 50,\n    columnNumber: 9\n  }, this);\n});\n\n// --- Constants ---\n_c2 = ArrayBar;\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400;\nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 100;\n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n  bubblesort: [\"function bubbleSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    for j from 0 to n - 2 - i:\", \"      // Compare & Highlight array[j] and array[j+1]\", \"      if array[j] > array[j+1]:\", \"        // Swap elements\", \"        swap(array[j], array[j+1])\", \"  return array\"],\n  mergesort: [\"function mergeSort(array):\", \"  if array.length <= 1: return array\", \"  mid = floor(array.length / 2)\", \"  left = mergeSort(array[0...mid])\", \"  right = mergeSort(array[mid...n])\", \"  return merge(left, right)\", \"\", \"function merge(left, right):\", \"  // Merging sub-arrays and placing back into the original array...\", \"  result = []\", \"  while left & right are not empty:\", \"    if left[0] <= right[0]:\", \"      result.push(left.shift())\", \"    else:\", \"      result.push(right.shift())\", \"  return result + left + right\"],\n  quicksort: [\"function quickSort(array, low, high):\", \"  if low < high:\", \"    // Partition the array\", \"    pi = partition(array, low, high)\", \"    // Recursively sort left and right sub-arrays\", \"    quickSort(array, low, pi - 1)\", \"    quickSort(array, pi + 1, high)\", \"\", \"function partition(array, low, high):\", \"  pivot = array[high] // Choose the last element as pivot\", \"  i = low - 1\", \"  for j from low to high - 1:\", \"    if array[j] < pivot:\", \"      i++\", \"      swap(array[i], array[j])\", \"  swap(array[i+1], array[high])\", \"  return i + 1\"],\n  shellsort: [\"function shellSort(array):\", \"  n = array.length\", \"  gap = floor(n / 2)\", \"  while gap > 0:\", \"    // Perform gapped insertion sort\", \"    for i from gap to n - 1:\", \"      temp = array[i]\", \"      j = i\", \"      while j >= gap and array[j - gap] > temp:\", \"        // Shift elements (Highlight comparison and shift)\", \"        array[j] = array[j - gap]\", \"        j = j - gap\", \"      // Place temp (Highlight placement)\", \"      array[j] = temp\", \"    gap = floor(gap / 2) // Reduce the gap\"],\n  selectionsort: [\"function selectionSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    // Assume current position i holds the minimum\", \"    minIndex = i\", \"    for j from i + 1 to n - 1:\", \"      // Highlight comparison between array[j] and array[minIndex]\", \"      if array[j] < array[minIndex]:\", \"        // Update the index of the minimum element\", \"        minIndex = j\", \"    // If a smaller element was found, swap it into position i\", \"    if minIndex is not i:\", \"      swap(array[i], array[minIndex])\", \"    // Position i is finalized\", \"  return array\"],\n  binarysearch: [\"function binarySearch(array, target):\", \"  // Array MUST be sorted\", \"  low = 0\", \"  high = array.length - 1\", \"  while low <= high:\", \"    mid = floor((low + high) / 2)\", \"    // Highlight mid element (array[mid])\", \"    if array[mid] == target:\", \"      return mid\", \"    else if array[mid] < target:\", \"      // Search right (New Low = mid + 1)\", \"      low = mid + 1\", \"      // Exclude left half\", \"    else:\", \"      // Search left (New High = mid - 1)\", \"      high = mid - 1\", \"      // Exclude right half\", \"  return -1\"],\n  linearsearch: [\"function linearSearch(array, target):\", \"  n = array.length\", \"  for i from 0 to n - 1:\", \"    // Highlight array[i]\", \"    if array[i] == target:\", \"      return i\", \"  return -1\"]\n};\n\n// --- Helper Functions (No changes needed to core logic, keeping them concise) ---\n\nconst generateRandomArray = size => {\n  return Array.from({\n    length: size\n  }, () => Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE);\n};\nconst parseCustomArray = inputString => {\n  const elements = inputString.split(',').map(s => {\n    const num = parseInt(s.trim());\n    return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n  }).filter(n => n !== null);\n  return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC (Generators for visualization steps) ---\n\nconst getBubbleSortSteps = initialArray => {\n  let array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], newArray = null, sorted_indices = []) => {\n    steps.push({\n      array: newArray ? [...newArray] : [...array],\n      highlight_indices: highlight_indices,\n      action: action,\n      sorted_indices: [...sorted_indices]\n    });\n    if (newArray) array = newArray;\n  };\n  for (let i = 0; i < n - 1; i++) {\n    let swapped = false;\n    for (let j = 0; j < n - 1 - i; j++) {\n      recordStep(`Comparing array[${j}] and array[${j + 1}]`, [j, j + 1], null, sortedIndices);\n      if (array[j] > array[j + 1]) {\n        const tempArray = [...array];\n        [tempArray[j], tempArray[j + 1]] = [tempArray[j + 1], tempArray[j]];\n        swapped = true;\n        recordStep(`Swapping ${array[j]} and ${array[j + 1]}`, [j, j + 1], tempArray, sortedIndices);\n      }\n      recordStep(`Comparison done. Resetting comparison highlights.`, [], null, sortedIndices);\n    }\n    const sortedIndex = n - 1 - i;\n    sortedIndices.push(sortedIndex);\n    recordStep(`Position ${sortedIndex} is finalized (Sorted).`, [sortedIndex], null, sortedIndices);\n    if (!swapped) {\n      for (let k = 0; k < n - 1 - i; k++) {\n        if (!sortedIndices.includes(k)) {\n          sortedIndices.push(k);\n        }\n      }\n      break;\n    }\n  }\n  if (n > 0 && !sortedIndices.includes(0)) {\n    sortedIndices.push(0);\n    recordStep(`Final element at index 0 is sorted.`, [0], null, sortedIndices);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Bubble Sort\", [], null, finalSortedIndices);\n  return steps;\n};\nconst getMergeSortSteps = initialArray => {\n  let array = [...initialArray];\n  const steps = [];\n  const recordStep = (action, highlight_indices = [], newArray = null, sorted_indices = []) => {\n    steps.push({\n      array: newArray ? [...newArray] : [...array],\n      highlight_indices: highlight_indices,\n      action: action,\n      sorted_indices: [...sorted_indices]\n    });\n    if (newArray) array = newArray;\n  };\n  const merge = (arr, start, mid, end) => {\n    const left = arr.slice(start, mid);\n    const right = arr.slice(mid, end);\n    let i = 0,\n      j = 0,\n      k = start;\n    recordStep(`Preparing to merge elements from index ${start} to ${end - 1}`, Array.from({\n      length: end - start\n    }, (_, idx) => start + idx));\n    let currentWorkingArray = [...array];\n    while (i < left.length && j < right.length) {\n      recordStep(`Comparing ${left[i]} and ${right[j]}`, [start + i, mid + j]);\n      if (left[i] <= right[j]) {\n        currentWorkingArray[k] = left[i];\n        i++;\n      } else {\n        currentWorkingArray[k] = right[j];\n        j++;\n      }\n      recordStep(`Placing element ${currentWorkingArray[k]} at index ${k}`, [k], currentWorkingArray);\n      k++;\n    }\n    while (i < left.length) {\n      currentWorkingArray[k] = left[i];\n      recordStep(`Placing remaining element ${currentWorkingArray[k]} from left half at ${k}`, [k], currentWorkingArray);\n      i++;\n      k++;\n    }\n    while (j < right.length) {\n      currentWorkingArray[k] = right[j];\n      recordStep(`Placing remaining element ${currentWorkingArray[k]} from right half at ${k}`, [k], currentWorkingArray);\n      j++;\n      k++;\n    }\n    recordStep(`Merged segment complete from index ${start} to ${end - 1}`, Array.from({\n      length: end - start\n    }, (_, idx) => start + idx));\n  };\n  const mergeSortHelper = (arr, start, end) => {\n    if (end - start <= 1) return;\n    recordStep(`Splitting array segment from ${start} to ${end - 1}`, Array.from({\n      length: end - start\n    }, (_, idx) => start + idx));\n    const mid = Math.floor((start + end) / 2);\n    mergeSortHelper(arr, start, mid);\n    mergeSortHelper(arr, mid, end);\n    merge(arr, start, mid, end);\n  };\n  mergeSortHelper(array, 0, array.length);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  recordStep(\"Finished Merge Sort\", [], null, finalSortedIndices);\n  return steps;\n};\nconst getQuickSortSteps = initialArray => {\n  let array = [...initialArray];\n  const steps = [];\n  const recordStep = (action, highlight_indices = [], pivot_index = null, newArray = null, sorted_indices = []) => {\n    steps.push({\n      array: newArray ? [...newArray] : [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: pivot_index,\n      sorted_indices: [...sorted_indices]\n    });\n    if (newArray) array = newArray;\n  };\n  const sortedIndicesTracker = [];\n  const partition = (arr, low, high) => {\n    let tempArray = [...arr];\n    const pivot = tempArray[high];\n    let i = low - 1;\n    recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, null, sortedIndicesTracker);\n    for (let j = low; j <= high - 1; j++) {\n      recordStep(`Comparing ${tempArray[j]} at ${j} with pivot ${pivot}`, [j], high, null, sortedIndicesTracker);\n      if (tempArray[j] < pivot) {\n        i++;\n        [tempArray[i], tempArray[j]] = [tempArray[j], tempArray[i]];\n        recordStep(`Swapping ${tempArray[j]} and ${tempArray[i]} to move small element left`, [i, j], high, tempArray, sortedIndicesTracker);\n      }\n      recordStep(`Resetting comparison highlights`, [], high, null, sortedIndicesTracker);\n    }\n    const pivotIndex = i + 1;\n    [tempArray[pivotIndex], tempArray[high]] = [tempArray[high], tempArray[pivotIndex]];\n    recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, tempArray, [...sortedIndicesTracker, pivotIndex]);\n    return pivotIndex;\n  };\n  const quickSortHelper = (arr, low, high) => {\n    if (low < high) {\n      const pi = partition(arr, low, high);\n      if (!sortedIndicesTracker.includes(pi)) {\n        sortedIndicesTracker.push(pi);\n      }\n      quickSortHelper(arr, low, pi - 1);\n      quickSortHelper(arr, pi + 1, high);\n    } else if (low === high && low >= 0) {\n      if (!sortedIndicesTracker.includes(low)) {\n        sortedIndicesTracker.push(low);\n        recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, null, sortedIndicesTracker);\n      }\n    }\n  };\n  quickSortHelper(array, 0, array.length - 1);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    action: \"Finished Quick Sort\",\n    highlight_indices: [],\n    pivot_index: null,\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\nconst getShellSortSteps = initialArray => {\n  let array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let gap = Math.floor(n / 2);\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], current_gap = gap, newArray = null, sorted_indices = []) => {\n    steps.push({\n      array: newArray ? [...newArray] : [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      gap: current_gap,\n      sorted_indices: [...sorted_indices]\n    });\n    if (newArray) array = newArray;\n  };\n  while (gap > 0) {\n    recordStep(`Starting pass with Gap = ${gap}`, [], gap, null, sortedIndices);\n    for (let i = gap; i < n; i++) {\n      let tempArray = [...array];\n      const temp = tempArray[i];\n      let j = i;\n      recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, null, sortedIndices);\n      while (j >= gap && tempArray[j - gap] > temp) {\n        recordStep(`Comparing ${tempArray[j - gap]} at ${j - gap} and selected element ${temp}. Gap = ${gap}`, [j, j - gap], gap, null, sortedIndices);\n        tempArray[j] = tempArray[j - gap];\n        recordStep(`Shifting ${tempArray[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, tempArray, sortedIndices);\n        j -= gap;\n        recordStep(`Resetting highlights. Gap = ${gap}`, [], gap, null, sortedIndices);\n      }\n      tempArray[j] = temp;\n      recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, tempArray, sortedIndices);\n    }\n    gap = Math.floor(gap / 2);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Shell Sort\", [], 0, null, finalSortedIndices);\n  return steps;\n};\nconst getSelectionSortSteps = initialArray => {\n  let array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], min_index = null, newArray = null, sorted_indices = []) => {\n    steps.push({\n      array: newArray ? [...newArray] : [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: min_index,\n      // Using pivot_index to track current minimum\n      sorted_indices: [...sorted_indices]\n    });\n    if (newArray) array = newArray;\n  };\n  for (let i = 0; i < n - 1; i++) {\n    let minIndex = i;\n    let tempArray = [...array];\n    recordStep(`Starting pass ${i + 1}. Current index is ${i}.`, [i], minIndex, null, sortedIndices);\n    for (let j = i + 1; j < n; j++) {\n      recordStep(`Comparing ${tempArray[j]} at ${j} with current minimum ${tempArray[minIndex]} at ${minIndex}.`, [j], minIndex, null, sortedIndices);\n      if (tempArray[j] < tempArray[minIndex]) {\n        minIndex = j;\n        recordStep(`New minimum found: ${tempArray[minIndex]} at index ${minIndex}.`, [j], minIndex, null, sortedIndices);\n      }\n      recordStep(`Comparison done.`, [], minIndex, null, sortedIndices);\n    }\n    if (minIndex !== i) {\n      [tempArray[i], tempArray[minIndex]] = [tempArray[minIndex], tempArray[i]];\n      recordStep(`Swapping ${tempArray[minIndex]} (current position) with ${tempArray[i]} (new smallest) to place smallest element at ${i}.`, [i, minIndex], null, tempArray, sortedIndices);\n    } else {\n      recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [i], null, null, sortedIndices);\n    }\n    sortedIndices.push(i);\n    recordStep(`Position ${i} is finalized (Sorted).`, [], null, null, sortedIndices);\n  }\n  if (n > 0 && !sortedIndices.includes(n - 1)) {\n    sortedIndices.push(n - 1);\n    recordStep(`Final element at index ${n - 1} is sorted.`, [], null, null, sortedIndices);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, k) => k);\n  recordStep(\"Finished Selection Sort\", [], null, null, finalSortedIndices);\n  return steps;\n};\nconst getBinarySearchSteps = (arr, target) => {\n  const steps = [];\n  const array = [...arr];\n  steps.push({\n    array: [...array],\n    action: `Search started for target ${target}. Array must be sorted.`,\n    low: 0,\n    high: array.length - 1,\n    mid: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: [],\n    isSearch: true\n  });\n  let low = 0;\n  let high = array.length - 1;\n  let found = false;\n  let mid = -1;\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n    steps.push({\n      array: [...array],\n      action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: false,\n      search_target: target,\n      highlight_indices: [mid],\n      isSearch: true\n    });\n    if (array[mid] === target) {\n      found = true;\n      break;\n    } else if (array[mid] < target) {\n      low = mid + 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isSearch: true\n      });\n    } else {\n      high = mid - 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isSearch: true\n      });\n    }\n  }\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: true,\n      search_target: target,\n      highlight_indices: [mid],\n      isSearch: true\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n      low: low,\n      high: high,\n      mid: -1,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isSearch: true\n    });\n  }\n  return steps;\n};\nconst getLinearSearchSteps = (arr, target) => {\n  const steps = [];\n  const array = [...arr];\n  const n = array.length;\n  let found = false;\n  let foundIndex = -1;\n  steps.push({\n    array: [...array],\n    action: `Linear Search started for target ${target}.`,\n    current_index: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: [],\n    isLinearSearch: true\n  });\n  for (let i = 0; i < n; i++) {\n    steps.push({\n      array: [...array],\n      action: `Comparing element at index ${i}: Value is ${array[i]}`,\n      current_index: i,\n      found: false,\n      search_target: target,\n      highlight_indices: [i],\n      isLinearSearch: true\n    });\n    if (array[i] === target) {\n      found = true;\n      foundIndex = i;\n      break;\n    }\n    steps.push({\n      array: [...array],\n      action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n      current_index: i,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isLinearSearch: true\n    });\n  }\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n      current_index: foundIndex,\n      found: true,\n      search_target: target,\n      highlight_indices: [foundIndex],\n      isLinearSearch: true\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n      current_index: n - 1,\n      found: false,\n      search_target: target,\n      highlight_indices: [],\n      isLinearSearch: true\n    });\n  }\n  return steps;\n};\n\n// --- Main App Component ---\nexport default function App() {\n  _s();\n  const [currentView, setCurrentView] = useState('sort');\n\n  // Sorting/Searching Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"bubblesort\");\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  // MINIMUM speed changed to 50ms for better responsiveness at low end\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n\n  // State for Search Algorithms\n  const [searchTarget, setSearchTarget] = useState(50);\n\n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && steps.length > 0;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  const barWidth = currentArray.length > 0 ? Math.max(10, 800 / currentArray.length - 2) : 20;\n  const maxVal = Math.max(...inputArray, 100);\n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n    if (isAnimating) handleStartStopAnimation();\n    const newArray = generateRandomArray(size);\n    setInputArray(newArray);\n    setCustomInputData(\"\");\n    setArraySize(size);\n    if (isSearchAlgorithm && newArray.length > 0) {\n      setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n    } else {\n      setSearchTarget(50);\n    }\n  };\n  const handleLoadCustomArray = () => {\n    if (isAnimating) handleStartStopAnimation();\n    const newArray = parseCustomArray(customInputData);\n    if (newArray.length > 0 && newArray.length <= 50) {\n      setInputArray(newArray);\n      setArraySize(newArray.length);\n      setLoadingError(null);\n      if (isSearchAlgorithm && newArray.length > 0) {\n        setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n      } else {\n        setSearchTarget(50);\n      }\n    } else if (newArray.length > 50) {\n      setLoadingError(\"Maximum array size for custom input is 50 elements.\");\n    } else {\n      setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n    }\n  };\n  const handleSearchClick = () => {\n    const currentTarget = Number(searchTarget);\n    setSearchTarget(currentTarget);\n    if (isAnimating) handleStartStopAnimation();\n    setCurrentStepIndex(0);\n  };\n\n  // --- Animation Control Logic (Refined to guarantee step visibility) ---\n\n  const handleStartStopAnimation = useCallback(() => {\n    // Clear any pending timeout when toggling animation state\n    if (animationRef.current) {\n      clearTimeout(animationRef.current);\n      animationRef.current = null;\n    }\n    setIsAnimating(prev => {\n      const newState = !prev;\n      if (newState && isSortingComplete) {\n        setCurrentStepIndex(0); // Reset if starting again after completion\n      }\n      return newState;\n    });\n  }, [isSortingComplete]);\n\n  // Effect to handle the single, controlled step progression\n  useEffect(() => {\n    if (!isAnimating || !steps || steps.length === 0 || currentStepIndex >= steps.length - 1) {\n      if (isAnimating && steps && currentStepIndex >= steps.length - 1) {\n        // Stop animation if it reaches the end while running\n        setIsAnimating(false);\n      }\n      return;\n    }\n\n    // This runs ONE step after the delay, then triggers the state update,\n    // which in turn re-runs this effect for the next step.\n    animationRef.current = setTimeout(() => {\n      setCurrentStepIndex(prevIndex => {\n        const nextIndex = prevIndex + 1;\n\n        // Critical: If we hit the end, the animation should stop by itself \n        // because the dependency check at the top will fail on the next run.\n        return nextIndex;\n      });\n    }, speed);\n\n    // Cleanup function: ensures only one timeout is running at a time\n    return () => {\n      if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n\n    // Dependencies: isAnimating, steps (ensures if the array/algo changes, the timer resets), \n    // currentStepIndex (drives the loop), speed (allows dynamic speed changes)\n  }, [isAnimating, steps, currentStepIndex, speed]);\n\n  // Effect to recalculate steps whenever the array, algorithm, or target changes\n  useEffect(() => {\n    if (isAnimating) {\n      handleStartStopAnimation();\n    }\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    if (!inputArray || inputArray.length === 0) {\n      setLoadingError(\"The array is empty. Please generate or enter an array.\");\n      setSteps(null);\n      return;\n    }\n    let arrayForAlgo = [...inputArray];\n    if (selectedAlgorithm === 'binarysearch') {\n      const isAlreadySorted = arrayForAlgo.every((val, i, arr) => i === 0 || val >= arr[i - 1]);\n      if (!isAlreadySorted) {\n        arrayForAlgo.sort((a, b) => a - b);\n        const arraysEqual = arrayForAlgo.length === inputArray.length && arrayForAlgo.every((val, i) => val === inputArray[i]);\n        if (!arraysEqual) {\n          setInputArray(arrayForAlgo);\n        }\n        setLoadingError(\"Binary Search requires a sorted array. The array has been sorted automatically.\");\n      }\n    } else {\n      arrayForAlgo = [...inputArray];\n    }\n    try {\n      let newSteps = [];\n      switch (selectedAlgorithm) {\n        case 'bubblesort':\n          newSteps = getBubbleSortSteps(arrayForAlgo);\n          break;\n        case 'mergesort':\n          newSteps = getMergeSortSteps(arrayForAlgo);\n          break;\n        case 'quicksort':\n          newSteps = getQuickSortSteps(arrayForAlgo);\n          break;\n        case 'shellsort':\n          newSteps = getShellSortSteps(arrayForAlgo);\n          break;\n        case 'selectionsort':\n          newSteps = getSelectionSortSteps(arrayForAlgo);\n          break;\n        case 'binarysearch':\n          newSteps = getBinarySearchSteps(arrayForAlgo, searchTarget);\n          break;\n        case 'linearsearch':\n          newSteps = getLinearSearchSteps(arrayForAlgo, searchTarget);\n          break;\n        default:\n          setLoadingError(`Algorithm \"${selectedAlgorithm}\" is not supported.`);\n          setSteps(null);\n          return;\n      }\n      if (newSteps && newSteps.length > 0) {\n        setSteps(newSteps);\n      } else {\n        setSteps(null);\n        setLoadingError(\"No steps generated for this algorithm.\");\n      }\n    } catch (e) {\n      console.error(\"Error generating steps:\", e);\n      setLoadingError(\"An error occurred while running the algorithm: \" + e.message);\n      setSteps(null);\n    }\n  }, [selectedAlgorithm, inputArray, searchTarget]);\n  const handleStepControl = action => {\n    if (isAnimating) handleStartStopAnimation();\n    switch (action) {\n      case 'start':\n        setCurrentStepIndex(0);\n        break;\n      case 'back':\n        setCurrentStepIndex(prev => Math.max(0, prev - 1));\n        break;\n      case 'forward':\n        setCurrentStepIndex(prev => Math.min(steps.length - 1, prev + 1));\n        break;\n      case 'end':\n        if (steps) setCurrentStepIndex(steps.length - 1);\n        break;\n      default:\n        break;\n    }\n  };\n\n  // --- Render Helpers for Array Visualization ---\n  const isBinarySearchMode = selectedAlgorithm === 'binarysearch';\n  const isLinearSearchMode = selectedAlgorithm === 'linearsearch';\n  const maxBarHeight = 300;\n  const lowIndex = currentStep && currentStep.isSearch ? currentStep.low : -1;\n  const highIndex = currentStep && currentStep.isSearch ? currentStep.high : -1;\n  const midIndex = currentStep && currentStep.isSearch ? currentStep.mid : -1;\n  const isFound = currentStep && currentStep.isSearch ? currentStep.found : false;\n  const linearCheckIndex = currentStep && currentStep.isLinearSearch ? currentStep.current_index : -1;\n\n  // Determine the state of each bar\n  const bars = currentArray.map((value, index) => {\n    let isSearchRange = false;\n    let isBinarySearchModeBar = false;\n    if (isBinarySearchMode) {\n      if (index >= lowIndex && index <= highIndex) {\n        isSearchRange = true;\n      } else {\n        isBinarySearchModeBar = true;\n      }\n    }\n    return /*#__PURE__*/_jsxDEV(ArrayBar, {\n      value: value,\n      height: value / maxVal * maxBarHeight,\n      width: barWidth,\n      isHighlighted: highlightIndices.includes(index),\n      isPivot: pivotIndex === index,\n      isSorted: sortedIndices.includes(index),\n      isSearchMid: midIndex === index,\n      isSearchRange: isSearchRange,\n      isFound: isFound && (midIndex === index || linearCheckIndex === index),\n      isLinearCheck: isLinearSearchMode && linearCheckIndex === index,\n      isBinarySearchMode: isBinarySearchModeBar\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 973,\n      columnNumber: 13\n    }, this);\n  });\n\n  // --- Main Render ---\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"min-h-screen bg-gray-50 p-6 sm:p-10 font-sans\",\n    children: [/*#__PURE__*/_jsxDEV(\"script\", {\n      src: \"https://cdn.tailwindcss.com\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 994,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"style\", {\n      dangerouslySetInnerHTML: {\n        __html: `\n            .code-line.active {\n                background-color: #fef3c7; /* Amber-100 */\n                border-left: 4px solid #f59e0b; /* Amber-500 */\n                font-weight: 600;\n            }\n            .code-line {\n                padding: 2px 8px;\n                transition: all 0.1s ease-in-out;\n                font-family: monospace;\n                white-space: pre;\n            }\n        `\n      }\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 995,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-6xl mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"text-3xl font-extrabold text-indigo-700 mb-6 border-b pb-2\",\n        children: \"Algorithm Visualizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1009,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg shadow-inner\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700 mb-2\",\n            children: \"Select Algorithm\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1017,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            className: \"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition\",\n            value: selectedAlgorithm,\n            onChange: e => setSelectedAlgorithm(e.target.value),\n            disabled: isAnimating,\n            children: [/*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Sorting\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"bubblesort\",\n                children: \"Bubble Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1025,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"selectionsort\",\n                children: \"Selection Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1026,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"mergesort\",\n                children: \"Merge Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1027,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"quicksort\",\n                children: \"Quick Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1028,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"shellsort\",\n                children: \"Shell Sort\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1029,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"optgroup\", {\n              label: \"Searching\",\n              children: [/*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"binarysearch\",\n                children: \"Binary Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1032,\n                columnNumber: 29\n              }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n                value: \"linearsearch\",\n                children: \"Linear Search\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1033,\n                columnNumber: 29\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1031,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1018,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1016,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg shadow-inner space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleGenerateNewArray(),\n              className: \"flex-1 px-4 py-2 bg-indigo-500 text-white font-semibold rounded-lg shadow hover:bg-indigo-600 transition disabled:opacity-50\",\n              disabled: isAnimating,\n              children: \"Generate Random Array\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1041,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleGenerateNewArray(25),\n              className: \"px-4 py-2 bg-indigo-400 text-white font-semibold rounded-lg shadow hover:bg-indigo-500 transition disabled:opacity-50 text-sm\",\n              disabled: isAnimating,\n              children: \"Size 25\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1048,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1040,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"text\",\n              placeholder: \"e.g., 10,25,3,40\",\n              value: customInputData,\n              onChange: e => setCustomInputData(e.target.value),\n              className: \"flex-1 p-2 border border-gray-300 rounded-lg\",\n              disabled: isAnimating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1058,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleLoadCustomArray,\n              className: \"px-4 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow hover:bg-yellow-600 transition disabled:opacity-50 text-sm\",\n              disabled: isAnimating,\n              children: \"Load\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1066,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1057,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1039,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-gray-50 p-4 rounded-lg shadow-inner space-y-3\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            className: \"block text-sm font-medium text-gray-700\",\n            children: [\"Animation Speed (ms): \", speed]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1078,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"range\"\n            // Changed min to 50ms (from 20ms) to ensure smooth transition visibility\n            ,\n            min: \"50\",\n            max: \"500\",\n            step: \"10\",\n            value: speed,\n            onChange: e => setSpeed(Number(e.target.value)),\n            className: \"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\",\n            disabled: isAnimating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1079,\n            columnNumber: 21\n          }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex gap-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"number\",\n              placeholder: \"Target Value\",\n              value: searchTarget,\n              onChange: e => setSearchTarget(Number(e.target.value)),\n              className: \"w-2/3 p-2 border border-gray-300 rounded-lg\",\n              disabled: isAnimating\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1093,\n              columnNumber: 29\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleSearchClick,\n              className: \"w-1/3 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow hover:bg-blue-600 transition disabled:opacity-50\",\n              disabled: isAnimating || !steps,\n              children: \"Search\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1101,\n              columnNumber: 30\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1092,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1077,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1014,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bg-white p-6 rounded-xl shadow-2xl border border-gray-100 mb-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex justify-between items-center mb-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"text-xl font-semibold text-gray-700\",\n            children: [selectedAlgorithm.split(/(?=[A-Z])/).map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' '), \" Visualization\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1116,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm font-medium text-gray-500\",\n            children: [\"Total Steps: \", steps ? steps.length : 0, \" | Current Step: \", currentStepIndex + 1]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1119,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1115,\n          columnNumber: 17\n        }, this), loadingError && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg mb-4\",\n          children: loadingError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1125,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-end justify-center w-full min-h-[350px] max-h-[400px] overflow-x-auto overflow-y-hidden border-b-2 border-gray-300 pb-2\",\n          children: bars\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1130,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"mt-4 text-center text-lg font-medium text-gray-800\",\n          children: currentStep ? currentStep.action : \"Press Play to Start Visualization\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1134,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1114,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-1 lg:grid-cols-3 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-2 bg-white p-4 rounded-xl border shadow-md flex flex-col justify-between\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-gray-700 mb-3\",\n            children: \"Playback Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1143,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-center items-center space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStepControl('start'),\n              className: \"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\",\n              disabled: isAnimating || currentStepIndex === 0,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M11 19l-7-7 7-7m4 14l-7-7 7-7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1146,\n                  columnNumber: 143\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1146,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1145,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStepControl('back'),\n              className: \"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\",\n              disabled: isAnimating || currentStepIndex === 0,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M15 19l-7-7 7-7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1149,\n                  columnNumber: 144\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1149,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1148,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: handleStartStopAnimation,\n              className: `p-4 rounded-full shadow-lg transform transition disabled:opacity-50 ${isAnimating ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`,\n              disabled: !steps || steps.length === 0,\n              children: isAnimating ? /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-8 w-8\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1158,\n                  columnNumber: 147\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1158,\n                columnNumber: 33\n              }, this) : /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-8 w-8\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: [/*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1160,\n                  columnNumber: 147\n                }, this), /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1160,\n                  columnNumber: 317\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 1160,\n                columnNumber: 33\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1152,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStepControl('forward'),\n              className: \"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\",\n              disabled: isAnimating || steps && currentStepIndex === steps.length - 1,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M9 5l7 7-7 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1165,\n                  columnNumber: 143\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1165,\n                columnNumber: 29\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1164,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              onClick: () => handleStepControl('end'),\n              className: \"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\",\n              disabled: isAnimating || steps && currentStepIndex === steps.length - 1,\n              children: /*#__PURE__*/_jsxDEV(\"svg\", {\n                xmlns: \"http://www.w3.org/2000/svg\",\n                className: \"h-6 w-6\",\n                fill: \"none\",\n                viewBox: \"0 0 24 24\",\n                stroke: \"currentColor\",\n                children: /*#__PURE__*/_jsxDEV(\"path\", {\n                  strokeLinecap: \"round\",\n                  strokeLinejoin: \"round\",\n                  strokeWidth: \"2\",\n                  d: \"M13 5l7 7-7 7M5 5l7 7-7 7\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 1168,\n                  columnNumber: 144\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1168,\n                columnNumber: 30\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1167,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1144,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1142,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"lg:col-span-1 bg-gray-900 p-4 rounded-xl shadow-md overflow-x-auto\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-lg font-semibold text-white mb-3\",\n            children: \"Pseudocode\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1175,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n            className: \"text-sm text-gray-200 bg-gray-800 p-2 rounded max-h-60 overflow-y-auto\",\n            children: currentPseudocode ? currentPseudocode.map((line, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              className: `code-line ${currentStep && currentStep.code_line === index ? 'active' : ''}`,\n              children: line\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1178,\n              columnNumber: 29\n            }, this)) : 'Select an algorithm to view pseudocode.'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1176,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1174,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1140,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1008,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 993,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"RAsONQRCz2FiciybwM+S4aT7jqo=\");\n_c3 = App;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ArrayBar$React.memo\");\n$RefreshReg$(_c2, \"ArrayBar\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","jsxDEV","_jsxDEV","ArrayBar","memo","_c","value","height","width","isHighlighted","isPivot","isSorted","isSearchMid","isSearchRange","isFound","isLinearCheck","isBinarySearchMode","backgroundColor","opacity","isLinearSearchMode","finalWidth","style","minWidth","minHeight","margin","display","alignItems","justifyContent","color","fontWeight","fontSize","borderRadius","boxShadow","position","flexShrink","transition","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","DEFAULT_ARRAY_SIZE","MAX_ARRAY_VALUE","MIN_ARRAY_VALUE","ANIMATION_SPEED_MS","PSEUDOCODE","bubblesort","mergesort","quicksort","shellsort","selectionsort","binarysearch","linearsearch","generateRandomArray","size","Array","from","length","Math","floor","random","parseCustomArray","inputString","elements","split","map","s","num","parseInt","trim","isNaN","min","filter","n","getBubbleSortSteps","initialArray","array","steps","sortedIndices","recordStep","action","highlight_indices","newArray","sorted_indices","push","i","swapped","j","tempArray","sortedIndex","k","includes","finalSortedIndices","_","getMergeSortSteps","merge","arr","start","mid","end","left","slice","right","idx","currentWorkingArray","mergeSortHelper","getQuickSortSteps","pivot_index","sortedIndicesTracker","partition","low","high","pivot","pivotIndex","quickSortHelper","pi","getShellSortSteps","gap","current_gap","temp","getSelectionSortSteps","min_index","minIndex","getBinarySearchSteps","target","found","search_target","isSearch","getLinearSearchSteps","foundIndex","current_index","isLinearSearch","App","_s","currentView","setCurrentView","setSteps","currentStepIndex","setCurrentStepIndex","selectedAlgorithm","setSelectedAlgorithm","loadingError","setLoadingError","inputArray","setInputArray","arraySize","setArraySize","customInputData","setCustomInputData","speed","setSpeed","searchTarget","setSearchTarget","isAnimating","setIsAnimating","animationRef","currentStep","currentArray","highlightIndices","isSortingComplete","currentPseudocode","isSearchAlgorithm","barWidth","max","maxVal","handleGenerateNewArray","handleStartStopAnimation","handleLoadCustomArray","handleSearchClick","currentTarget","Number","current","clearTimeout","prev","newState","setTimeout","prevIndex","nextIndex","arrayForAlgo","isAlreadySorted","every","val","sort","a","b","arraysEqual","newSteps","e","console","error","message","handleStepControl","maxBarHeight","lowIndex","highIndex","midIndex","linearCheckIndex","bars","index","isBinarySearchModeBar","className","src","dangerouslySetInnerHTML","__html","onChange","disabled","label","onClick","type","placeholder","step","charAt","toUpperCase","join","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","line","code_line","_c3","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react';\n\n// --- Components ---\n\n/**\n * ArrayBar Component: Displays a single element in the array visualization.\n * It handles color coding based on the algorithm state.\n */\nconst ArrayBar = React.memo(({ value, height, width, isHighlighted, isPivot, isSorted, isSearchMid, isSearchRange, isFound, isLinearCheck, isBinarySearchMode }) => {\n    \n    // Default color is Blue - using inline styles instead of Tailwind\n    let backgroundColor = '#3b82f6'; // blue-500\n    let opacity = 1;\n\n    // --- Search Mode Logic ---\n    if (isFound) {\n        // Found element (Both Search Algorithms) takes highest priority\n        backgroundColor = '#10b981'; // emerald-500\n    } else if (isLinearCheck) {\n        // Linear Search Specific Color for current comparison\n        backgroundColor = '#ef4444'; // red-500\n    } else if (isSearchMid) {\n        // Mid element (Binary Search)\n        backgroundColor = '#f59e0b'; // amber-500\n    } else if (isSearchRange) {\n        // Elements in the current search range (Binary Search)\n        backgroundColor = '#60a5fa'; // blue-400\n    } else if (isBinarySearchMode) { \n        // Excluded elements during Binary Search\n        opacity = 0.3;\n        backgroundColor = '#9ca3af'; // gray-400\n    }\n    \n    // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n    // These only apply if the search flags above were false.\n    if (!isBinarySearchMode && !isLinearSearchMode) { // Ensure sorting colors only apply if not in a search mode\n        if (isSorted) {\n            backgroundColor = '#22c55e'; // green-500\n            opacity = 1;\n        } else if (isPivot) {\n            backgroundColor = '#9333ea'; // purple-600\n        } else if (isHighlighted) {\n            backgroundColor = '#f97316'; // orange-500\n        }\n    }\n\n    const finalWidth = width > 0 ? `${width}px` : '20px';\n\n    return (\n        <div \n            style={{\n                height: `${height}px`,\n                width: finalWidth,\n                minWidth: finalWidth,\n                minHeight: '20px',\n                margin: '0 1px',\n                backgroundColor: backgroundColor,\n                opacity: opacity,\n                display: 'flex',\n                alignItems: 'flex-end',\n                justifyContent: 'center',\n                color: 'white',\n                fontWeight: 'bold',\n                fontSize: width > 20 ? '10px' : '8px',\n                borderRadius: '4px 4px 0 0',\n                boxShadow: '0 1px 3px rgba(0,0,0,0.2)',\n                position: 'relative',\n                flexShrink: 0,\n                // Maintained transition for smoother visual steps\n                transition: 'height 0.2s ease-out, background-color 0.1s linear', \n            }}\n            title={`Value: ${value}`}\n        >\n            {/* Show value for bars wide enough */}\n            {width > 20 && value}\n        </div>\n    );\n});\n\n// --- Constants ---\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400; \nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 100; \n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n    bubblesort: [\n        \"function bubbleSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    for j from 0 to n - 2 - i:\",\n        \"      // Compare & Highlight array[j] and array[j+1]\",\n        \"      if array[j] > array[j+1]:\",\n        \"        // Swap elements\",\n        \"        swap(array[j], array[j+1])\",\n        \"  return array\"\n    ],\n    mergesort: [\n        \"function mergeSort(array):\",\n        \"  if array.length <= 1: return array\",\n        \"  mid = floor(array.length / 2)\",\n        \"  left = mergeSort(array[0...mid])\",\n        \"  right = mergeSort(array[mid...n])\",\n        \"  return merge(left, right)\",\n        \"\",\n        \"function merge(left, right):\",\n        \"  // Merging sub-arrays and placing back into the original array...\",\n        \"  result = []\",\n        \"  while left & right are not empty:\",\n        \"    if left[0] <= right[0]:\",\n        \"      result.push(left.shift())\",\n        \"    else:\",\n        \"      result.push(right.shift())\",\n        \"  return result + left + right\"\n    ],\n    quicksort: [\n        \"function quickSort(array, low, high):\",\n        \"  if low < high:\",\n        \"    // Partition the array\",\n        \"    pi = partition(array, low, high)\",\n        \"    // Recursively sort left and right sub-arrays\",\n        \"    quickSort(array, low, pi - 1)\",\n        \"    quickSort(array, pi + 1, high)\",\n        \"\",\n        \"function partition(array, low, high):\",\n        \"  pivot = array[high] // Choose the last element as pivot\",\n        \"  i = low - 1\",\n        \"  for j from low to high - 1:\",\n        \"    if array[j] < pivot:\",\n        \"      i++\",\n        \"      swap(array[i], array[j])\",\n        \"  swap(array[i+1], array[high])\",\n        \"  return i + 1\"\n    ],\n    shellsort: [\n        \"function shellSort(array):\",\n        \"  n = array.length\",\n        \"  gap = floor(n / 2)\",\n        \"  while gap > 0:\",\n        \"    // Perform gapped insertion sort\",\n        \"    for i from gap to n - 1:\",\n        \"      temp = array[i]\",\n        \"      j = i\",\n        \"      while j >= gap and array[j - gap] > temp:\",\n        \"        // Shift elements (Highlight comparison and shift)\",\n        \"        array[j] = array[j - gap]\",\n        \"        j = j - gap\",\n        \"      // Place temp (Highlight placement)\",\n        \"      array[j] = temp\",\n        \"    gap = floor(gap / 2) // Reduce the gap\"\n    ],\n    selectionsort: [\n        \"function selectionSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    // Assume current position i holds the minimum\",\n        \"    minIndex = i\",\n        \"    for j from i + 1 to n - 1:\",\n        \"      // Highlight comparison between array[j] and array[minIndex]\",\n        \"      if array[j] < array[minIndex]:\",\n        \"        // Update the index of the minimum element\",\n        \"        minIndex = j\",\n        \"    // If a smaller element was found, swap it into position i\",\n        \"    if minIndex is not i:\",\n        \"      swap(array[i], array[minIndex])\",\n        \"    // Position i is finalized\",\n        \"  return array\"\n    ],\n    binarysearch: [\n        \"function binarySearch(array, target):\",\n        \"  // Array MUST be sorted\",\n        \"  low = 0\",\n        \"  high = array.length - 1\",\n        \"  while low <= high:\",\n        \"    mid = floor((low + high) / 2)\",\n        \"    // Highlight mid element (array[mid])\",\n        \"    if array[mid] == target:\",\n        \"      return mid\",\n        \"    else if array[mid] < target:\",\n        \"      // Search right (New Low = mid + 1)\",\n        \"      low = mid + 1\",\n        \"      // Exclude left half\",\n        \"    else:\",\n        \"      // Search left (New High = mid - 1)\",\n        \"      high = mid - 1\",\n        \"      // Exclude right half\",\n        \"  return -1\"\n    ],\n    linearsearch: [\n        \"function linearSearch(array, target):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 1:\",\n        \"    // Highlight array[i]\",\n        \"    if array[i] == target:\",\n        \"      return i\",\n        \"  return -1\"\n    ]\n};\n\n// --- Helper Functions (No changes needed to core logic, keeping them concise) ---\n\nconst generateRandomArray = (size) => {\n    return Array.from({ length: size }, () => \n        Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE\n    );\n};\n\nconst parseCustomArray = (inputString) => {\n    const elements = inputString.split(',')\n        .map(s => {\n            const num = parseInt(s.trim());\n            return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n        })\n        .filter(n => n !== null);\n    return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC (Generators for visualization steps) ---\n\nconst getBubbleSortSteps = (initialArray) => { \n    let array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], newArray = null, sorted_indices = []) => {\n        steps.push({\n            array: newArray ? [...newArray] : [...array],\n            highlight_indices: highlight_indices,\n            action: action,\n            sorted_indices: [...sorted_indices]\n        });\n        if (newArray) array = newArray;\n    };\n\n    for (let i = 0; i < n - 1; i++) {\n        let swapped = false;\n        for (let j = 0; j < n - 1 - i; j++) {\n            \n            recordStep(`Comparing array[${j}] and array[${j + 1}]`, [j, j + 1], null, sortedIndices);\n\n            if (array[j] > array[j + 1]) {\n                const tempArray = [...array];\n                [tempArray[j], tempArray[j + 1]] = [tempArray[j + 1], tempArray[j]];\n                swapped = true;\n                \n                recordStep(`Swapping ${array[j]} and ${array[j+1]}`, [j, j + 1], tempArray, sortedIndices);\n            }\n            \n            recordStep(`Comparison done. Resetting comparison highlights.`, [], null, sortedIndices);\n        }\n        \n        const sortedIndex = n - 1 - i;\n        sortedIndices.push(sortedIndex);\n        recordStep(`Position ${sortedIndex} is finalized (Sorted).`, [sortedIndex], null, sortedIndices);\n\n\n        if (!swapped) {\n            for (let k = 0; k < n - 1 - i; k++) {\n                if (!sortedIndices.includes(k)) {\n                     sortedIndices.push(k);\n                }\n            }\n            break;\n        }\n    }\n    \n    if (n > 0 && !sortedIndices.includes(0)) {\n        sortedIndices.push(0);\n        recordStep(`Final element at index 0 is sorted.`, [0], null, sortedIndices);\n    }\n\n\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Bubble Sort\", [], null, finalSortedIndices);\n\n    return steps;\n};\n\n\nconst getMergeSortSteps = (initialArray) => { \n    let array = [...initialArray];\n    const steps = [];\n    \n    const recordStep = (action, highlight_indices = [], newArray = null, sorted_indices = []) => {\n        steps.push({\n            array: newArray ? [...newArray] : [...array],\n            highlight_indices: highlight_indices,\n            action: action,\n            sorted_indices: [...sorted_indices]\n        });\n        if (newArray) array = newArray;\n    };\n\n    const merge = (arr, start, mid, end) => {\n        const left = arr.slice(start, mid);\n        const right = arr.slice(mid, end);\n        let i = 0, j = 0, k = start;\n        \n        recordStep(`Preparing to merge elements from index ${start} to ${end - 1}`, Array.from({ length: end - start }, (_, idx) => start + idx));\n\n        let currentWorkingArray = [...array];\n\n        while (i < left.length && j < right.length) {\n            \n            recordStep(`Comparing ${left[i]} and ${right[j]}`, [start + i, mid + j]);\n            \n            if (left[i] <= right[j]) {\n                currentWorkingArray[k] = left[i];\n                i++;\n            } else {\n                currentWorkingArray[k] = right[j];\n                j++;\n            }\n            \n            recordStep(`Placing element ${currentWorkingArray[k]} at index ${k}`, [k], currentWorkingArray);\n            k++;\n        }\n\n        while (i < left.length) {\n            currentWorkingArray[k] = left[i];\n            recordStep(`Placing remaining element ${currentWorkingArray[k]} from left half at ${k}`, [k], currentWorkingArray);\n            i++; k++;\n        }\n        while (j < right.length) {\n            currentWorkingArray[k] = right[j];\n            recordStep(`Placing remaining element ${currentWorkingArray[k]} from right half at ${k}`, [k], currentWorkingArray);\n            j++; k++;\n        }\n        \n        recordStep(`Merged segment complete from index ${start} to ${end - 1}`, Array.from({ length: end - start }, (_, idx) => start + idx));\n    };\n\n    const mergeSortHelper = (arr, start, end) => {\n        if (end - start <= 1) return;\n        \n        recordStep(`Splitting array segment from ${start} to ${end - 1}`, Array.from({ length: end - start }, (_, idx) => start + idx));\n\n        const mid = Math.floor((start + end) / 2);\n        mergeSortHelper(arr, start, mid);\n        mergeSortHelper(arr, mid, end);\n        merge(arr, start, mid, end);\n    };\n\n    mergeSortHelper(array, 0, array.length);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    recordStep(\"Finished Merge Sort\", [], null, finalSortedIndices);\n    \n    return steps;\n};\n\nconst getQuickSortSteps = (initialArray) => { \n    let array = [...initialArray];\n    const steps = [];\n\n    const recordStep = (action, highlight_indices = [], pivot_index = null, newArray = null, sorted_indices = []) => {\n        steps.push({\n            array: newArray ? [...newArray] : [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: pivot_index,\n            sorted_indices: [...sorted_indices]\n        });\n        if (newArray) array = newArray;\n    };\n\n    const sortedIndicesTracker = [];\n\n    const partition = (arr, low, high) => {\n        let tempArray = [...arr];\n        const pivot = tempArray[high]; \n        let i = low - 1; \n\n        recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, null, sortedIndicesTracker);\n\n        for (let j = low; j <= high - 1; j++) {\n            \n            recordStep(`Comparing ${tempArray[j]} at ${j} with pivot ${pivot}`, [j], high, null, sortedIndicesTracker);\n            \n            if (tempArray[j] < pivot) {\n                i++;\n                [tempArray[i], tempArray[j]] = [tempArray[j], tempArray[i]];\n                \n                recordStep(`Swapping ${tempArray[j]} and ${tempArray[i]} to move small element left`, [i, j], high, tempArray, sortedIndicesTracker);\n            }\n            \n            recordStep(`Resetting comparison highlights`, [], high, null, sortedIndicesTracker);\n        }\n\n        const pivotIndex = i + 1;\n        [tempArray[pivotIndex], tempArray[high]] = [tempArray[high], tempArray[pivotIndex]];\n        \n        recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, tempArray, [...sortedIndicesTracker, pivotIndex]);\n\n        return pivotIndex;\n    };\n\n    const quickSortHelper = (arr, low, high) => {\n        if (low < high) {\n            const pi = partition(arr, low, high);\n\n            if (!sortedIndicesTracker.includes(pi)) {\n                sortedIndicesTracker.push(pi);\n            }\n\n            quickSortHelper(arr, low, pi - 1);\n            quickSortHelper(arr, pi + 1, high);\n        } else if (low === high && low >= 0) {\n            if (!sortedIndicesTracker.includes(low)) {\n                sortedIndicesTracker.push(low);\n                recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, null, sortedIndicesTracker);\n            }\n        }\n    };\n\n    quickSortHelper(array, 0, array.length - 1);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        action: \"Finished Quick Sort\",\n        highlight_indices: [],\n        pivot_index: null,\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\nconst getShellSortSteps = (initialArray) => { \n    let array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let gap = Math.floor(n / 2);\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], current_gap = gap, newArray = null, sorted_indices = []) => {\n        steps.push({\n            array: newArray ? [...newArray] : [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            gap: current_gap,\n            sorted_indices: [...sorted_indices]\n        });\n        if (newArray) array = newArray;\n    };\n\n    while (gap > 0) {\n        recordStep(`Starting pass with Gap = ${gap}`, [], gap, null, sortedIndices);\n\n        for (let i = gap; i < n; i++) {\n            let tempArray = [...array];\n            const temp = tempArray[i];\n            let j = i;\n\n            recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, null, sortedIndices);\n\n            while (j >= gap && tempArray[j - gap] > temp) {\n                \n                recordStep(`Comparing ${tempArray[j - gap]} at ${j - gap} and selected element ${temp}. Gap = ${gap}`, [j, j - gap], gap, null, sortedIndices);\n                \n                tempArray[j] = tempArray[j - gap];\n                \n                recordStep(`Shifting ${tempArray[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, tempArray, sortedIndices);\n                \n                j -= gap;\n                \n                recordStep(`Resetting highlights. Gap = ${gap}`, [], gap, null, sortedIndices);\n            }\n            \n            tempArray[j] = temp;\n            \n            recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, tempArray, sortedIndices);\n        }\n\n        gap = Math.floor(gap / 2);\n    }\n    \n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Shell Sort\", [], 0, null, finalSortedIndices);\n\n    return steps;\n};\n\nconst getSelectionSortSteps = (initialArray) => { \n    let array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], min_index = null, newArray = null, sorted_indices = []) => {\n        steps.push({\n            array: newArray ? [...newArray] : [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: min_index, // Using pivot_index to track current minimum\n            sorted_indices: [...sorted_indices]\n        });\n        if (newArray) array = newArray;\n    };\n\n    for (let i = 0; i < n - 1; i++) {\n        let minIndex = i;\n        let tempArray = [...array];\n        \n        recordStep(`Starting pass ${i + 1}. Current index is ${i}.`, [i], minIndex, null, sortedIndices);\n\n        for (let j = i + 1; j < n; j++) {\n            \n            recordStep(`Comparing ${tempArray[j]} at ${j} with current minimum ${tempArray[minIndex]} at ${minIndex}.`, [j], minIndex, null, sortedIndices);\n\n            if (tempArray[j] < tempArray[minIndex]) {\n                minIndex = j;\n                recordStep(`New minimum found: ${tempArray[minIndex]} at index ${minIndex}.`, [j], minIndex, null, sortedIndices);\n            }\n            \n            recordStep(`Comparison done.`, [], minIndex, null, sortedIndices);\n        }\n\n        if (minIndex !== i) {\n            [tempArray[i], tempArray[minIndex]] = [tempArray[minIndex], tempArray[i]];\n            recordStep(`Swapping ${tempArray[minIndex]} (current position) with ${tempArray[i]} (new smallest) to place smallest element at ${i}.`, [i, minIndex], null, tempArray, sortedIndices);\n        } else {\n             recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [i], null, null, sortedIndices);\n        }\n        \n        sortedIndices.push(i);\n        recordStep(`Position ${i} is finalized (Sorted).`, [], null, null, sortedIndices);\n    }\n    \n    if (n > 0 && !sortedIndices.includes(n - 1)) {\n        sortedIndices.push(n - 1);\n        recordStep(`Final element at index ${n-1} is sorted.`, [], null, null, sortedIndices);\n    }\n\n    const finalSortedIndices = Array.from({ length: n }, (_, k) => k);\n    recordStep(\"Finished Selection Sort\", [], null, null, finalSortedIndices);\n\n    return steps;\n};\n\n\nconst getBinarySearchSteps = (arr, target) => { \n    const steps = [];\n    const array = [...arr];\n\n    steps.push({\n        array: [...array],\n        action: `Search started for target ${target}. Array must be sorted.`,\n        low: 0,\n        high: array.length - 1,\n        mid: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [], \n        isSearch: true,\n    });\n\n    let low = 0;\n    let high = array.length - 1;\n    let found = false;\n    let mid = -1;\n\n    while (low <= high) {\n        mid = Math.floor((low + high) / 2);\n\n        steps.push({\n            array: [...array],\n            action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: false,\n            search_target: target,\n            highlight_indices: [mid],\n            isSearch: true,\n        });\n\n        if (array[mid] === target) {\n            found = true;\n            break;\n        } else if (array[mid] < target) {\n            low = mid + 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n                isSearch: true,\n            });\n        } else {\n            high = mid - 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n                isSearch: true,\n            });\n        }\n    }\n\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: true,\n            search_target: target,\n            highlight_indices: [mid],\n            isSearch: true,\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n            low: low,\n            high: high,\n            mid: -1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n            isSearch: true,\n        });\n    }\n\n    return steps;\n};\n\nconst getLinearSearchSteps = (arr, target) => { \n    const steps = [];\n    const array = [...arr];\n    const n = array.length;\n    let found = false;\n    let foundIndex = -1;\n\n    steps.push({\n        array: [...array],\n        action: `Linear Search started for target ${target}.`,\n        current_index: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n        isLinearSearch: true,\n    });\n\n    for (let i = 0; i < n; i++) {\n        \n        steps.push({\n            array: [...array],\n            action: `Comparing element at index ${i}: Value is ${array[i]}`,\n            current_index: i,\n            found: false,\n            search_target: target,\n            highlight_indices: [i],\n            isLinearSearch: true,\n        });\n        \n        if (array[i] === target) {\n            found = true;\n            foundIndex = i;\n            break;\n        }\n\n        steps.push({\n            array: [...array],\n            action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n            current_index: i,\n            found: false,\n            search_target: target,\n            highlight_indices: [], \n            isLinearSearch: true,\n        });\n    }\n\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n            current_index: foundIndex,\n            found: true,\n            search_target: target,\n            highlight_indices: [foundIndex],\n            isLinearSearch: true,\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n            current_index: n - 1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n            isLinearSearch: true,\n        });\n    }\n\n    return steps;\n};\n\n\n// --- Main App Component ---\nexport default function App() {\n  const [currentView, setCurrentView] = useState('sort'); \n    \n  // Sorting/Searching Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"bubblesort\"); \n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  // MINIMUM speed changed to 50ms for better responsiveness at low end\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS); \n  \n  // State for Search Algorithms\n  const [searchTarget, setSearchTarget] = useState(50); \n  \n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray; \n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && steps.length > 0; \n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  \n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  \n  const barWidth = currentArray.length > 0 ? Math.max(10, (800 / currentArray.length) - 2) : 20; \n  const maxVal = Math.max(...inputArray, 100); \n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n      if (isAnimating) handleStartStopAnimation();\n      const newArray = generateRandomArray(size);\n      setInputArray(newArray);\n      setCustomInputData(\"\"); \n      setArraySize(size);\n      \n      if (isSearchAlgorithm && newArray.length > 0) {\n          setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]); \n      } else {\n          setSearchTarget(50); \n      }\n  };\n  \n  const handleLoadCustomArray = () => {\n      if (isAnimating) handleStartStopAnimation();\n      const newArray = parseCustomArray(customInputData);\n      if (newArray.length > 0 && newArray.length <= 50) {\n          setInputArray(newArray);\n          setArraySize(newArray.length); \n          setLoadingError(null);\n          if (isSearchAlgorithm && newArray.length > 0) {\n            setSearchTarget(newArray[Math.floor(Math.random() * newArray.length)]);\n          } else {\n            setSearchTarget(50);\n          }\n      } else if (newArray.length > 50) {\n           setLoadingError(\"Maximum array size for custom input is 50 elements.\");\n      } else {\n          setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n      }\n  };\n  \n  const handleSearchClick = () => {\n    const currentTarget = Number(searchTarget);\n    setSearchTarget(currentTarget);\n    if (isAnimating) handleStartStopAnimation();\n    setCurrentStepIndex(0);\n  };\n\n  \n  // --- Animation Control Logic (Refined to guarantee step visibility) ---\n  \n  const handleStartStopAnimation = useCallback(() => {\n    // Clear any pending timeout when toggling animation state\n    if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        animationRef.current = null;\n    }\n    \n    setIsAnimating(prev => {\n        const newState = !prev;\n        if (newState && isSortingComplete) {\n            setCurrentStepIndex(0); // Reset if starting again after completion\n        }\n        return newState;\n    });\n  }, [isSortingComplete]);\n\n\n  // Effect to handle the single, controlled step progression\n  useEffect(() => {\n    if (!isAnimating || !steps || steps.length === 0 || currentStepIndex >= steps.length - 1) {\n      if (isAnimating && steps && currentStepIndex >= steps.length - 1) {\n         // Stop animation if it reaches the end while running\n         setIsAnimating(false);\n      }\n      return; \n    }\n\n    // This runs ONE step after the delay, then triggers the state update,\n    // which in turn re-runs this effect for the next step.\n    animationRef.current = setTimeout(() => {\n        \n        setCurrentStepIndex(prevIndex => {\n            const nextIndex = prevIndex + 1;\n            \n            // Critical: If we hit the end, the animation should stop by itself \n            // because the dependency check at the top will fail on the next run.\n            return nextIndex; \n        });\n\n    }, speed);\n\n    // Cleanup function: ensures only one timeout is running at a time\n    return () => {\n      if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        animationRef.current = null;\n      }\n    };\n    \n    // Dependencies: isAnimating, steps (ensures if the array/algo changes, the timer resets), \n    // currentStepIndex (drives the loop), speed (allows dynamic speed changes)\n  }, [isAnimating, steps, currentStepIndex, speed]); \n\n  \n  // Effect to recalculate steps whenever the array, algorithm, or target changes\n  useEffect(() => {\n    if (isAnimating) {\n        handleStartStopAnimation(); \n    }\n    \n    setCurrentStepIndex(0);\n    setLoadingError(null);\n\n    if (!inputArray || inputArray.length === 0) {\n        setLoadingError(\"The array is empty. Please generate or enter an array.\");\n        setSteps(null);\n        return;\n    }\n    \n    let arrayForAlgo = [...inputArray];\n    if (selectedAlgorithm === 'binarysearch') {\n        const isAlreadySorted = arrayForAlgo.every((val, i, arr) => i === 0 || val >= arr[i - 1]);\n        \n        if (!isAlreadySorted) {\n             arrayForAlgo.sort((a, b) => a - b);\n             const arraysEqual = arrayForAlgo.length === inputArray.length && \n                                arrayForAlgo.every((val, i) => val === inputArray[i]);\n             if (!arraysEqual) {\n                 setInputArray(arrayForAlgo); \n             }\n             setLoadingError(\"Binary Search requires a sorted array. The array has been sorted automatically.\");\n        }\n    } else {\n        arrayForAlgo = [...inputArray];\n    }\n\n\n    try {\n        let newSteps = [];\n        switch (selectedAlgorithm) {\n            case 'bubblesort':\n                newSteps = getBubbleSortSteps(arrayForAlgo);\n                break;\n            case 'mergesort':\n                newSteps = getMergeSortSteps(arrayForAlgo);\n                break;\n            case 'quicksort':\n                newSteps = getQuickSortSteps(arrayForAlgo);\n                break;\n            case 'shellsort':\n                newSteps = getShellSortSteps(arrayForAlgo);\n                break;\n            case 'selectionsort':\n                newSteps = getSelectionSortSteps(arrayForAlgo);\n                break;\n            case 'binarysearch':\n                newSteps = getBinarySearchSteps(arrayForAlgo, searchTarget);\n                break;\n            case 'linearsearch':\n                newSteps = getLinearSearchSteps(arrayForAlgo, searchTarget);\n                break;\n            default:\n                setLoadingError(`Algorithm \"${selectedAlgorithm}\" is not supported.`);\n                setSteps(null);\n                return;\n        }\n        \n        if (newSteps && newSteps.length > 0) {\n            setSteps(newSteps);\n        } else {\n            setSteps(null);\n            setLoadingError(\"No steps generated for this algorithm.\");\n        }\n\n    } catch (e) {\n        console.error(\"Error generating steps:\", e);\n        setLoadingError(\"An error occurred while running the algorithm: \" + e.message);\n        setSteps(null);\n    }\n    \n  }, [selectedAlgorithm, inputArray, searchTarget]);\n  \n\n  const handleStepControl = (action) => {\n      if (isAnimating) handleStartStopAnimation();\n      \n      switch (action) {\n          case 'start':\n              setCurrentStepIndex(0);\n              break;\n          case 'back':\n              setCurrentStepIndex(prev => Math.max(0, prev - 1));\n              break;\n          case 'forward':\n              setCurrentStepIndex(prev => Math.min(steps.length - 1, prev + 1));\n              break;\n          case 'end':\n              if (steps) setCurrentStepIndex(steps.length - 1);\n              break;\n          default:\n              break;\n      }\n  };\n\n  // --- Render Helpers for Array Visualization ---\n    const isBinarySearchMode = selectedAlgorithm === 'binarysearch';\n    const isLinearSearchMode = selectedAlgorithm === 'linearsearch';\n    const maxBarHeight = 300; \n    \n    const lowIndex = currentStep && currentStep.isSearch ? currentStep.low : -1;\n    const highIndex = currentStep && currentStep.isSearch ? currentStep.high : -1;\n    const midIndex = currentStep && currentStep.isSearch ? currentStep.mid : -1;\n    const isFound = currentStep && currentStep.isSearch ? currentStep.found : false;\n    const linearCheckIndex = currentStep && currentStep.isLinearSearch ? currentStep.current_index : -1;\n\n    // Determine the state of each bar\n    const bars = currentArray.map((value, index) => {\n        let isSearchRange = false;\n        let isBinarySearchModeBar = false;\n\n        if (isBinarySearchMode) {\n            if (index >= lowIndex && index <= highIndex) {\n                isSearchRange = true;\n            } else {\n                isBinarySearchModeBar = true;\n            }\n        }\n        \n        return (\n            <ArrayBar\n                key={index}\n                value={value}\n                height={(value / maxVal) * maxBarHeight}\n                width={barWidth}\n                isHighlighted={highlightIndices.includes(index)}\n                isPivot={pivotIndex === index}\n                isSorted={sortedIndices.includes(index)}\n                isSearchMid={midIndex === index}\n                isSearchRange={isSearchRange}\n                isFound={isFound && (midIndex === index || linearCheckIndex === index)}\n                isLinearCheck={isLinearSearchMode && linearCheckIndex === index}\n                isBinarySearchMode={isBinarySearchModeBar}\n            />\n        );\n    });\n\n  \n  // --- Main Render ---\n  return (\n    <div className=\"min-h-screen bg-gray-50 p-6 sm:p-10 font-sans\">\n        <script src=\"https://cdn.tailwindcss.com\"></script>\n        <style dangerouslySetInnerHTML={{ __html: `\n            .code-line.active {\n                background-color: #fef3c7; /* Amber-100 */\n                border-left: 4px solid #f59e0b; /* Amber-500 */\n                font-weight: 600;\n            }\n            .code-line {\n                padding: 2px 8px;\n                transition: all 0.1s ease-in-out;\n                font-family: monospace;\n                white-space: pre;\n            }\n        `}} />\n        <div className=\"max-w-6xl mx-auto bg-white shadow-xl rounded-2xl p-6 sm:p-8\">\n            <h1 className=\"text-3xl font-extrabold text-indigo-700 mb-6 border-b pb-2\">\n                Algorithm Visualizer\n            </h1>\n\n            {/* Controls Panel */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6 mb-8\">\n                {/* Algorithm Selection */}\n                <div className=\"bg-gray-50 p-4 rounded-lg shadow-inner\">\n                    <label className=\"block text-sm font-medium text-gray-700 mb-2\">Select Algorithm</label>\n                    <select\n                        className=\"w-full p-2 border border-gray-300 rounded-lg focus:ring-indigo-500 focus:border-indigo-500 transition\"\n                        value={selectedAlgorithm}\n                        onChange={(e) => setSelectedAlgorithm(e.target.value)}\n                        disabled={isAnimating}\n                    >\n                        <optgroup label=\"Sorting\">\n                            <option value=\"bubblesort\">Bubble Sort</option>\n                            <option value=\"selectionsort\">Selection Sort</option>\n                            <option value=\"mergesort\">Merge Sort</option>\n                            <option value=\"quicksort\">Quick Sort</option>\n                            <option value=\"shellsort\">Shell Sort</option>\n                        </optgroup>\n                        <optgroup label=\"Searching\">\n                            <option value=\"binarysearch\">Binary Search</option>\n                            <option value=\"linearsearch\">Linear Search</option>\n                        </optgroup>\n                    </select>\n                </div>\n                \n                {/* Array Generation and Custom Input */}\n                <div className=\"bg-gray-50 p-4 rounded-lg shadow-inner space-y-3\">\n                    <div className=\"flex gap-2\">\n                        <button\n                            onClick={() => handleGenerateNewArray()}\n                            className=\"flex-1 px-4 py-2 bg-indigo-500 text-white font-semibold rounded-lg shadow hover:bg-indigo-600 transition disabled:opacity-50\"\n                            disabled={isAnimating}\n                        >\n                            Generate Random Array\n                        </button>\n                        <button\n                            onClick={() => handleGenerateNewArray(25)}\n                            className=\"px-4 py-2 bg-indigo-400 text-white font-semibold rounded-lg shadow hover:bg-indigo-500 transition disabled:opacity-50 text-sm\"\n                            disabled={isAnimating}\n                        >\n                            Size 25\n                        </button>\n                    </div>\n\n                    <div className=\"flex gap-2\">\n                        <input\n                            type=\"text\"\n                            placeholder=\"e.g., 10,25,3,40\"\n                            value={customInputData}\n                            onChange={(e) => setCustomInputData(e.target.value)}\n                            className=\"flex-1 p-2 border border-gray-300 rounded-lg\"\n                            disabled={isAnimating}\n                        />\n                        <button\n                            onClick={handleLoadCustomArray}\n                            className=\"px-4 py-2 bg-yellow-500 text-white font-semibold rounded-lg shadow hover:bg-yellow-600 transition disabled:opacity-50 text-sm\"\n                            disabled={isAnimating}\n                        >\n                            Load\n                        </button>\n                    </div>\n                </div>\n\n                {/* Animation and Search Control */}\n                <div className=\"bg-gray-50 p-4 rounded-lg shadow-inner space-y-3\">\n                    <label className=\"block text-sm font-medium text-gray-700\">Animation Speed (ms): {speed}</label>\n                    <input\n                        type=\"range\"\n                        // Changed min to 50ms (from 20ms) to ensure smooth transition visibility\n                        min=\"50\" \n                        max=\"500\"\n                        step=\"10\"\n                        value={speed}\n                        onChange={(e) => setSpeed(Number(e.target.value))}\n                        className=\"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer\"\n                        disabled={isAnimating}\n                    />\n                    \n                    {isSearchAlgorithm && (\n                        <div className=\"flex gap-2\">\n                            <input\n                                type=\"number\"\n                                placeholder=\"Target Value\"\n                                value={searchTarget}\n                                onChange={(e) => setSearchTarget(Number(e.target.value))}\n                                className=\"w-2/3 p-2 border border-gray-300 rounded-lg\"\n                                disabled={isAnimating}\n                            />\n                             <button\n                                onClick={handleSearchClick}\n                                className=\"w-1/3 py-2 bg-blue-500 text-white font-semibold rounded-lg shadow hover:bg-blue-600 transition disabled:opacity-50\"\n                                disabled={isAnimating || !steps}\n                            >\n                                Search\n                            </button>\n                        </div>\n                    )}\n                </div>\n            </div>\n\n            {/* Visualization Area */}\n            <div className=\"bg-white p-6 rounded-xl shadow-2xl border border-gray-100 mb-6\">\n                <div className=\"flex justify-between items-center mb-4\">\n                    <h2 className=\"text-xl font-semibold text-gray-700\">\n                        {selectedAlgorithm.split(/(?=[A-Z])/).map(s => s.charAt(0).toUpperCase() + s.slice(1)).join(' ')} Visualization\n                    </h2>\n                    <p className=\"text-sm font-medium text-gray-500\">\n                        Total Steps: {steps ? steps.length : 0} | Current Step: {currentStepIndex + 1}\n                    </p>\n                </div>\n                \n                {loadingError && (\n                    <div className=\"p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg mb-4\">\n                        {loadingError}\n                    </div>\n                )}\n\n                <div className=\"flex items-end justify-center w-full min-h-[350px] max-h-[400px] overflow-x-auto overflow-y-hidden border-b-2 border-gray-300 pb-2\">\n                    {bars}\n                </div>\n                \n                <p className=\"mt-4 text-center text-lg font-medium text-gray-800\">\n                    {currentStep ? currentStep.action : \"Press Play to Start Visualization\"}\n                </p>\n            </div>\n\n            {/* Playback Controls and Pseudocode */}\n            <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\n                {/* Playback Controls */}\n                <div className=\"lg:col-span-2 bg-white p-4 rounded-xl border shadow-md flex flex-col justify-between\">\n                    <h3 className=\"text-lg font-semibold text-gray-700 mb-3\">Playback Controls</h3>\n                    <div className=\"flex justify-center items-center space-x-2\">\n                        <button onClick={() => handleStepControl('start')} className=\"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\" disabled={isAnimating || currentStepIndex === 0}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M11 19l-7-7 7-7m4 14l-7-7 7-7\" /></svg>\n                        </button>\n                        <button onClick={() => handleStepControl('back')} className=\"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\" disabled={isAnimating || currentStepIndex === 0}>\n                             <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M15 19l-7-7 7-7\" /></svg>\n                        </button>\n\n                        <button\n                            onClick={handleStartStopAnimation}\n                            className={`p-4 rounded-full shadow-lg transform transition disabled:opacity-50 ${isAnimating ? 'bg-red-500 hover:bg-red-600 text-white' : 'bg-green-500 hover:bg-green-600 text-white'}`}\n                            disabled={!steps || steps.length === 0}\n                        >\n                            {isAnimating ? (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M10 9v6m4-6v6m7-3a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>\n                            ) : (\n                                <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z\" /><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M21 12a9 9 0 11-18 0 9 9 0 0118 0z\" /></svg>\n                            )}\n                        </button>\n\n                        <button onClick={() => handleStepControl('forward')} className=\"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\" disabled={isAnimating || (steps && currentStepIndex === steps.length - 1)}>\n                            <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M9 5l7 7-7 7\" /></svg>\n                        </button>\n                        <button onClick={() => handleStepControl('end')} className=\"p-3 text-gray-600 hover:text-indigo-600 rounded-full transition disabled:opacity-50\" disabled={isAnimating || (steps && currentStepIndex === steps.length - 1)}>\n                             <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-6 w-6\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\"><path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth=\"2\" d=\"M13 5l7 7-7 7M5 5l7 7-7 7\" /></svg>\n                        </button>\n                    </div>\n                </div>\n\n                {/* Pseudocode */}\n                <div className=\"lg:col-span-1 bg-gray-900 p-4 rounded-xl shadow-md overflow-x-auto\">\n                    <h3 className=\"text-lg font-semibold text-white mb-3\">Pseudocode</h3>\n                    <pre className=\"text-sm text-gray-200 bg-gray-800 p-2 rounded max-h-60 overflow-y-auto\">\n                        {currentPseudocode ? currentPseudocode.map((line, index) => (\n                            <div key={index} className={`code-line ${currentStep && currentStep.code_line === index ? 'active' : ''}`}>\n                                {line}\n                            </div>\n                        )) : 'Select an algorithm to view pseudocode.'}\n                    </pre>\n                </div>\n            </div>\n        </div>\n    </div>\n  );\n}"],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,EAAEC,WAAW,EAAEC,MAAM,QAAQ,OAAO;;AAEvE;;AAEA;AACA;AACA;AACA;AAHA,SAAAC,MAAA,IAAAC,OAAA;AAIA,MAAMC,QAAQ,gBAAGP,KAAK,CAACQ,IAAI,CAAAC,EAAA,GAACA,CAAC;EAAEC,KAAK;EAAEC,MAAM;EAAEC,KAAK;EAAEC,aAAa;EAAEC,OAAO;EAAEC,QAAQ;EAAEC,WAAW;EAAEC,aAAa;EAAEC,OAAO;EAAEC,aAAa;EAAEC;AAAmB,CAAC,KAAK;EAEhK;EACA,IAAIC,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC,IAAIC,OAAO,GAAG,CAAC;;EAEf;EACA,IAAIJ,OAAO,EAAE;IACT;IACAG,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC,CAAC,MAAM,IAAIF,aAAa,EAAE;IACtB;IACAE,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC,CAAC,MAAM,IAAIL,WAAW,EAAE;IACpB;IACAK,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC,CAAC,MAAM,IAAIJ,aAAa,EAAE;IACtB;IACAI,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC,CAAC,MAAM,IAAID,kBAAkB,EAAE;IAC3B;IACAE,OAAO,GAAG,GAAG;IACbD,eAAe,GAAG,SAAS,CAAC,CAAC;EACjC;;EAEA;EACA;EACA,IAAI,CAACD,kBAAkB,IAAI,CAACG,kBAAkB,EAAE;IAAE;IAC9C,IAAIR,QAAQ,EAAE;MACVM,eAAe,GAAG,SAAS,CAAC,CAAC;MAC7BC,OAAO,GAAG,CAAC;IACf,CAAC,MAAM,IAAIR,OAAO,EAAE;MAChBO,eAAe,GAAG,SAAS,CAAC,CAAC;IACjC,CAAC,MAAM,IAAIR,aAAa,EAAE;MACtBQ,eAAe,GAAG,SAAS,CAAC,CAAC;IACjC;EACJ;EAEA,MAAMG,UAAU,GAAGZ,KAAK,GAAG,CAAC,GAAG,GAAGA,KAAK,IAAI,GAAG,MAAM;EAEpD,oBACIN,OAAA;IACImB,KAAK,EAAE;MACHd,MAAM,EAAE,GAAGA,MAAM,IAAI;MACrBC,KAAK,EAAEY,UAAU;MACjBE,QAAQ,EAAEF,UAAU;MACpBG,SAAS,EAAE,MAAM;MACjBC,MAAM,EAAE,OAAO;MACfP,eAAe,EAAEA,eAAe;MAChCC,OAAO,EAAEA,OAAO;MAChBO,OAAO,EAAE,MAAM;MACfC,UAAU,EAAE,UAAU;MACtBC,cAAc,EAAE,QAAQ;MACxBC,KAAK,EAAE,OAAO;MACdC,UAAU,EAAE,MAAM;MAClBC,QAAQ,EAAEtB,KAAK,GAAG,EAAE,GAAG,MAAM,GAAG,KAAK;MACrCuB,YAAY,EAAE,aAAa;MAC3BC,SAAS,EAAE,2BAA2B;MACtCC,QAAQ,EAAE,UAAU;MACpBC,UAAU,EAAE,CAAC;MACb;MACAC,UAAU,EAAE;IAChB,CAAE;IACFC,KAAK,EAAE,UAAU9B,KAAK,EAAG;IAAA+B,QAAA,EAGxB7B,KAAK,GAAG,EAAE,IAAIF;EAAK;IAAAgC,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACnB,CAAC;AAEd,CAAC,CAAC;;AAEF;AAAAC,GAAA,GAvEMvC,QAAQ;AAwEd,MAAMwC,kBAAkB,GAAG,EAAE;AAC7B,MAAMC,eAAe,GAAG,GAAG;AAC3B,MAAMC,eAAe,GAAG,EAAE;AAC1B,MAAMC,kBAAkB,GAAG,GAAG;;AAE9B;AACA,MAAMC,UAAU,GAAG;EACfC,UAAU,EAAE,CACR,6BAA6B,EAC7B,oBAAoB,EACpB,0BAA0B,EAC1B,gCAAgC,EAChC,sDAAsD,EACtD,iCAAiC,EACjC,0BAA0B,EAC1B,oCAAoC,EACpC,gBAAgB,CACnB;EACDC,SAAS,EAAE,CACP,4BAA4B,EAC5B,sCAAsC,EACtC,iCAAiC,EACjC,oCAAoC,EACpC,qCAAqC,EACrC,6BAA6B,EAC7B,EAAE,EACF,8BAA8B,EAC9B,qEAAqE,EACrE,eAAe,EACf,qCAAqC,EACrC,6BAA6B,EAC7B,iCAAiC,EACjC,WAAW,EACX,kCAAkC,EAClC,gCAAgC,CACnC;EACDC,SAAS,EAAE,CACP,uCAAuC,EACvC,kBAAkB,EAClB,4BAA4B,EAC5B,sCAAsC,EACtC,mDAAmD,EACnD,mCAAmC,EACnC,oCAAoC,EACpC,EAAE,EACF,uCAAuC,EACvC,2DAA2D,EAC3D,eAAe,EACf,+BAA+B,EAC/B,0BAA0B,EAC1B,WAAW,EACX,gCAAgC,EAChC,iCAAiC,EACjC,gBAAgB,CACnB;EACDC,SAAS,EAAE,CACP,4BAA4B,EAC5B,oBAAoB,EACpB,sBAAsB,EACtB,kBAAkB,EAClB,sCAAsC,EACtC,8BAA8B,EAC9B,uBAAuB,EACvB,aAAa,EACb,iDAAiD,EACjD,4DAA4D,EAC5D,mCAAmC,EACnC,qBAAqB,EACrB,2CAA2C,EAC3C,uBAAuB,EACvB,4CAA4C,CAC/C;EACDC,aAAa,EAAE,CACX,gCAAgC,EAChC,oBAAoB,EACpB,0BAA0B,EAC1B,oDAAoD,EACpD,kBAAkB,EAClB,gCAAgC,EAChC,oEAAoE,EACpE,sCAAsC,EACtC,oDAAoD,EACpD,sBAAsB,EACtB,gEAAgE,EAChE,2BAA2B,EAC3B,uCAAuC,EACvC,gCAAgC,EAChC,gBAAgB,CACnB;EACDC,YAAY,EAAE,CACV,uCAAuC,EACvC,2BAA2B,EAC3B,WAAW,EACX,2BAA2B,EAC3B,sBAAsB,EACtB,mCAAmC,EACnC,2CAA2C,EAC3C,8BAA8B,EAC9B,kBAAkB,EAClB,kCAAkC,EAClC,2CAA2C,EAC3C,qBAAqB,EACrB,4BAA4B,EAC5B,WAAW,EACX,2CAA2C,EAC3C,sBAAsB,EACtB,6BAA6B,EAC7B,aAAa,CAChB;EACDC,YAAY,EAAE,CACV,uCAAuC,EACvC,oBAAoB,EACpB,0BAA0B,EAC1B,2BAA2B,EAC3B,4BAA4B,EAC5B,gBAAgB,EAChB,aAAa;AAErB,CAAC;;AAED;;AAEA,MAAMC,mBAAmB,GAAIC,IAAI,IAAK;EAClC,OAAOC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEH;EAAK,CAAC,EAAE,MAChCI,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,IAAIlB,eAAe,GAAGC,eAAe,GAAG,CAAC,CAAC,CAAC,GAAGA,eAC1E,CAAC;AACL,CAAC;AAED,MAAMkB,gBAAgB,GAAIC,WAAW,IAAK;EACtC,MAAMC,QAAQ,GAAGD,WAAW,CAACE,KAAK,CAAC,GAAG,CAAC,CAClCC,GAAG,CAACC,CAAC,IAAI;IACN,MAAMC,GAAG,GAAGC,QAAQ,CAACF,CAAC,CAACG,IAAI,CAAC,CAAC,CAAC;IAC9B,OAAOC,KAAK,CAACH,GAAG,CAAC,IAAIA,GAAG,IAAI,CAAC,GAAG,IAAI,GAAGT,IAAI,CAACa,GAAG,CAACJ,GAAG,EAAEzB,eAAe,CAAC;EACzE,CAAC,CAAC,CACD8B,MAAM,CAACC,CAAC,IAAIA,CAAC,KAAK,IAAI,CAAC;EAC5B,OAAOV,QAAQ;AACnB,CAAC;;AAED;;AAEA,MAAMW,kBAAkB,GAAIC,YAAY,IAAK;EACzC,IAAIC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC7B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAACnB,MAAM;EACtB,IAAIqB,aAAa,GAAG,EAAE;EAEtB,MAAMC,UAAU,GAAGA,CAACC,MAAM,EAAEC,iBAAiB,GAAG,EAAE,EAAEC,QAAQ,GAAG,IAAI,EAAEC,cAAc,GAAG,EAAE,KAAK;IACzFN,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAEM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,CAAC,GAAG,CAAC,GAAGN,KAAK,CAAC;MAC5CK,iBAAiB,EAAEA,iBAAiB;MACpCD,MAAM,EAAEA,MAAM;MACdG,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;IACF,IAAID,QAAQ,EAAEN,KAAK,GAAGM,QAAQ;EAClC,CAAC;EAED,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,CAAC,GAAG,CAAC,EAAEY,CAAC,EAAE,EAAE;IAC5B,IAAIC,OAAO,GAAG,KAAK;IACnB,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGd,CAAC,GAAG,CAAC,GAAGY,CAAC,EAAEE,CAAC,EAAE,EAAE;MAEhCR,UAAU,CAAC,mBAAmBQ,CAAC,eAAeA,CAAC,GAAG,CAAC,GAAG,EAAE,CAACA,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC,EAAE,IAAI,EAAET,aAAa,CAAC;MAExF,IAAIF,KAAK,CAACW,CAAC,CAAC,GAAGX,KAAK,CAACW,CAAC,GAAG,CAAC,CAAC,EAAE;QACzB,MAAMC,SAAS,GAAG,CAAC,GAAGZ,KAAK,CAAC;QAC5B,CAACY,SAAS,CAACD,CAAC,CAAC,EAAEC,SAAS,CAACD,CAAC,GAAG,CAAC,CAAC,CAAC,GAAG,CAACC,SAAS,CAACD,CAAC,GAAG,CAAC,CAAC,EAAEC,SAAS,CAACD,CAAC,CAAC,CAAC;QACnED,OAAO,GAAG,IAAI;QAEdP,UAAU,CAAC,YAAYH,KAAK,CAACW,CAAC,CAAC,QAAQX,KAAK,CAACW,CAAC,GAAC,CAAC,CAAC,EAAE,EAAE,CAACA,CAAC,EAAEA,CAAC,GAAG,CAAC,CAAC,EAAEC,SAAS,EAAEV,aAAa,CAAC;MAC9F;MAEAC,UAAU,CAAC,mDAAmD,EAAE,EAAE,EAAE,IAAI,EAAED,aAAa,CAAC;IAC5F;IAEA,MAAMW,WAAW,GAAGhB,CAAC,GAAG,CAAC,GAAGY,CAAC;IAC7BP,aAAa,CAACM,IAAI,CAACK,WAAW,CAAC;IAC/BV,UAAU,CAAC,YAAYU,WAAW,yBAAyB,EAAE,CAACA,WAAW,CAAC,EAAE,IAAI,EAAEX,aAAa,CAAC;IAGhG,IAAI,CAACQ,OAAO,EAAE;MACV,KAAK,IAAII,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGjB,CAAC,GAAG,CAAC,GAAGY,CAAC,EAAEK,CAAC,EAAE,EAAE;QAChC,IAAI,CAACZ,aAAa,CAACa,QAAQ,CAACD,CAAC,CAAC,EAAE;UAC3BZ,aAAa,CAACM,IAAI,CAACM,CAAC,CAAC;QAC1B;MACJ;MACA;IACJ;EACJ;EAEA,IAAIjB,CAAC,GAAG,CAAC,IAAI,CAACK,aAAa,CAACa,QAAQ,CAAC,CAAC,CAAC,EAAE;IACrCb,aAAa,CAACM,IAAI,CAAC,CAAC,CAAC;IACrBL,UAAU,CAAC,qCAAqC,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,EAAED,aAAa,CAAC;EAC/E;EAGA,MAAMc,kBAAkB,GAAGrC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEgB;EAAE,CAAC,EAAE,CAACoB,CAAC,EAAER,CAAC,KAAKA,CAAC,CAAC;EACjEN,UAAU,CAAC,sBAAsB,EAAE,EAAE,EAAE,IAAI,EAAEa,kBAAkB,CAAC;EAEhE,OAAOf,KAAK;AAChB,CAAC;AAGD,MAAMiB,iBAAiB,GAAInB,YAAY,IAAK;EACxC,IAAIC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC7B,MAAME,KAAK,GAAG,EAAE;EAEhB,MAAME,UAAU,GAAGA,CAACC,MAAM,EAAEC,iBAAiB,GAAG,EAAE,EAAEC,QAAQ,GAAG,IAAI,EAAEC,cAAc,GAAG,EAAE,KAAK;IACzFN,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAEM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,CAAC,GAAG,CAAC,GAAGN,KAAK,CAAC;MAC5CK,iBAAiB,EAAEA,iBAAiB;MACpCD,MAAM,EAAEA,MAAM;MACdG,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;IACF,IAAID,QAAQ,EAAEN,KAAK,GAAGM,QAAQ;EAClC,CAAC;EAED,MAAMa,KAAK,GAAGA,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,KAAK;IACpC,MAAMC,IAAI,GAAGJ,GAAG,CAACK,KAAK,CAACJ,KAAK,EAAEC,GAAG,CAAC;IAClC,MAAMI,KAAK,GAAGN,GAAG,CAACK,KAAK,CAACH,GAAG,EAAEC,GAAG,CAAC;IACjC,IAAId,CAAC,GAAG,CAAC;MAAEE,CAAC,GAAG,CAAC;MAAEG,CAAC,GAAGO,KAAK;IAE3BlB,UAAU,CAAC,0CAA0CkB,KAAK,OAAOE,GAAG,GAAG,CAAC,EAAE,EAAE5C,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE0C,GAAG,GAAGF;IAAM,CAAC,EAAE,CAACJ,CAAC,EAAEU,GAAG,KAAKN,KAAK,GAAGM,GAAG,CAAC,CAAC;IAEzI,IAAIC,mBAAmB,GAAG,CAAC,GAAG5B,KAAK,CAAC;IAEpC,OAAOS,CAAC,GAAGe,IAAI,CAAC3C,MAAM,IAAI8B,CAAC,GAAGe,KAAK,CAAC7C,MAAM,EAAE;MAExCsB,UAAU,CAAC,aAAaqB,IAAI,CAACf,CAAC,CAAC,QAAQiB,KAAK,CAACf,CAAC,CAAC,EAAE,EAAE,CAACU,KAAK,GAAGZ,CAAC,EAAEa,GAAG,GAAGX,CAAC,CAAC,CAAC;MAExE,IAAIa,IAAI,CAACf,CAAC,CAAC,IAAIiB,KAAK,CAACf,CAAC,CAAC,EAAE;QACrBiB,mBAAmB,CAACd,CAAC,CAAC,GAAGU,IAAI,CAACf,CAAC,CAAC;QAChCA,CAAC,EAAE;MACP,CAAC,MAAM;QACHmB,mBAAmB,CAACd,CAAC,CAAC,GAAGY,KAAK,CAACf,CAAC,CAAC;QACjCA,CAAC,EAAE;MACP;MAEAR,UAAU,CAAC,mBAAmByB,mBAAmB,CAACd,CAAC,CAAC,aAAaA,CAAC,EAAE,EAAE,CAACA,CAAC,CAAC,EAAEc,mBAAmB,CAAC;MAC/Fd,CAAC,EAAE;IACP;IAEA,OAAOL,CAAC,GAAGe,IAAI,CAAC3C,MAAM,EAAE;MACpB+C,mBAAmB,CAACd,CAAC,CAAC,GAAGU,IAAI,CAACf,CAAC,CAAC;MAChCN,UAAU,CAAC,6BAA6ByB,mBAAmB,CAACd,CAAC,CAAC,sBAAsBA,CAAC,EAAE,EAAE,CAACA,CAAC,CAAC,EAAEc,mBAAmB,CAAC;MAClHnB,CAAC,EAAE;MAAEK,CAAC,EAAE;IACZ;IACA,OAAOH,CAAC,GAAGe,KAAK,CAAC7C,MAAM,EAAE;MACrB+C,mBAAmB,CAACd,CAAC,CAAC,GAAGY,KAAK,CAACf,CAAC,CAAC;MACjCR,UAAU,CAAC,6BAA6ByB,mBAAmB,CAACd,CAAC,CAAC,uBAAuBA,CAAC,EAAE,EAAE,CAACA,CAAC,CAAC,EAAEc,mBAAmB,CAAC;MACnHjB,CAAC,EAAE;MAAEG,CAAC,EAAE;IACZ;IAEAX,UAAU,CAAC,sCAAsCkB,KAAK,OAAOE,GAAG,GAAG,CAAC,EAAE,EAAE5C,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE0C,GAAG,GAAGF;IAAM,CAAC,EAAE,CAACJ,CAAC,EAAEU,GAAG,KAAKN,KAAK,GAAGM,GAAG,CAAC,CAAC;EACzI,CAAC;EAED,MAAME,eAAe,GAAGA,CAACT,GAAG,EAAEC,KAAK,EAAEE,GAAG,KAAK;IACzC,IAAIA,GAAG,GAAGF,KAAK,IAAI,CAAC,EAAE;IAEtBlB,UAAU,CAAC,gCAAgCkB,KAAK,OAAOE,GAAG,GAAG,CAAC,EAAE,EAAE5C,KAAK,CAACC,IAAI,CAAC;MAAEC,MAAM,EAAE0C,GAAG,GAAGF;IAAM,CAAC,EAAE,CAACJ,CAAC,EAAEU,GAAG,KAAKN,KAAK,GAAGM,GAAG,CAAC,CAAC;IAE/H,MAAML,GAAG,GAAGxC,IAAI,CAACC,KAAK,CAAC,CAACsC,KAAK,GAAGE,GAAG,IAAI,CAAC,CAAC;IACzCM,eAAe,CAACT,GAAG,EAAEC,KAAK,EAAEC,GAAG,CAAC;IAChCO,eAAe,CAACT,GAAG,EAAEE,GAAG,EAAEC,GAAG,CAAC;IAC9BJ,KAAK,CAACC,GAAG,EAAEC,KAAK,EAAEC,GAAG,EAAEC,GAAG,CAAC;EAC/B,CAAC;EAEDM,eAAe,CAAC7B,KAAK,EAAE,CAAC,EAAEA,KAAK,CAACnB,MAAM,CAAC;EAEvC,MAAMmC,kBAAkB,GAAGrC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEmB,KAAK,CAACnB;EAAO,CAAC,EAAE,CAACoC,CAAC,EAAER,CAAC,KAAKA,CAAC,CAAC;EAC5EN,UAAU,CAAC,qBAAqB,EAAE,EAAE,EAAE,IAAI,EAAEa,kBAAkB,CAAC;EAE/D,OAAOf,KAAK;AAChB,CAAC;AAED,MAAM6B,iBAAiB,GAAI/B,YAAY,IAAK;EACxC,IAAIC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC7B,MAAME,KAAK,GAAG,EAAE;EAEhB,MAAME,UAAU,GAAGA,CAACC,MAAM,EAAEC,iBAAiB,GAAG,EAAE,EAAE0B,WAAW,GAAG,IAAI,EAAEzB,QAAQ,GAAG,IAAI,EAAEC,cAAc,GAAG,EAAE,KAAK;IAC7GN,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAEM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,CAAC,GAAG,CAAC,GAAGN,KAAK,CAAC;MAC5CI,MAAM,EAAEA,MAAM;MACdC,iBAAiB,EAAEA,iBAAiB;MACpC0B,WAAW,EAAEA,WAAW;MACxBxB,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;IACF,IAAID,QAAQ,EAAEN,KAAK,GAAGM,QAAQ;EAClC,CAAC;EAED,MAAM0B,oBAAoB,GAAG,EAAE;EAE/B,MAAMC,SAAS,GAAGA,CAACb,GAAG,EAAEc,GAAG,EAAEC,IAAI,KAAK;IAClC,IAAIvB,SAAS,GAAG,CAAC,GAAGQ,GAAG,CAAC;IACxB,MAAMgB,KAAK,GAAGxB,SAAS,CAACuB,IAAI,CAAC;IAC7B,IAAI1B,CAAC,GAAGyB,GAAG,GAAG,CAAC;IAEf/B,UAAU,CAAC,mBAAmBiC,KAAK,aAAaD,IAAI,EAAE,EAAE,EAAE,EAAEA,IAAI,EAAE,IAAI,EAAEH,oBAAoB,CAAC;IAE7F,KAAK,IAAIrB,CAAC,GAAGuB,GAAG,EAAEvB,CAAC,IAAIwB,IAAI,GAAG,CAAC,EAAExB,CAAC,EAAE,EAAE;MAElCR,UAAU,CAAC,aAAaS,SAAS,CAACD,CAAC,CAAC,OAAOA,CAAC,eAAeyB,KAAK,EAAE,EAAE,CAACzB,CAAC,CAAC,EAAEwB,IAAI,EAAE,IAAI,EAAEH,oBAAoB,CAAC;MAE1G,IAAIpB,SAAS,CAACD,CAAC,CAAC,GAAGyB,KAAK,EAAE;QACtB3B,CAAC,EAAE;QACH,CAACG,SAAS,CAACH,CAAC,CAAC,EAAEG,SAAS,CAACD,CAAC,CAAC,CAAC,GAAG,CAACC,SAAS,CAACD,CAAC,CAAC,EAAEC,SAAS,CAACH,CAAC,CAAC,CAAC;QAE3DN,UAAU,CAAC,YAAYS,SAAS,CAACD,CAAC,CAAC,QAAQC,SAAS,CAACH,CAAC,CAAC,6BAA6B,EAAE,CAACA,CAAC,EAAEE,CAAC,CAAC,EAAEwB,IAAI,EAAEvB,SAAS,EAAEoB,oBAAoB,CAAC;MACxI;MAEA7B,UAAU,CAAC,iCAAiC,EAAE,EAAE,EAAEgC,IAAI,EAAE,IAAI,EAAEH,oBAAoB,CAAC;IACvF;IAEA,MAAMK,UAAU,GAAG5B,CAAC,GAAG,CAAC;IACxB,CAACG,SAAS,CAACyB,UAAU,CAAC,EAAEzB,SAAS,CAACuB,IAAI,CAAC,CAAC,GAAG,CAACvB,SAAS,CAACuB,IAAI,CAAC,EAAEvB,SAAS,CAACyB,UAAU,CAAC,CAAC;IAEnFlC,UAAU,CAAC,SAASiC,KAAK,8BAA8BC,UAAU,EAAE,EAAE,CAACA,UAAU,CAAC,EAAE,IAAI,EAAEzB,SAAS,EAAE,CAAC,GAAGoB,oBAAoB,EAAEK,UAAU,CAAC,CAAC;IAE1I,OAAOA,UAAU;EACrB,CAAC;EAED,MAAMC,eAAe,GAAGA,CAAClB,GAAG,EAAEc,GAAG,EAAEC,IAAI,KAAK;IACxC,IAAID,GAAG,GAAGC,IAAI,EAAE;MACZ,MAAMI,EAAE,GAAGN,SAAS,CAACb,GAAG,EAAEc,GAAG,EAAEC,IAAI,CAAC;MAEpC,IAAI,CAACH,oBAAoB,CAACjB,QAAQ,CAACwB,EAAE,CAAC,EAAE;QACpCP,oBAAoB,CAACxB,IAAI,CAAC+B,EAAE,CAAC;MACjC;MAEAD,eAAe,CAAClB,GAAG,EAAEc,GAAG,EAAEK,EAAE,GAAG,CAAC,CAAC;MACjCD,eAAe,CAAClB,GAAG,EAAEmB,EAAE,GAAG,CAAC,EAAEJ,IAAI,CAAC;IACtC,CAAC,MAAM,IAAID,GAAG,KAAKC,IAAI,IAAID,GAAG,IAAI,CAAC,EAAE;MACjC,IAAI,CAACF,oBAAoB,CAACjB,QAAQ,CAACmB,GAAG,CAAC,EAAE;QACrCF,oBAAoB,CAACxB,IAAI,CAAC0B,GAAG,CAAC;QAC9B/B,UAAU,CAAC,gCAAgC+B,GAAG,aAAa,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAEF,oBAAoB,CAAC;MACtG;IACJ;EACJ,CAAC;EAEDM,eAAe,CAACtC,KAAK,EAAE,CAAC,EAAEA,KAAK,CAACnB,MAAM,GAAG,CAAC,CAAC;EAE3C,MAAMmC,kBAAkB,GAAGrC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEmB,KAAK,CAACnB;EAAO,CAAC,EAAE,CAACoC,CAAC,EAAER,CAAC,KAAKA,CAAC,CAAC;EAC5ER,KAAK,CAACO,IAAI,CAAC;IACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBI,MAAM,EAAE,qBAAqB;IAC7BC,iBAAiB,EAAE,EAAE;IACrB0B,WAAW,EAAE,IAAI;IACjBxB,cAAc,EAAES;EACpB,CAAC,CAAC;EAEF,OAAOf,KAAK;AAChB,CAAC;AAED,MAAMuC,iBAAiB,GAAIzC,YAAY,IAAK;EACxC,IAAIC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC7B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAACnB,MAAM;EACtB,IAAI4D,GAAG,GAAG3D,IAAI,CAACC,KAAK,CAACc,CAAC,GAAG,CAAC,CAAC;EAC3B,IAAIK,aAAa,GAAG,EAAE;EAEtB,MAAMC,UAAU,GAAGA,CAACC,MAAM,EAAEC,iBAAiB,GAAG,EAAE,EAAEqC,WAAW,GAAGD,GAAG,EAAEnC,QAAQ,GAAG,IAAI,EAAEC,cAAc,GAAG,EAAE,KAAK;IAC5GN,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAEM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,CAAC,GAAG,CAAC,GAAGN,KAAK,CAAC;MAC5CI,MAAM,EAAEA,MAAM;MACdC,iBAAiB,EAAEA,iBAAiB;MACpCoC,GAAG,EAAEC,WAAW;MAChBnC,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;IACF,IAAID,QAAQ,EAAEN,KAAK,GAAGM,QAAQ;EAClC,CAAC;EAED,OAAOmC,GAAG,GAAG,CAAC,EAAE;IACZtC,UAAU,CAAC,4BAA4BsC,GAAG,EAAE,EAAE,EAAE,EAAEA,GAAG,EAAE,IAAI,EAAEvC,aAAa,CAAC;IAE3E,KAAK,IAAIO,CAAC,GAAGgC,GAAG,EAAEhC,CAAC,GAAGZ,CAAC,EAAEY,CAAC,EAAE,EAAE;MAC1B,IAAIG,SAAS,GAAG,CAAC,GAAGZ,KAAK,CAAC;MAC1B,MAAM2C,IAAI,GAAG/B,SAAS,CAACH,CAAC,CAAC;MACzB,IAAIE,CAAC,GAAGF,CAAC;MAETN,UAAU,CAAC,qBAAqBwC,IAAI,aAAalC,CAAC,WAAWgC,GAAG,EAAE,EAAE,CAAChC,CAAC,CAAC,EAAEgC,GAAG,EAAE,IAAI,EAAEvC,aAAa,CAAC;MAElG,OAAOS,CAAC,IAAI8B,GAAG,IAAI7B,SAAS,CAACD,CAAC,GAAG8B,GAAG,CAAC,GAAGE,IAAI,EAAE;QAE1CxC,UAAU,CAAC,aAAaS,SAAS,CAACD,CAAC,GAAG8B,GAAG,CAAC,OAAO9B,CAAC,GAAG8B,GAAG,yBAAyBE,IAAI,WAAWF,GAAG,EAAE,EAAE,CAAC9B,CAAC,EAAEA,CAAC,GAAG8B,GAAG,CAAC,EAAEA,GAAG,EAAE,IAAI,EAAEvC,aAAa,CAAC;QAE9IU,SAAS,CAACD,CAAC,CAAC,GAAGC,SAAS,CAACD,CAAC,GAAG8B,GAAG,CAAC;QAEjCtC,UAAU,CAAC,YAAYS,SAAS,CAACD,CAAC,GAAG8B,GAAG,CAAC,OAAO9B,CAAC,WAAW8B,GAAG,EAAE,EAAE,CAAC9B,CAAC,CAAC,EAAE8B,GAAG,EAAE7B,SAAS,EAAEV,aAAa,CAAC;QAEtGS,CAAC,IAAI8B,GAAG;QAERtC,UAAU,CAAC,+BAA+BsC,GAAG,EAAE,EAAE,EAAE,EAAEA,GAAG,EAAE,IAAI,EAAEvC,aAAa,CAAC;MAClF;MAEAU,SAAS,CAACD,CAAC,CAAC,GAAGgC,IAAI;MAEnBxC,UAAU,CAAC,WAAWwC,IAAI,aAAahC,CAAC,WAAW8B,GAAG,EAAE,EAAE,CAAC9B,CAAC,CAAC,EAAE8B,GAAG,EAAE7B,SAAS,EAAEV,aAAa,CAAC;IACjG;IAEAuC,GAAG,GAAG3D,IAAI,CAACC,KAAK,CAAC0D,GAAG,GAAG,CAAC,CAAC;EAC7B;EAEA,MAAMzB,kBAAkB,GAAGrC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEgB;EAAE,CAAC,EAAE,CAACoB,CAAC,EAAER,CAAC,KAAKA,CAAC,CAAC;EACjEN,UAAU,CAAC,qBAAqB,EAAE,EAAE,EAAE,CAAC,EAAE,IAAI,EAAEa,kBAAkB,CAAC;EAElE,OAAOf,KAAK;AAChB,CAAC;AAED,MAAM2C,qBAAqB,GAAI7C,YAAY,IAAK;EAC5C,IAAIC,KAAK,GAAG,CAAC,GAAGD,YAAY,CAAC;EAC7B,MAAME,KAAK,GAAG,EAAE;EAChB,MAAMJ,CAAC,GAAGG,KAAK,CAACnB,MAAM;EACtB,IAAIqB,aAAa,GAAG,EAAE;EAEtB,MAAMC,UAAU,GAAGA,CAACC,MAAM,EAAEC,iBAAiB,GAAG,EAAE,EAAEwC,SAAS,GAAG,IAAI,EAAEvC,QAAQ,GAAG,IAAI,EAAEC,cAAc,GAAG,EAAE,KAAK;IAC3GN,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAEM,QAAQ,GAAG,CAAC,GAAGA,QAAQ,CAAC,GAAG,CAAC,GAAGN,KAAK,CAAC;MAC5CI,MAAM,EAAEA,MAAM;MACdC,iBAAiB,EAAEA,iBAAiB;MACpC0B,WAAW,EAAEc,SAAS;MAAE;MACxBtC,cAAc,EAAE,CAAC,GAAGA,cAAc;IACtC,CAAC,CAAC;IACF,IAAID,QAAQ,EAAEN,KAAK,GAAGM,QAAQ;EAClC,CAAC;EAED,KAAK,IAAIG,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,CAAC,GAAG,CAAC,EAAEY,CAAC,EAAE,EAAE;IAC5B,IAAIqC,QAAQ,GAAGrC,CAAC;IAChB,IAAIG,SAAS,GAAG,CAAC,GAAGZ,KAAK,CAAC;IAE1BG,UAAU,CAAC,iBAAiBM,CAAC,GAAG,CAAC,sBAAsBA,CAAC,GAAG,EAAE,CAACA,CAAC,CAAC,EAAEqC,QAAQ,EAAE,IAAI,EAAE5C,aAAa,CAAC;IAEhG,KAAK,IAAIS,CAAC,GAAGF,CAAC,GAAG,CAAC,EAAEE,CAAC,GAAGd,CAAC,EAAEc,CAAC,EAAE,EAAE;MAE5BR,UAAU,CAAC,aAAaS,SAAS,CAACD,CAAC,CAAC,OAAOA,CAAC,yBAAyBC,SAAS,CAACkC,QAAQ,CAAC,OAAOA,QAAQ,GAAG,EAAE,CAACnC,CAAC,CAAC,EAAEmC,QAAQ,EAAE,IAAI,EAAE5C,aAAa,CAAC;MAE/I,IAAIU,SAAS,CAACD,CAAC,CAAC,GAAGC,SAAS,CAACkC,QAAQ,CAAC,EAAE;QACpCA,QAAQ,GAAGnC,CAAC;QACZR,UAAU,CAAC,sBAAsBS,SAAS,CAACkC,QAAQ,CAAC,aAAaA,QAAQ,GAAG,EAAE,CAACnC,CAAC,CAAC,EAAEmC,QAAQ,EAAE,IAAI,EAAE5C,aAAa,CAAC;MACrH;MAEAC,UAAU,CAAC,kBAAkB,EAAE,EAAE,EAAE2C,QAAQ,EAAE,IAAI,EAAE5C,aAAa,CAAC;IACrE;IAEA,IAAI4C,QAAQ,KAAKrC,CAAC,EAAE;MAChB,CAACG,SAAS,CAACH,CAAC,CAAC,EAAEG,SAAS,CAACkC,QAAQ,CAAC,CAAC,GAAG,CAAClC,SAAS,CAACkC,QAAQ,CAAC,EAAElC,SAAS,CAACH,CAAC,CAAC,CAAC;MACzEN,UAAU,CAAC,YAAYS,SAAS,CAACkC,QAAQ,CAAC,4BAA4BlC,SAAS,CAACH,CAAC,CAAC,gDAAgDA,CAAC,GAAG,EAAE,CAACA,CAAC,EAAEqC,QAAQ,CAAC,EAAE,IAAI,EAAElC,SAAS,EAAEV,aAAa,CAAC;IAC1L,CAAC,MAAM;MACFC,UAAU,CAAC,cAAcM,CAAC,mDAAmD,EAAE,CAACA,CAAC,CAAC,EAAE,IAAI,EAAE,IAAI,EAAEP,aAAa,CAAC;IACnH;IAEAA,aAAa,CAACM,IAAI,CAACC,CAAC,CAAC;IACrBN,UAAU,CAAC,YAAYM,CAAC,yBAAyB,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAEP,aAAa,CAAC;EACrF;EAEA,IAAIL,CAAC,GAAG,CAAC,IAAI,CAACK,aAAa,CAACa,QAAQ,CAAClB,CAAC,GAAG,CAAC,CAAC,EAAE;IACzCK,aAAa,CAACM,IAAI,CAACX,CAAC,GAAG,CAAC,CAAC;IACzBM,UAAU,CAAC,0BAA0BN,CAAC,GAAC,CAAC,aAAa,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAEK,aAAa,CAAC;EACzF;EAEA,MAAMc,kBAAkB,GAAGrC,KAAK,CAACC,IAAI,CAAC;IAAEC,MAAM,EAAEgB;EAAE,CAAC,EAAE,CAACoB,CAAC,EAAEH,CAAC,KAAKA,CAAC,CAAC;EACjEX,UAAU,CAAC,yBAAyB,EAAE,EAAE,EAAE,IAAI,EAAE,IAAI,EAAEa,kBAAkB,CAAC;EAEzE,OAAOf,KAAK;AAChB,CAAC;AAGD,MAAM8C,oBAAoB,GAAGA,CAAC3B,GAAG,EAAE4B,MAAM,KAAK;EAC1C,MAAM/C,KAAK,GAAG,EAAE;EAChB,MAAMD,KAAK,GAAG,CAAC,GAAGoB,GAAG,CAAC;EAEtBnB,KAAK,CAACO,IAAI,CAAC;IACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBI,MAAM,EAAE,6BAA6B4C,MAAM,yBAAyB;IACpEd,GAAG,EAAE,CAAC;IACNC,IAAI,EAAEnC,KAAK,CAACnB,MAAM,GAAG,CAAC;IACtByC,GAAG,EAAE,CAAC,CAAC;IACP2B,KAAK,EAAE,KAAK;IACZC,aAAa,EAAEF,MAAM;IACrB3C,iBAAiB,EAAE,EAAE;IACrB8C,QAAQ,EAAE;EACd,CAAC,CAAC;EAEF,IAAIjB,GAAG,GAAG,CAAC;EACX,IAAIC,IAAI,GAAGnC,KAAK,CAACnB,MAAM,GAAG,CAAC;EAC3B,IAAIoE,KAAK,GAAG,KAAK;EACjB,IAAI3B,GAAG,GAAG,CAAC,CAAC;EAEZ,OAAOY,GAAG,IAAIC,IAAI,EAAE;IAChBb,GAAG,GAAGxC,IAAI,CAACC,KAAK,CAAC,CAACmD,GAAG,GAAGC,IAAI,IAAI,CAAC,CAAC;IAElClC,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,iCAAiCkB,GAAG,cAActB,KAAK,CAACsB,GAAG,CAAC,EAAE;MACtEY,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVb,GAAG,EAAEA,GAAG;MACR2B,KAAK,EAAE,KAAK;MACZC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,CAACiB,GAAG,CAAC;MACxB6B,QAAQ,EAAE;IACd,CAAC,CAAC;IAEF,IAAInD,KAAK,CAACsB,GAAG,CAAC,KAAK0B,MAAM,EAAE;MACvBC,KAAK,GAAG,IAAI;MACZ;IACJ,CAAC,MAAM,IAAIjD,KAAK,CAACsB,GAAG,CAAC,GAAG0B,MAAM,EAAE;MAC5Bd,GAAG,GAAGZ,GAAG,GAAG,CAAC;MACbrB,KAAK,CAACO,IAAI,CAAC;QACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBI,MAAM,EAAE,WAAW4C,MAAM,qBAAqBhD,KAAK,CAACsB,GAAG,CAAC,oCAAoCY,GAAG,IAAI;QACnGA,GAAG,EAAEA,GAAG;QACRC,IAAI,EAAEA,IAAI;QACVb,GAAG,EAAEA,GAAG;QACR2B,KAAK,EAAE,KAAK;QACZC,aAAa,EAAEF,MAAM;QACrB3C,iBAAiB,EAAE,EAAE;QACrB8C,QAAQ,EAAE;MACd,CAAC,CAAC;IACN,CAAC,MAAM;MACHhB,IAAI,GAAGb,GAAG,GAAG,CAAC;MACdrB,KAAK,CAACO,IAAI,CAAC;QACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;QACjBI,MAAM,EAAE,WAAW4C,MAAM,kBAAkBhD,KAAK,CAACsB,GAAG,CAAC,oCAAoCa,IAAI,IAAI;QACjGD,GAAG,EAAEA,GAAG;QACRC,IAAI,EAAEA,IAAI;QACVb,GAAG,EAAEA,GAAG;QACR2B,KAAK,EAAE,KAAK;QACZC,aAAa,EAAEF,MAAM;QACrB3C,iBAAiB,EAAE,EAAE;QACrB8C,QAAQ,EAAE;MACd,CAAC,CAAC;IACN;EACJ;EAEA,IAAIF,KAAK,EAAE;IACPhD,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,mBAAmB4C,MAAM,mBAAmB1B,GAAG,oBAAoB;MAC3EY,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVb,GAAG,EAAEA,GAAG;MACR2B,KAAK,EAAE,IAAI;MACXC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,CAACiB,GAAG,CAAC;MACxB6B,QAAQ,EAAE;IACd,CAAC,CAAC;EACN,CAAC,MAAM;IACHlD,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,mBAAmB4C,MAAM,oBAAoBd,GAAG,aAAaC,IAAI,IAAI;MAC7ED,GAAG,EAAEA,GAAG;MACRC,IAAI,EAAEA,IAAI;MACVb,GAAG,EAAE,CAAC,CAAC;MACP2B,KAAK,EAAE,KAAK;MACZC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,EAAE;MACrB8C,QAAQ,EAAE;IACd,CAAC,CAAC;EACN;EAEA,OAAOlD,KAAK;AAChB,CAAC;AAED,MAAMmD,oBAAoB,GAAGA,CAAChC,GAAG,EAAE4B,MAAM,KAAK;EAC1C,MAAM/C,KAAK,GAAG,EAAE;EAChB,MAAMD,KAAK,GAAG,CAAC,GAAGoB,GAAG,CAAC;EACtB,MAAMvB,CAAC,GAAGG,KAAK,CAACnB,MAAM;EACtB,IAAIoE,KAAK,GAAG,KAAK;EACjB,IAAII,UAAU,GAAG,CAAC,CAAC;EAEnBpD,KAAK,CAACO,IAAI,CAAC;IACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;IACjBI,MAAM,EAAE,oCAAoC4C,MAAM,GAAG;IACrDM,aAAa,EAAE,CAAC,CAAC;IACjBL,KAAK,EAAE,KAAK;IACZC,aAAa,EAAEF,MAAM;IACrB3C,iBAAiB,EAAE,EAAE;IACrBkD,cAAc,EAAE;EACpB,CAAC,CAAC;EAEF,KAAK,IAAI9C,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGZ,CAAC,EAAEY,CAAC,EAAE,EAAE;IAExBR,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,8BAA8BK,CAAC,cAAcT,KAAK,CAACS,CAAC,CAAC,EAAE;MAC/D6C,aAAa,EAAE7C,CAAC;MAChBwC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,CAACI,CAAC,CAAC;MACtB8C,cAAc,EAAE;IACpB,CAAC,CAAC;IAEF,IAAIvD,KAAK,CAACS,CAAC,CAAC,KAAKuC,MAAM,EAAE;MACrBC,KAAK,GAAG,IAAI;MACZI,UAAU,GAAG5C,CAAC;MACd;IACJ;IAEAR,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,SAASJ,KAAK,CAACS,CAAC,CAAC,mBAAmBuC,MAAM,yBAAyB;MAC3EM,aAAa,EAAE7C,CAAC;MAChBwC,KAAK,EAAE,KAAK;MACZC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,EAAE;MACrBkD,cAAc,EAAE;IACpB,CAAC,CAAC;EACN;EAEA,IAAIN,KAAK,EAAE;IACPhD,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,mBAAmB4C,MAAM,mBAAmBK,UAAU,oBAAoB;MAClFC,aAAa,EAAED,UAAU;MACzBJ,KAAK,EAAE,IAAI;MACXC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,CAACgD,UAAU,CAAC;MAC/BE,cAAc,EAAE;IACpB,CAAC,CAAC;EACN,CAAC,MAAM;IACHtD,KAAK,CAACO,IAAI,CAAC;MACPR,KAAK,EAAE,CAAC,GAAGA,KAAK,CAAC;MACjBI,MAAM,EAAE,mBAAmB4C,MAAM,0DAA0D;MAC3FM,aAAa,EAAEzD,CAAC,GAAG,CAAC;MACpBoD,KAAK,EAAE,KAAK;MACZC,aAAa,EAAEF,MAAM;MACrB3C,iBAAiB,EAAE,EAAE;MACrBkD,cAAc,EAAE;IACpB,CAAC,CAAC;EACN;EAEA,OAAOtD,KAAK;AAChB,CAAC;;AAGD;AACA,eAAe,SAASuD,GAAGA,CAAA,EAAG;EAAAC,EAAA;EAC5B,MAAM,CAACC,WAAW,EAAEC,cAAc,CAAC,GAAG5I,QAAQ,CAAC,MAAM,CAAC;;EAEtD;EACA,MAAM,CAACkF,KAAK,EAAE2D,QAAQ,CAAC,GAAG7I,QAAQ,CAAC,IAAI,CAAC;EACxC,MAAM,CAAC8I,gBAAgB,EAAEC,mBAAmB,CAAC,GAAG/I,QAAQ,CAAC,CAAC,CAAC;EAC3D,MAAM,CAACgJ,iBAAiB,EAAEC,oBAAoB,CAAC,GAAGjJ,QAAQ,CAAC,YAAY,CAAC;EACxE,MAAM,CAACkJ,YAAY,EAAEC,eAAe,CAAC,GAAGnJ,QAAQ,CAAC,IAAI,CAAC;EACtD,MAAM,CAACoJ,UAAU,EAAEC,aAAa,CAAC,GAAGrJ,QAAQ,CAAC,MAAM0D,mBAAmB,CAACZ,kBAAkB,CAAC,CAAC;EAC3F,MAAM,CAACwG,SAAS,EAAEC,YAAY,CAAC,GAAGvJ,QAAQ,CAAC8C,kBAAkB,CAAC;EAC9D,MAAM,CAAC0G,eAAe,EAAEC,kBAAkB,CAAC,GAAGzJ,QAAQ,CAAC,EAAE,CAAC;EAC1D;EACA,MAAM,CAAC0J,KAAK,EAAEC,QAAQ,CAAC,GAAG3J,QAAQ,CAACiD,kBAAkB,CAAC;;EAEtD;EACA,MAAM,CAAC2G,YAAY,EAAEC,eAAe,CAAC,GAAG7J,QAAQ,CAAC,EAAE,CAAC;;EAEpD;EACA,MAAM,CAAC8J,WAAW,EAAEC,cAAc,CAAC,GAAG/J,QAAQ,CAAC,KAAK,CAAC;EACrD,MAAMgK,YAAY,GAAG7J,MAAM,CAAC,IAAI,CAAC;;EAEjC;EACA,MAAM8J,WAAW,GAAG/E,KAAK,GAAGA,KAAK,CAAC4D,gBAAgB,CAAC,GAAG,IAAI;EAC1D,MAAMoB,YAAY,GAAGD,WAAW,GAAGA,WAAW,CAAChF,KAAK,GAAGmE,UAAU;EACjE,MAAMe,gBAAgB,GAAGF,WAAW,GAAGA,WAAW,CAAC3E,iBAAiB,GAAG,EAAE;EACzE,MAAMgC,UAAU,GAAG2C,WAAW,GAAGA,WAAW,CAACjD,WAAW,GAAG,IAAI;EAC/D,MAAM7B,aAAa,GAAG8E,WAAW,GAAGA,WAAW,CAACzE,cAAc,IAAI,EAAE,GAAG,EAAE;EACzE,MAAM4E,iBAAiB,GAAGlF,KAAK,IAAI4D,gBAAgB,IAAI5D,KAAK,CAACpB,MAAM,GAAG,CAAC,IAAIoB,KAAK,CAACpB,MAAM,GAAG,CAAC;EAC3F,MAAMuG,iBAAiB,GAAGnH,UAAU,CAAC8F,iBAAiB,CAAC;EAEvD,MAAMsB,iBAAiB,GAAGtB,iBAAiB,KAAK,cAAc,IAAIA,iBAAiB,KAAK,cAAc;EAEtG,MAAMuB,QAAQ,GAAGL,YAAY,CAACpG,MAAM,GAAG,CAAC,GAAGC,IAAI,CAACyG,GAAG,CAAC,EAAE,EAAG,GAAG,GAAGN,YAAY,CAACpG,MAAM,GAAI,CAAC,CAAC,GAAG,EAAE;EAC7F,MAAM2G,MAAM,GAAG1G,IAAI,CAACyG,GAAG,CAAC,GAAGpB,UAAU,EAAE,GAAG,CAAC;;EAE3C;EACA,MAAMsB,sBAAsB,GAAGA,CAAC/G,IAAI,GAAG2F,SAAS,KAAK;IACjD,IAAIQ,WAAW,EAAEa,wBAAwB,CAAC,CAAC;IAC3C,MAAMpF,QAAQ,GAAG7B,mBAAmB,CAACC,IAAI,CAAC;IAC1C0F,aAAa,CAAC9D,QAAQ,CAAC;IACvBkE,kBAAkB,CAAC,EAAE,CAAC;IACtBF,YAAY,CAAC5F,IAAI,CAAC;IAElB,IAAI2G,iBAAiB,IAAI/E,QAAQ,CAACzB,MAAM,GAAG,CAAC,EAAE;MAC1C+F,eAAe,CAACtE,QAAQ,CAACxB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGsB,QAAQ,CAACzB,MAAM,CAAC,CAAC,CAAC;IAC1E,CAAC,MAAM;MACH+F,eAAe,CAAC,EAAE,CAAC;IACvB;EACJ,CAAC;EAED,MAAMe,qBAAqB,GAAGA,CAAA,KAAM;IAChC,IAAId,WAAW,EAAEa,wBAAwB,CAAC,CAAC;IAC3C,MAAMpF,QAAQ,GAAGrB,gBAAgB,CAACsF,eAAe,CAAC;IAClD,IAAIjE,QAAQ,CAACzB,MAAM,GAAG,CAAC,IAAIyB,QAAQ,CAACzB,MAAM,IAAI,EAAE,EAAE;MAC9CuF,aAAa,CAAC9D,QAAQ,CAAC;MACvBgE,YAAY,CAAChE,QAAQ,CAACzB,MAAM,CAAC;MAC7BqF,eAAe,CAAC,IAAI,CAAC;MACrB,IAAImB,iBAAiB,IAAI/E,QAAQ,CAACzB,MAAM,GAAG,CAAC,EAAE;QAC5C+F,eAAe,CAACtE,QAAQ,CAACxB,IAAI,CAACC,KAAK,CAACD,IAAI,CAACE,MAAM,CAAC,CAAC,GAAGsB,QAAQ,CAACzB,MAAM,CAAC,CAAC,CAAC;MACxE,CAAC,MAAM;QACL+F,eAAe,CAAC,EAAE,CAAC;MACrB;IACJ,CAAC,MAAM,IAAItE,QAAQ,CAACzB,MAAM,GAAG,EAAE,EAAE;MAC5BqF,eAAe,CAAC,qDAAqD,CAAC;IAC3E,CAAC,MAAM;MACHA,eAAe,CAAC,6FAA6F,CAAC;IAClH;EACJ,CAAC;EAED,MAAM0B,iBAAiB,GAAGA,CAAA,KAAM;IAC9B,MAAMC,aAAa,GAAGC,MAAM,CAACnB,YAAY,CAAC;IAC1CC,eAAe,CAACiB,aAAa,CAAC;IAC9B,IAAIhB,WAAW,EAAEa,wBAAwB,CAAC,CAAC;IAC3C5B,mBAAmB,CAAC,CAAC,CAAC;EACxB,CAAC;;EAGD;;EAEA,MAAM4B,wBAAwB,GAAGzK,WAAW,CAAC,MAAM;IACjD;IACA,IAAI8J,YAAY,CAACgB,OAAO,EAAE;MACtBC,YAAY,CAACjB,YAAY,CAACgB,OAAO,CAAC;MAClChB,YAAY,CAACgB,OAAO,GAAG,IAAI;IAC/B;IAEAjB,cAAc,CAACmB,IAAI,IAAI;MACnB,MAAMC,QAAQ,GAAG,CAACD,IAAI;MACtB,IAAIC,QAAQ,IAAIf,iBAAiB,EAAE;QAC/BrB,mBAAmB,CAAC,CAAC,CAAC,CAAC,CAAC;MAC5B;MACA,OAAOoC,QAAQ;IACnB,CAAC,CAAC;EACJ,CAAC,EAAE,CAACf,iBAAiB,CAAC,CAAC;;EAGvB;EACAnK,SAAS,CAAC,MAAM;IACd,IAAI,CAAC6J,WAAW,IAAI,CAAC5E,KAAK,IAAIA,KAAK,CAACpB,MAAM,KAAK,CAAC,IAAIgF,gBAAgB,IAAI5D,KAAK,CAACpB,MAAM,GAAG,CAAC,EAAE;MACxF,IAAIgG,WAAW,IAAI5E,KAAK,IAAI4D,gBAAgB,IAAI5D,KAAK,CAACpB,MAAM,GAAG,CAAC,EAAE;QAC/D;QACAiG,cAAc,CAAC,KAAK,CAAC;MACxB;MACA;IACF;;IAEA;IACA;IACAC,YAAY,CAACgB,OAAO,GAAGI,UAAU,CAAC,MAAM;MAEpCrC,mBAAmB,CAACsC,SAAS,IAAI;QAC7B,MAAMC,SAAS,GAAGD,SAAS,GAAG,CAAC;;QAE/B;QACA;QACA,OAAOC,SAAS;MACpB,CAAC,CAAC;IAEN,CAAC,EAAE5B,KAAK,CAAC;;IAET;IACA,OAAO,MAAM;MACX,IAAIM,YAAY,CAACgB,OAAO,EAAE;QACxBC,YAAY,CAACjB,YAAY,CAACgB,OAAO,CAAC;QAClChB,YAAY,CAACgB,OAAO,GAAG,IAAI;MAC7B;IACF,CAAC;;IAED;IACA;EACF,CAAC,EAAE,CAAClB,WAAW,EAAE5E,KAAK,EAAE4D,gBAAgB,EAAEY,KAAK,CAAC,CAAC;;EAGjD;EACAzJ,SAAS,CAAC,MAAM;IACd,IAAI6J,WAAW,EAAE;MACba,wBAAwB,CAAC,CAAC;IAC9B;IAEA5B,mBAAmB,CAAC,CAAC,CAAC;IACtBI,eAAe,CAAC,IAAI,CAAC;IAErB,IAAI,CAACC,UAAU,IAAIA,UAAU,CAACtF,MAAM,KAAK,CAAC,EAAE;MACxCqF,eAAe,CAAC,wDAAwD,CAAC;MACzEN,QAAQ,CAAC,IAAI,CAAC;MACd;IACJ;IAEA,IAAI0C,YAAY,GAAG,CAAC,GAAGnC,UAAU,CAAC;IAClC,IAAIJ,iBAAiB,KAAK,cAAc,EAAE;MACtC,MAAMwC,eAAe,GAAGD,YAAY,CAACE,KAAK,CAAC,CAACC,GAAG,EAAEhG,CAAC,EAAEW,GAAG,KAAKX,CAAC,KAAK,CAAC,IAAIgG,GAAG,IAAIrF,GAAG,CAACX,CAAC,GAAG,CAAC,CAAC,CAAC;MAEzF,IAAI,CAAC8F,eAAe,EAAE;QACjBD,YAAY,CAACI,IAAI,CAAC,CAACC,CAAC,EAAEC,CAAC,KAAKD,CAAC,GAAGC,CAAC,CAAC;QAClC,MAAMC,WAAW,GAAGP,YAAY,CAACzH,MAAM,KAAKsF,UAAU,CAACtF,MAAM,IAC1CyH,YAAY,CAACE,KAAK,CAAC,CAACC,GAAG,EAAEhG,CAAC,KAAKgG,GAAG,KAAKtC,UAAU,CAAC1D,CAAC,CAAC,CAAC;QACxE,IAAI,CAACoG,WAAW,EAAE;UACdzC,aAAa,CAACkC,YAAY,CAAC;QAC/B;QACApC,eAAe,CAAC,iFAAiF,CAAC;MACvG;IACJ,CAAC,MAAM;MACHoC,YAAY,GAAG,CAAC,GAAGnC,UAAU,CAAC;IAClC;IAGA,IAAI;MACA,IAAI2C,QAAQ,GAAG,EAAE;MACjB,QAAQ/C,iBAAiB;QACrB,KAAK,YAAY;UACb+C,QAAQ,GAAGhH,kBAAkB,CAACwG,YAAY,CAAC;UAC3C;QACJ,KAAK,WAAW;UACZQ,QAAQ,GAAG5F,iBAAiB,CAACoF,YAAY,CAAC;UAC1C;QACJ,KAAK,WAAW;UACZQ,QAAQ,GAAGhF,iBAAiB,CAACwE,YAAY,CAAC;UAC1C;QACJ,KAAK,WAAW;UACZQ,QAAQ,GAAGtE,iBAAiB,CAAC8D,YAAY,CAAC;UAC1C;QACJ,KAAK,eAAe;UAChBQ,QAAQ,GAAGlE,qBAAqB,CAAC0D,YAAY,CAAC;UAC9C;QACJ,KAAK,cAAc;UACfQ,QAAQ,GAAG/D,oBAAoB,CAACuD,YAAY,EAAE3B,YAAY,CAAC;UAC3D;QACJ,KAAK,cAAc;UACfmC,QAAQ,GAAG1D,oBAAoB,CAACkD,YAAY,EAAE3B,YAAY,CAAC;UAC3D;QACJ;UACIT,eAAe,CAAC,cAAcH,iBAAiB,qBAAqB,CAAC;UACrEH,QAAQ,CAAC,IAAI,CAAC;UACd;MACR;MAEA,IAAIkD,QAAQ,IAAIA,QAAQ,CAACjI,MAAM,GAAG,CAAC,EAAE;QACjC+E,QAAQ,CAACkD,QAAQ,CAAC;MACtB,CAAC,MAAM;QACHlD,QAAQ,CAAC,IAAI,CAAC;QACdM,eAAe,CAAC,wCAAwC,CAAC;MAC7D;IAEJ,CAAC,CAAC,OAAO6C,CAAC,EAAE;MACRC,OAAO,CAACC,KAAK,CAAC,yBAAyB,EAAEF,CAAC,CAAC;MAC3C7C,eAAe,CAAC,iDAAiD,GAAG6C,CAAC,CAACG,OAAO,CAAC;MAC9EtD,QAAQ,CAAC,IAAI,CAAC;IAClB;EAEF,CAAC,EAAE,CAACG,iBAAiB,EAAEI,UAAU,EAAEQ,YAAY,CAAC,CAAC;EAGjD,MAAMwC,iBAAiB,GAAI/G,MAAM,IAAK;IAClC,IAAIyE,WAAW,EAAEa,wBAAwB,CAAC,CAAC;IAE3C,QAAQtF,MAAM;MACV,KAAK,OAAO;QACR0D,mBAAmB,CAAC,CAAC,CAAC;QACtB;MACJ,KAAK,MAAM;QACPA,mBAAmB,CAACmC,IAAI,IAAInH,IAAI,CAACyG,GAAG,CAAC,CAAC,EAAEU,IAAI,GAAG,CAAC,CAAC,CAAC;QAClD;MACJ,KAAK,SAAS;QACVnC,mBAAmB,CAACmC,IAAI,IAAInH,IAAI,CAACa,GAAG,CAACM,KAAK,CAACpB,MAAM,GAAG,CAAC,EAAEoH,IAAI,GAAG,CAAC,CAAC,CAAC;QACjE;MACJ,KAAK,KAAK;QACN,IAAIhG,KAAK,EAAE6D,mBAAmB,CAAC7D,KAAK,CAACpB,MAAM,GAAG,CAAC,CAAC;QAChD;MACJ;QACI;IACR;EACJ,CAAC;;EAED;EACE,MAAM3C,kBAAkB,GAAG6H,iBAAiB,KAAK,cAAc;EAC/D,MAAM1H,kBAAkB,GAAG0H,iBAAiB,KAAK,cAAc;EAC/D,MAAMqD,YAAY,GAAG,GAAG;EAExB,MAAMC,QAAQ,GAAGrC,WAAW,IAAIA,WAAW,CAAC7B,QAAQ,GAAG6B,WAAW,CAAC9C,GAAG,GAAG,CAAC,CAAC;EAC3E,MAAMoF,SAAS,GAAGtC,WAAW,IAAIA,WAAW,CAAC7B,QAAQ,GAAG6B,WAAW,CAAC7C,IAAI,GAAG,CAAC,CAAC;EAC7E,MAAMoF,QAAQ,GAAGvC,WAAW,IAAIA,WAAW,CAAC7B,QAAQ,GAAG6B,WAAW,CAAC1D,GAAG,GAAG,CAAC,CAAC;EAC3E,MAAMtF,OAAO,GAAGgJ,WAAW,IAAIA,WAAW,CAAC7B,QAAQ,GAAG6B,WAAW,CAAC/B,KAAK,GAAG,KAAK;EAC/E,MAAMuE,gBAAgB,GAAGxC,WAAW,IAAIA,WAAW,CAACzB,cAAc,GAAGyB,WAAW,CAAC1B,aAAa,GAAG,CAAC,CAAC;;EAEnG;EACA,MAAMmE,IAAI,GAAGxC,YAAY,CAAC5F,GAAG,CAAC,CAAC7D,KAAK,EAAEkM,KAAK,KAAK;IAC5C,IAAI3L,aAAa,GAAG,KAAK;IACzB,IAAI4L,qBAAqB,GAAG,KAAK;IAEjC,IAAIzL,kBAAkB,EAAE;MACpB,IAAIwL,KAAK,IAAIL,QAAQ,IAAIK,KAAK,IAAIJ,SAAS,EAAE;QACzCvL,aAAa,GAAG,IAAI;MACxB,CAAC,MAAM;QACH4L,qBAAqB,GAAG,IAAI;MAChC;IACJ;IAEA,oBACIvM,OAAA,CAACC,QAAQ;MAELG,KAAK,EAAEA,KAAM;MACbC,MAAM,EAAGD,KAAK,GAAGgK,MAAM,GAAI4B,YAAa;MACxC1L,KAAK,EAAE4J,QAAS;MAChB3J,aAAa,EAAEuJ,gBAAgB,CAACnE,QAAQ,CAAC2G,KAAK,CAAE;MAChD9L,OAAO,EAAEyG,UAAU,KAAKqF,KAAM;MAC9B7L,QAAQ,EAAEqE,aAAa,CAACa,QAAQ,CAAC2G,KAAK,CAAE;MACxC5L,WAAW,EAAEyL,QAAQ,KAAKG,KAAM;MAChC3L,aAAa,EAAEA,aAAc;MAC7BC,OAAO,EAAEA,OAAO,KAAKuL,QAAQ,KAAKG,KAAK,IAAIF,gBAAgB,KAAKE,KAAK,CAAE;MACvEzL,aAAa,EAAEI,kBAAkB,IAAImL,gBAAgB,KAAKE,KAAM;MAChExL,kBAAkB,EAAEyL;IAAsB,GAXrCD,KAAK;MAAAlK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAYb,CAAC;EAEV,CAAC,CAAC;;EAGJ;EACA,oBACEvC,OAAA;IAAKwM,SAAS,EAAC,+CAA+C;IAAArK,QAAA,gBAC1DnC,OAAA;MAAQyM,GAAG,EAAC;IAA6B;MAAArK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAS,CAAC,eACnDvC,OAAA;MAAO0M,uBAAuB,EAAE;QAAEC,MAAM,EAAE;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;MAAS;IAAE;MAAAvK,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAE,CAAC,eACNvC,OAAA;MAAKwM,SAAS,EAAC,6DAA6D;MAAArK,QAAA,gBACxEnC,OAAA;QAAIwM,SAAS,EAAC,4DAA4D;QAAArK,QAAA,EAAC;MAE3E;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAI,CAAC,eAGLvC,OAAA;QAAKwM,SAAS,EAAC,4CAA4C;QAAArK,QAAA,gBAEvDnC,OAAA;UAAKwM,SAAS,EAAC,wCAAwC;UAAArK,QAAA,gBACnDnC,OAAA;YAAOwM,SAAS,EAAC,8CAA8C;YAAArK,QAAA,EAAC;UAAgB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAO,CAAC,eACxFvC,OAAA;YACIwM,SAAS,EAAC,uGAAuG;YACjHpM,KAAK,EAAEuI,iBAAkB;YACzBiE,QAAQ,EAAGjB,CAAC,IAAK/C,oBAAoB,CAAC+C,CAAC,CAAC/D,MAAM,CAACxH,KAAK,CAAE;YACtDyM,QAAQ,EAAEpD,WAAY;YAAAtH,QAAA,gBAEtBnC,OAAA;cAAU8M,KAAK,EAAC,SAAS;cAAA3K,QAAA,gBACrBnC,OAAA;gBAAQI,KAAK,EAAC,YAAY;gBAAA+B,QAAA,EAAC;cAAW;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC/CvC,OAAA;gBAAQI,KAAK,EAAC,eAAe;gBAAA+B,QAAA,EAAC;cAAc;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACrDvC,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAA+B,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7CvC,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAA+B,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eAC7CvC,OAAA;gBAAQI,KAAK,EAAC,WAAW;gBAAA+B,QAAA,EAAC;cAAU;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACvC,CAAC,eACXvC,OAAA;cAAU8M,KAAK,EAAC,WAAW;cAAA3K,QAAA,gBACvBnC,OAAA;gBAAQI,KAAK,EAAC,cAAc;gBAAA+B,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC,eACnDvC,OAAA;gBAAQI,KAAK,EAAC,cAAc;gBAAA+B,QAAA,EAAC;cAAa;gBAAAC,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAQ,CAAC;YAAA;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC7C,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACP,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACR,CAAC,eAGNvC,OAAA;UAAKwM,SAAS,EAAC,kDAAkD;UAAArK,QAAA,gBAC7DnC,OAAA;YAAKwM,SAAS,EAAC,YAAY;YAAArK,QAAA,gBACvBnC,OAAA;cACI+M,OAAO,EAAEA,CAAA,KAAM1C,sBAAsB,CAAC,CAAE;cACxCmC,SAAS,EAAC,8HAA8H;cACxIK,QAAQ,EAAEpD,WAAY;cAAAtH,QAAA,EACzB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC,eACTvC,OAAA;cACI+M,OAAO,EAAEA,CAAA,KAAM1C,sBAAsB,CAAC,EAAE,CAAE;cAC1CmC,SAAS,EAAC,+HAA+H;cACzIK,QAAQ,EAAEpD,WAAY;cAAAtH,QAAA,EACzB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC,eAENvC,OAAA;YAAKwM,SAAS,EAAC,YAAY;YAAArK,QAAA,gBACvBnC,OAAA;cACIgN,IAAI,EAAC,MAAM;cACXC,WAAW,EAAC,kBAAkB;cAC9B7M,KAAK,EAAE+I,eAAgB;cACvByD,QAAQ,EAAGjB,CAAC,IAAKvC,kBAAkB,CAACuC,CAAC,CAAC/D,MAAM,CAACxH,KAAK,CAAE;cACpDoM,SAAS,EAAC,8CAA8C;cACxDK,QAAQ,EAAEpD;YAAY;cAAArH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACFvC,OAAA;cACI+M,OAAO,EAAExC,qBAAsB;cAC/BiC,SAAS,EAAC,+HAA+H;cACzIK,QAAQ,EAAEpD,WAAY;cAAAtH,QAAA,EACzB;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNvC,OAAA;UAAKwM,SAAS,EAAC,kDAAkD;UAAArK,QAAA,gBAC7DnC,OAAA;YAAOwM,SAAS,EAAC,yCAAyC;YAAArK,QAAA,GAAC,wBAAsB,EAACkH,KAAK;UAAA;YAAAjH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAQ,CAAC,eAChGvC,OAAA;YACIgN,IAAI,EAAC;YACL;YAAA;YACAzI,GAAG,EAAC,IAAI;YACR4F,GAAG,EAAC,KAAK;YACT+C,IAAI,EAAC,IAAI;YACT9M,KAAK,EAAEiJ,KAAM;YACbuD,QAAQ,EAAGjB,CAAC,IAAKrC,QAAQ,CAACoB,MAAM,CAACiB,CAAC,CAAC/D,MAAM,CAACxH,KAAK,CAAC,CAAE;YAClDoM,SAAS,EAAC,kEAAkE;YAC5EK,QAAQ,EAAEpD;UAAY;YAAArH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACzB,CAAC,EAED0H,iBAAiB,iBACdjK,OAAA;YAAKwM,SAAS,EAAC,YAAY;YAAArK,QAAA,gBACvBnC,OAAA;cACIgN,IAAI,EAAC,QAAQ;cACbC,WAAW,EAAC,cAAc;cAC1B7M,KAAK,EAAEmJ,YAAa;cACpBqD,QAAQ,EAAGjB,CAAC,IAAKnC,eAAe,CAACkB,MAAM,CAACiB,CAAC,CAAC/D,MAAM,CAACxH,KAAK,CAAC,CAAE;cACzDoM,SAAS,EAAC,6CAA6C;cACvDK,QAAQ,EAAEpD;YAAY;cAAArH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACzB,CAAC,eACDvC,OAAA;cACG+M,OAAO,EAAEvC,iBAAkB;cAC3BgC,SAAS,EAAC,oHAAoH;cAC9HK,QAAQ,EAAEpD,WAAW,IAAI,CAAC5E,KAAM;cAAA1C,QAAA,EACnC;YAED;cAAAC,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAAQ,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CACR;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACA,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC,eAGNvC,OAAA;QAAKwM,SAAS,EAAC,gEAAgE;QAAArK,QAAA,gBAC3EnC,OAAA;UAAKwM,SAAS,EAAC,wCAAwC;UAAArK,QAAA,gBACnDnC,OAAA;YAAIwM,SAAS,EAAC,qCAAqC;YAAArK,QAAA,GAC9CwG,iBAAiB,CAAC3E,KAAK,CAAC,WAAW,CAAC,CAACC,GAAG,CAACC,CAAC,IAAIA,CAAC,CAACiJ,MAAM,CAAC,CAAC,CAAC,CAACC,WAAW,CAAC,CAAC,GAAGlJ,CAAC,CAACmC,KAAK,CAAC,CAAC,CAAC,CAAC,CAACgH,IAAI,CAAC,GAAG,CAAC,EAAC,gBACrG;UAAA;YAAAjL,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACLvC,OAAA;YAAGwM,SAAS,EAAC,mCAAmC;YAAArK,QAAA,GAAC,eAChC,EAAC0C,KAAK,GAAGA,KAAK,CAACpB,MAAM,GAAG,CAAC,EAAC,mBAAiB,EAACgF,gBAAgB,GAAG,CAAC;UAAA;YAAArG,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC9E,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACH,CAAC,EAELsG,YAAY,iBACT7I,OAAA;UAAKwM,SAAS,EAAC,mEAAmE;UAAArK,QAAA,EAC7E0G;QAAY;UAAAzG,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACZ,CACR,eAEDvC,OAAA;UAAKwM,SAAS,EAAC,oIAAoI;UAAArK,QAAA,EAC9IkK;QAAI;UAAAjK,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACJ,CAAC,eAENvC,OAAA;UAAGwM,SAAS,EAAC,oDAAoD;UAAArK,QAAA,EAC5DyH,WAAW,GAAGA,WAAW,CAAC5E,MAAM,GAAG;QAAmC;UAAA5C,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACxE,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACH,CAAC,eAGNvC,OAAA;QAAKwM,SAAS,EAAC,uCAAuC;QAAArK,QAAA,gBAElDnC,OAAA;UAAKwM,SAAS,EAAC,sFAAsF;UAAArK,QAAA,gBACjGnC,OAAA;YAAIwM,SAAS,EAAC,0CAA0C;YAAArK,QAAA,EAAC;UAAiB;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eAC/EvC,OAAA;YAAKwM,SAAS,EAAC,4CAA4C;YAAArK,QAAA,gBACvDnC,OAAA;cAAQ+M,OAAO,EAAEA,CAAA,KAAMhB,iBAAiB,CAAC,OAAO,CAAE;cAACS,SAAS,EAAC,qFAAqF;cAACK,QAAQ,EAAEpD,WAAW,IAAIhB,gBAAgB,KAAK,CAAE;cAAAtG,QAAA,eAC/LnC,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,eAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAA+B;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC3N,CAAC,eACTvC,OAAA;cAAQ+M,OAAO,EAAEA,CAAA,KAAMhB,iBAAiB,CAAC,MAAM,CAAE;cAACS,SAAS,EAAC,qFAAqF;cAACK,QAAQ,EAAEpD,WAAW,IAAIhB,gBAAgB,KAAK,CAAE;cAAAtG,QAAA,eAC7LnC,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,eAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAAiB;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC9M,CAAC,eAETvC,OAAA;cACI+M,OAAO,EAAEzC,wBAAyB;cAClCkC,SAAS,EAAE,uEAAuE/C,WAAW,GAAG,wCAAwC,GAAG,4CAA4C,EAAG;cAC1LoD,QAAQ,EAAE,CAAChI,KAAK,IAAIA,KAAK,CAACpB,MAAM,KAAK,CAAE;cAAAtB,QAAA,EAEtCsH,WAAW,gBACRzJ,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,eAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAA+C;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK,CAAC,gBAE/OvC,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,gBAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAAkG;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC,eAAAvC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAAoC;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE,CAAC;cAAA;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAChZ;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACG,CAAC,eAETvC,OAAA;cAAQ+M,OAAO,EAAEA,CAAA,KAAMhB,iBAAiB,CAAC,SAAS,CAAE;cAACS,SAAS,EAAC,qFAAqF;cAACK,QAAQ,EAAEpD,WAAW,IAAK5E,KAAK,IAAI4D,gBAAgB,KAAK5D,KAAK,CAACpB,MAAM,GAAG,CAAG;cAAAtB,QAAA,eAC3NnC,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,eAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAAc;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAC1M,CAAC,eACTvC,OAAA;cAAQ+M,OAAO,EAAEA,CAAA,KAAMhB,iBAAiB,CAAC,KAAK,CAAE;cAACS,SAAS,EAAC,qFAAqF;cAACK,QAAQ,EAAEpD,WAAW,IAAK5E,KAAK,IAAI4D,gBAAgB,KAAK5D,KAAK,CAACpB,MAAM,GAAG,CAAG;cAAAtB,QAAA,eACtNnC,OAAA;gBAAKsN,KAAK,EAAC,4BAA4B;gBAACd,SAAS,EAAC,SAAS;gBAACe,IAAI,EAAC,MAAM;gBAACC,OAAO,EAAC,WAAW;gBAACC,MAAM,EAAC,cAAc;gBAAAtL,QAAA,eAACnC,OAAA;kBAAM0N,aAAa,EAAC,OAAO;kBAACC,cAAc,EAAC,OAAO;kBAACC,WAAW,EAAC,GAAG;kBAACC,CAAC,EAAC;gBAA2B;kBAAAzL,QAAA,EAAAC,YAAA;kBAAAC,UAAA;kBAAAC,YAAA;gBAAA,OAAE;cAAC;gBAAAH,QAAA,EAAAC,YAAA;gBAAAC,UAAA;gBAAAC,YAAA;cAAA,OAAK;YAAC;cAAAH,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OACxN,CAAC;UAAA;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OACR,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC,eAGNvC,OAAA;UAAKwM,SAAS,EAAC,oEAAoE;UAAArK,QAAA,gBAC/EnC,OAAA;YAAIwM,SAAS,EAAC,uCAAuC;YAAArK,QAAA,EAAC;UAAU;YAAAC,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAAI,CAAC,eACrEvC,OAAA;YAAKwM,SAAS,EAAC,wEAAwE;YAAArK,QAAA,EAClF6H,iBAAiB,GAAGA,iBAAiB,CAAC/F,GAAG,CAAC,CAAC6J,IAAI,EAAExB,KAAK,kBACnDtM,OAAA;cAAiBwM,SAAS,EAAE,aAAa5C,WAAW,IAAIA,WAAW,CAACmE,SAAS,KAAKzB,KAAK,GAAG,QAAQ,GAAG,EAAE,EAAG;cAAAnK,QAAA,EACrG2L;YAAI,GADCxB,KAAK;cAAAlK,QAAA,EAAAC,YAAA;cAAAC,UAAA;cAAAC,YAAA;YAAA,OAEV,CACR,CAAC,GAAG;UAAyC;YAAAH,QAAA,EAAAC,YAAA;YAAAC,UAAA;YAAAC,YAAA;UAAA,OAC7C,CAAC;QAAA;UAAAH,QAAA,EAAAC,YAAA;UAAAC,UAAA;UAAAC,YAAA;QAAA,OACL,CAAC;MAAA;QAAAH,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACL,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACL,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACL,CAAC;AAEV;AAAC8F,EAAA,CAzduBD,GAAG;AAAA4F,GAAA,GAAH5F,GAAG;AAAA,IAAAjI,EAAA,EAAAqC,GAAA,EAAAwL,GAAA;AAAAC,YAAA,CAAA9N,EAAA;AAAA8N,YAAA,CAAAzL,GAAA;AAAAyL,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}