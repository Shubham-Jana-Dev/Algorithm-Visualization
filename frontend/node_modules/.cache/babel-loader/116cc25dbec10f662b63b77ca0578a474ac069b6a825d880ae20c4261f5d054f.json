{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/components/BSTVisualizer.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\n\n// --- Constants & Styling ---\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst NODE_RADIUS = 25;\nconst CANVAS_HEIGHT = 500;\nconst CANVAS_WIDTH = 800;\nconst HORIZONTAL_SPACING = 50;\nconst VERTICAL_SPACING = 70;\nconst ANIMATION_DURATION_MS = 600;\n\n// Helper function for exponential backoff retry logic\nconst fetchWithRetry = async (url, options, retries = 3) => {\n  for (let i = 0; i < retries; i++) {\n    try {\n      const response = await fetch(url, options);\n      if (!response.ok) {\n        // Try to parse JSON error if available, otherwise throw status\n        try {\n          const errorData = await response.json();\n          throw new Error(errorData.error || `HTTP status: ${response.status}`);\n        } catch {\n          throw new Error(`HTTP error! status: ${response.status}`);\n        }\n      }\n      return response;\n    } catch (error) {\n      console.error(`Fetch attempt ${i + 1} failed:`, error);\n      if (i === retries - 1) throw error; // Re-throw on last attempt\n      await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000)); // Exponential backoff\n    }\n  }\n};\n\n// --- Main Component ---\nconst BSTVisualizer = () => {\n  _s();\n  const [nodeValue, setNodeValue] = useState('');\n  const [treeState, setTreeState] = useState(null); // Stores the current tree structure from Flask\n  const [steps, setSteps] = useState([]); // Stores animation steps\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [animationRunning, setAnimationRunning] = useState(false);\n  const [error, setError] = useState(null);\n  const [status, setStatus] = useState('Ready to build your BST.');\n\n  // --- State Mapping and Positioning ---\n\n  // Function to recursively calculate positions for all nodes\n  const calculateNodePositions = (node, x, y, level, hSpacing) => {\n    if (!node) return null;\n    const leftHSpacing = hSpacing / 2;\n    const rightHSpacing = hSpacing / 2;\n    const position = {\n      ...node,\n      x: x,\n      y: y,\n      level: level,\n      left: calculateNodePositions(node.left, x - leftHSpacing, y + VERTICAL_SPACING, level + 1, leftHSpacing),\n      right: calculateNodePositions(node.right, x + rightHSpacing, y + VERTICAL_SPACING, level + 1, rightHSpacing)\n    };\n    return position;\n  };\n\n  // Calculate the visually positioned tree structure\n  const positionedTree = treeState ? calculateNodePositions(treeState, CANVAS_WIDTH / 2, NODE_RADIUS * 2, 0, CANVAS_WIDTH / 4) : null;\n\n  // Get current highlighting from steps\n  const currentHighlight = steps[currentStepIndex] || {};\n\n  // --- API Communication and Animation ---\n\n  const handleOperation = async operation => {\n    const value = parseInt(nodeValue);\n    if (isNaN(value)) {\n      setError('Please enter a valid integer for the node value.');\n      return;\n    }\n    if (animationRunning) {\n      setError('Please wait for the current animation to finish.');\n      return;\n    }\n    setError(null);\n    setAnimationRunning(true);\n    setStatus(`Processing **${operation}** operation for value **${value}**...`);\n    try {\n      const payload = {\n        operation: operation,\n        value: value,\n        treeState: treeState\n      };\n\n      // Use the fetchWithRetry helper function\n      const response = await fetchWithRetry('/api/bst', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify(payload)\n      });\n      const result = await response.json();\n      setSteps(result.steps);\n      setTreeState(result.newState);\n      setCurrentStepIndex(0);\n\n      // Start animation after setting steps\n      if (result.steps.length > 0) {\n        setStatus(`Starting animation for **${operation} ${value}**.`);\n      } else {\n        setAnimationRunning(false);\n        setStatus(`Operation **${operation} ${value}** completed immediately.`);\n      }\n    } catch (err) {\n      console.error(\"BST API Error:\", err);\n      setError(`API Communication Failed: ${err.message}. Ensure Flask server is running and accessible at /api/bst.`);\n      setAnimationRunning(false);\n      setSteps([]);\n      setStatus('Operation failed.');\n    } finally {\n      setNodeValue('');\n    }\n  };\n  const handleClearTree = () => {\n    if (animationRunning) {\n      setError('Please wait for the current animation to finish.');\n      return;\n    }\n    setTreeState(null);\n    setSteps([]);\n    setCurrentStepIndex(0);\n    setError(null);\n    setStatus('Tree cleared. Start inserting nodes.');\n  };\n\n  // Animation Effect\n  useEffect(() => {\n    if (!animationRunning || currentStepIndex >= steps.length) {\n      setAnimationRunning(false);\n      if (steps.length > 0) {\n        setStatus('Operation complete.');\n      }\n      return;\n    }\n    const timer = setTimeout(() => {\n      setCurrentStepIndex(prev => prev + 1);\n    }, ANIMATION_DURATION_MS);\n    return () => clearTimeout(timer);\n  }, [steps, currentStepIndex, animationRunning]);\n\n  // --- Canvas Drawing Logic ---\n\n  useEffect(() => {\n    const canvas = document.getElementById('bst-canvas');\n    const ctx = canvas.getContext('2d');\n    ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n    if (!positionedTree) return;\n    const drawNode = node => {\n      if (!node) return;\n\n      // Draw line to children first\n      if (node.left) {\n        ctx.beginPath();\n        ctx.moveTo(node.x, node.y + NODE_RADIUS);\n        ctx.lineTo(node.left.x, node.left.y - NODE_RADIUS);\n        ctx.strokeStyle = '#ccc';\n        ctx.stroke();\n        drawNode(node.left);\n      }\n      if (node.right) {\n        ctx.beginPath();\n        ctx.moveTo(node.x, node.y + NODE_RADIUS);\n        ctx.lineTo(node.right.x, node.right.y - NODE_RADIUS);\n        ctx.strokeStyle = '#ccc';\n        ctx.stroke();\n        drawNode(node.right);\n      }\n\n      // Determine if the current node is highlighted\n      const isHighlighted = animationRunning && node.value === currentHighlight.value && currentStepIndex < steps.length;\n\n      // Draw circle (node)\n      ctx.beginPath();\n      ctx.arc(node.x, node.y, NODE_RADIUS, 0, Math.PI * 2);\n      ctx.fillStyle = isHighlighted ? '#ffc107' : '#007bff';\n      ctx.fill();\n      ctx.strokeStyle = isHighlighted ? '#dc3545' : '#0056b3';\n      ctx.lineWidth = isHighlighted ? 4 : 2;\n      ctx.stroke();\n\n      // Draw text (value)\n      ctx.fillStyle = isHighlighted ? '#333' : 'white';\n      ctx.font = '16px Arial';\n      ctx.textAlign = 'center';\n      ctx.textBaseline = 'middle';\n      ctx.fillText(node.value, node.x, node.y);\n    };\n    drawNode(positionedTree);\n  }, [positionedTree, currentHighlight, animationRunning, currentStepIndex, steps.length]);\n\n  // --- Render ---\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Binary Search Tree Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 218,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        display: 'flex',\n        gap: '10px',\n        alignItems: 'center'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        placeholder: \"Enter node value\",\n        value: nodeValue,\n        onChange: e => setNodeValue(e.target.value),\n        onKeyDown: e => {\n          if (e.key === 'Enter') handleOperation('insert');\n        },\n        style: {\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          minWidth: '150px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 222,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleOperation('insert'),\n        disabled: animationRunning,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#4CAF50',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Insert\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => handleOperation('delete'),\n        disabled: animationRunning,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#f44336',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Delete\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 238,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleClearTree,\n        disabled: animationRunning,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#607d8b',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Clear Tree\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 244,\n        columnNumber: 18\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 221,\n      columnNumber: 13\n    }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: 'red',\n        fontWeight: 'bold'\n      },\n      children: [\"Error: \", error]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 253,\n      columnNumber: 23\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        marginTop: '5px',\n        color: animationRunning ? '#007bff' : '#333',\n        fontWeight: 'bold'\n      },\n      children: [\"Status: \", status, currentStepIndex > 0 && animationRunning && /*#__PURE__*/_jsxDEV(\"span\", {\n        children: [\" (Step \", currentStepIndex, \" of \", steps.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 256,\n        columnNumber: 62\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 254,\n      columnNumber: 13\n    }, this), animationRunning && currentHighlight.action && /*#__PURE__*/_jsxDEV(\"p\", {\n      style: {\n        color: '#ffc107',\n        fontStyle: 'italic'\n      },\n      children: [\"Current Action: **\", currentHighlight.action, \"** on node **\", currentHighlight.value, \"**\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 259,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        border: '1px solid #ccc',\n        marginTop: '10px',\n        overflow: 'auto'\n      },\n      children: /*#__PURE__*/_jsxDEV(\"canvas\", {\n        id: \"bst-canvas\",\n        width: CANVAS_WIDTH,\n        height: CANVAS_HEIGHT,\n        style: {\n          display: 'block'\n        },\n        children: \"Your browser does not support the HTML5 canvas tag.\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 264,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 263,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 217,\n    columnNumber: 9\n  }, this);\n};\n_s(BSTVisualizer, \"eb/pxyLpnYNyDA0fORstTITKk7E=\");\n_c = BSTVisualizer;\nexport default BSTVisualizer;\nvar _c;\n$RefreshReg$(_c, \"BSTVisualizer\");","map":{"version":3,"names":["React","useState","useEffect","jsxDEV","_jsxDEV","NODE_RADIUS","CANVAS_HEIGHT","CANVAS_WIDTH","HORIZONTAL_SPACING","VERTICAL_SPACING","ANIMATION_DURATION_MS","fetchWithRetry","url","options","retries","i","response","fetch","ok","errorData","json","Error","error","status","console","Promise","resolve","setTimeout","Math","pow","BSTVisualizer","_s","nodeValue","setNodeValue","treeState","setTreeState","steps","setSteps","currentStepIndex","setCurrentStepIndex","animationRunning","setAnimationRunning","setError","setStatus","calculateNodePositions","node","x","y","level","hSpacing","leftHSpacing","rightHSpacing","position","left","right","positionedTree","currentHighlight","handleOperation","operation","value","parseInt","isNaN","payload","method","headers","body","JSON","stringify","result","newState","length","err","message","handleClearTree","timer","prev","clearTimeout","canvas","document","getElementById","ctx","getContext","clearRect","drawNode","beginPath","moveTo","lineTo","strokeStyle","stroke","isHighlighted","arc","PI","fillStyle","fill","lineWidth","font","textAlign","textBaseline","fillText","style","padding","children","fileName","_jsxFileName","lineNumber","columnNumber","marginBottom","display","gap","alignItems","type","placeholder","onChange","e","target","onKeyDown","key","border","borderRadius","minWidth","onClick","disabled","cursor","backgroundColor","color","fontWeight","marginTop","action","fontStyle","overflow","id","width","height","_c","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/components/BSTVisualizer.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\n\n// --- Constants & Styling ---\nconst NODE_RADIUS = 25;\nconst CANVAS_HEIGHT = 500;\nconst CANVAS_WIDTH = 800;\nconst HORIZONTAL_SPACING = 50;\nconst VERTICAL_SPACING = 70;\nconst ANIMATION_DURATION_MS = 600;\n\n// Helper function for exponential backoff retry logic\nconst fetchWithRetry = async (url, options, retries = 3) => {\n    for (let i = 0; i < retries; i++) {\n        try {\n            const response = await fetch(url, options);\n            if (!response.ok) {\n                // Try to parse JSON error if available, otherwise throw status\n                try {\n                    const errorData = await response.json();\n                    throw new Error(errorData.error || `HTTP status: ${response.status}`);\n                } catch {\n                    throw new Error(`HTTP error! status: ${response.status}`);\n                }\n            }\n            return response;\n        } catch (error) {\n            console.error(`Fetch attempt ${i + 1} failed:`, error);\n            if (i === retries - 1) throw error; // Re-throw on last attempt\n            await new Promise(resolve => setTimeout(resolve, Math.pow(2, i) * 1000)); // Exponential backoff\n        }\n    }\n};\n\n// --- Main Component ---\nconst BSTVisualizer = () => {\n    const [nodeValue, setNodeValue] = useState('');\n    const [treeState, setTreeState] = useState(null); // Stores the current tree structure from Flask\n    const [steps, setSteps] = useState([]); // Stores animation steps\n    const [currentStepIndex, setCurrentStepIndex] = useState(0);\n    const [animationRunning, setAnimationRunning] = useState(false);\n    const [error, setError] = useState(null);\n    const [status, setStatus] = useState('Ready to build your BST.');\n\n    // --- State Mapping and Positioning ---\n    \n    // Function to recursively calculate positions for all nodes\n    const calculateNodePositions = (node, x, y, level, hSpacing) => {\n        if (!node) return null;\n\n        const leftHSpacing = hSpacing / 2;\n        const rightHSpacing = hSpacing / 2;\n\n        const position = {\n            ...node,\n            x: x,\n            y: y,\n            level: level,\n            left: calculateNodePositions(node.left, x - leftHSpacing, y + VERTICAL_SPACING, level + 1, leftHSpacing),\n            right: calculateNodePositions(node.right, x + rightHSpacing, y + VERTICAL_SPACING, level + 1, rightHSpacing),\n        };\n\n        return position;\n    };\n\n    // Calculate the visually positioned tree structure\n    const positionedTree = treeState ? calculateNodePositions(treeState, CANVAS_WIDTH / 2, NODE_RADIUS * 2, 0, CANVAS_WIDTH / 4) : null;\n    \n    // Get current highlighting from steps\n    const currentHighlight = steps[currentStepIndex] || {};\n    \n    // --- API Communication and Animation ---\n\n    const handleOperation = async (operation) => {\n        const value = parseInt(nodeValue);\n\n        if (isNaN(value)) {\n            setError('Please enter a valid integer for the node value.');\n            return;\n        }\n        \n        if (animationRunning) {\n            setError('Please wait for the current animation to finish.');\n            return;\n        }\n\n        setError(null);\n        setAnimationRunning(true);\n        setStatus(`Processing **${operation}** operation for value **${value}**...`);\n        \n        try {\n            const payload = {\n                operation: operation,\n                value: value,\n                treeState: treeState\n            };\n            \n            // Use the fetchWithRetry helper function\n            const response = await fetchWithRetry('/api/bst', {\n                method: 'POST',\n                headers: { 'Content-Type': 'application/json' },\n                body: JSON.stringify(payload),\n            });\n            \n            const result = await response.json();\n            \n            setSteps(result.steps);\n            setTreeState(result.newState);\n            setCurrentStepIndex(0);\n            \n            // Start animation after setting steps\n            if (result.steps.length > 0) {\n                 setStatus(`Starting animation for **${operation} ${value}**.`);\n            } else {\n                 setAnimationRunning(false);\n                 setStatus(`Operation **${operation} ${value}** completed immediately.`);\n            }\n\n        } catch (err) {\n            console.error(\"BST API Error:\", err);\n            setError(`API Communication Failed: ${err.message}. Ensure Flask server is running and accessible at /api/bst.`);\n            setAnimationRunning(false);\n            setSteps([]);\n            setStatus('Operation failed.');\n        } finally {\n            setNodeValue('');\n        }\n    };\n    \n    const handleClearTree = () => {\n        if (animationRunning) {\n             setError('Please wait for the current animation to finish.');\n             return;\n        }\n        setTreeState(null);\n        setSteps([]);\n        setCurrentStepIndex(0);\n        setError(null);\n        setStatus('Tree cleared. Start inserting nodes.');\n    }\n\n    // Animation Effect\n    useEffect(() => {\n        if (!animationRunning || currentStepIndex >= steps.length) {\n            setAnimationRunning(false);\n            if (steps.length > 0) {\n                setStatus('Operation complete.');\n            }\n            return;\n        }\n\n        const timer = setTimeout(() => {\n            setCurrentStepIndex(prev => prev + 1);\n        }, ANIMATION_DURATION_MS);\n\n        return () => clearTimeout(timer);\n    }, [steps, currentStepIndex, animationRunning]);\n\n\n    // --- Canvas Drawing Logic ---\n    \n    useEffect(() => {\n        const canvas = document.getElementById('bst-canvas');\n        const ctx = canvas.getContext('2d');\n        ctx.clearRect(0, 0, CANVAS_WIDTH, CANVAS_HEIGHT);\n\n        if (!positionedTree) return;\n\n        const drawNode = (node) => {\n            if (!node) return;\n\n            // Draw line to children first\n            if (node.left) {\n                ctx.beginPath();\n                ctx.moveTo(node.x, node.y + NODE_RADIUS);\n                ctx.lineTo(node.left.x, node.left.y - NODE_RADIUS);\n                ctx.strokeStyle = '#ccc';\n                ctx.stroke();\n                drawNode(node.left);\n            }\n            if (node.right) {\n                ctx.beginPath();\n                ctx.moveTo(node.x, node.y + NODE_RADIUS);\n                ctx.lineTo(node.right.x, node.right.y - NODE_RADIUS);\n                ctx.strokeStyle = '#ccc';\n                ctx.stroke();\n                drawNode(node.right);\n            }\n\n            // Determine if the current node is highlighted\n            const isHighlighted = animationRunning && node.value === currentHighlight.value && currentStepIndex < steps.length;\n            \n            // Draw circle (node)\n            ctx.beginPath();\n            ctx.arc(node.x, node.y, NODE_RADIUS, 0, Math.PI * 2);\n            ctx.fillStyle = isHighlighted ? '#ffc107' : '#007bff'; \n            ctx.fill();\n            ctx.strokeStyle = isHighlighted ? '#dc3545' : '#0056b3';\n            ctx.lineWidth = isHighlighted ? 4 : 2;\n            ctx.stroke();\n\n            // Draw text (value)\n            ctx.fillStyle = isHighlighted ? '#333' : 'white';\n            ctx.font = '16px Arial';\n            ctx.textAlign = 'center';\n            ctx.textBaseline = 'middle';\n            ctx.fillText(node.value, node.x, node.y);\n        };\n\n        drawNode(positionedTree);\n        \n    }, [positionedTree, currentHighlight, animationRunning, currentStepIndex, steps.length]);\n\n    \n    // --- Render ---\n\n    return (\n        <div style={{ padding: '20px' }}>\n            <h1>Binary Search Tree Visualizer</h1>\n\n            {/* Controls */}\n            <div style={{ marginBottom: '20px', display: 'flex', gap: '10px', alignItems: 'center' }}>\n                <input\n                    type=\"number\"\n                    placeholder=\"Enter node value\"\n                    value={nodeValue}\n                    onChange={(e) => setNodeValue(e.target.value)}\n                    onKeyDown={(e) => {\n                        if (e.key === 'Enter') handleOperation('insert');\n                    }}\n                    style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px', minWidth: '150px' }}\n                />\n                <button \n                    onClick={() => handleOperation('insert')} \n                    disabled={animationRunning}\n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#4CAF50', color: 'white', border: 'none', borderRadius: '4px' }}>\n                    Insert\n                </button>\n                <button \n                    onClick={() => handleOperation('delete')} \n                    disabled={animationRunning}\n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#f44336', color: 'white', border: 'none', borderRadius: '4px' }}>\n                    Delete\n                </button>\n                 <button \n                    onClick={handleClearTree} \n                    disabled={animationRunning}\n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#607d8b', color: 'white', border: 'none', borderRadius: '4px' }}>\n                    Clear Tree\n                </button>\n            </div>\n            \n            {/* Status and Error Messages */}\n            {error && <p style={{color: 'red', fontWeight: 'bold'}}>Error: {error}</p>}\n            <p style={{marginTop: '5px', color: animationRunning ? '#007bff' : '#333', fontWeight: 'bold'}}>\n                Status: {status}\n                {currentStepIndex > 0 && animationRunning && <span> (Step {currentStepIndex} of {steps.length})</span>}\n            </p>\n            {animationRunning && currentHighlight.action && (\n                <p style={{color: '#ffc107', fontStyle: 'italic'}}>Current Action: **{currentHighlight.action}** on node **{currentHighlight.value}**</p>\n            )}\n\n            {/* Canvas */}\n            <div style={{ border: '1px solid #ccc', marginTop: '10px', overflow: 'auto' }}>\n                <canvas \n                    id=\"bst-canvas\" \n                    width={CANVAS_WIDTH} \n                    height={CANVAS_HEIGHT} \n                    style={{ display: 'block' }}>\n                    Your browser does not support the HTML5 canvas tag.\n                </canvas>\n            </div>\n\n        </div>\n    );\n};\n\nexport default BSTVisualizer;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}