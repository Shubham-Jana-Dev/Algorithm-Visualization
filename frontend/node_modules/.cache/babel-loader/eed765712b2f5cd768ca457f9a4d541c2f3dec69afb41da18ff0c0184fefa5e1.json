{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useRef } from 'react'; // Added useRef for animation loop\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ArrayBar = /*#__PURE__*/React.memo(_c = ({\n  value,\n  height,\n  width,\n  isHighlighted,\n  isPivot,\n  isSorted,\n  isSearchMid,\n  isSearchRange,\n  isFound,\n  isLinearCheck\n}) => {\n  // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot/MinIndex\n  let color = '#007bff'; // Default Blue\n\n  // --- Search Mode Logic ---\n  let opacity = '1';\n\n  // Binary Search Specific Colors\n  if (isSearchMid || isSearchRange || isFound) {\n    // Elements in the current search range\n    color = '#3b82f6'; // Light Blue\n    opacity = '1';\n    if (isSearchMid) {\n      // Mid element\n      color = '#f59e0b'; // Amber/Mid\n    }\n    if (isFound) {\n      // Found element\n      color = '#10b981'; // Emerald/Found\n    }\n  } else if (isSearchMid === false && isSearchRange === false && value) {\n    // Excluded elements during Binary Search\n    opacity = '0.3';\n    color = '#9ca3af'; // Gray\n  }\n\n  // Linear Search Specific Color\n  if (isLinearCheck) {\n    color = '#FF5733'; // Orange for comparison/swap\n    if (isFound) {\n      color = '#10b981'; // Emerald/Found\n    }\n  }\n\n  // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n  // Sorting highlights take precedence over default color, but not active search checks\n  if (isSorted) {\n    color = '#4CAF50';\n    opacity = '1';\n  } else if (isPivot) {\n    color = '#8A2BE2'; // BlueViolet for Pivot/MinIndex\n  } else if (isHighlighted && !isSearchRange && !isSearchMid && !isLinearCheck) {\n    color = '#FF5733'; // Orange for comparison/swap\n  }\n  const finalWidth = width > 0 ? `${width}px` : 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: `${height}px`,\n      width: finalWidth,\n      margin: '0 1px',\n      backgroundColor: color,\n      transition: 'height 0.1s linear, background-color 0.1s linear, opacity 0.1s linear',\n      borderRadius: '2px 2px 0 0',\n      display: 'flex',\n      alignItems: 'flex-end',\n      justifyContent: 'center',\n      fontSize: '10px',\n      color: 'white',\n      fontWeight: 'bold',\n      position: 'relative',\n      opacity: opacity\n    },\n    title: `Value: ${value}`,\n    children: width > 20 && value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 57,\n    columnNumber: 9\n  }, this);\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\n_c2 = ArrayBar;\nconst BSTVisualizer = () => {\n  _s();\n  const [treeData, setTreeData] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [message, setMessage] = useState('Enter a number to build the BST.');\n  const insertNode = useCallback((data, value) => {\n    if (!data) return {\n      value: value,\n      left: null,\n      right: null\n    };\n    if (value < data.value) {\n      data.left = insertNode(data.left, value);\n    } else if (value > data.value) {\n      data.right = insertNode(data.right, value);\n    }\n    return data;\n  }, []);\n  const handleInsert = () => {\n    const num = parseInt(inputValue);\n    if (isNaN(num)) {\n      setMessage('Please enter a valid number.');\n      return;\n    }\n    let newTreeData = [...treeData];\n    if (newTreeData.length === 0) {\n      newTreeData.push({\n        value: num,\n        left: null,\n        right: null\n      });\n    } else {\n      newTreeData = [insertNode(newTreeData[0], num)];\n    }\n    setTreeData(newTreeData);\n    setInputValue('');\n    setMessage(`Inserted ${num}. Try inserting another number.`);\n  };\n  const renderTree = node => {\n    if (!node) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '10px',\n        padding: '10px',\n        border: '1px solid #ccc',\n        borderRadius: '8px',\n        display: 'inline-block',\n        backgroundColor: '#e9f7ff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          margin: 0\n        },\n        children: [\"Root: \", node.value]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 121,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '10px'\n        },\n        children: [node.left && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: '10px',\n            borderRight: '1px dashed #ccc'\n          },\n          children: [\"L: \", renderTree(node.left)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 35\n        }, this), node.right && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '10px',\n            borderLeft: '1px dashed #ccc'\n          },\n          children: [\"R: \", renderTree(node.right)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Binary Search Tree Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter number\",\n        style: {\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          minWidth: '150px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleInsert,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Insert Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 142,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '400px',\n        backgroundColor: '#f9f9f9',\n        padding: '20px',\n        border: '1px solid #eee',\n        borderRadius: '8px',\n        textAlign: 'center'\n      },\n      children: treeData.length > 0 ? renderTree(treeData[0]) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '150px',\n          color: '#888'\n        },\n        children: \"Tree is empty. Insert the first node!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 161,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Constants ---\n_s(BSTVisualizer, \"F/Bh5RfURi7Cf3Nfij1t5WZYoq0=\");\n_c3 = BSTVisualizer;\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400;\nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80;\n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n  bubblesort: [\"function bubbleSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    for j from 0 to n - 2 - i:\", \"      // Compare & Highlight array[j] and array[j+1]\", \"      if array[j] > array[j+1]:\", \"        // Swap elements\", \"        swap(array[j], array[j+1])\", \"  return array\"],\n  mergesort: [\"function mergeSort(array):\", \"  if array.length <= 1: return array\", \"  mid = floor(array.length / 2)\", \"  left = mergeSort(array[0...mid])\", \"  right = mergeSort(array[mid...n])\", \"  return merge(left, right)\", \"\", \"function merge(left, right):\", \"  // Merging sub-arrays and placing back into the original array...\", \"  result = []\", \"  while left & right are not empty:\", \"    if left[0] <= right[0]:\", \"      result.push(left.shift())\", \"    else:\", \"      result.push(right.shift())\", \"  return result + left + right\"],\n  quicksort: [\"function quickSort(array, low, high):\", \"  if low < high:\", \"    // Partition the array\", \"    pi = partition(array, low, high)\", \"    // Recursively sort left and right sub-arrays\", \"    quickSort(array, low, pi - 1)\", \"    quickSort(array, pi + 1, high)\", \"\", \"function partition(array, low, high):\", \"  pivot = array[high] // Choose the last element as pivot\", \"  i = low - 1\", \"  for j from low to high - 1:\", \"    if array[j] < pivot:\", \"      i++\", \"      swap(array[i], array[j])\", \"  swap(array[i+1], array[high])\", \"  return i + 1\"],\n  shellsort: [\"function shellSort(array):\", \"  n = array.length\", \"  gap = floor(n / 2)\", \"  while gap > 0:\", \"    // Perform gapped insertion sort\", \"    for i from gap to n - 1:\", \"      temp = array[i]\", \"      j = i\", \"      while j >= gap and array[j - gap] > temp:\", \"        // Shift elements (Highlight comparison and shift)\", \"        array[j] = array[j - gap]\", \"        j = j - gap\", \"      // Place temp (Highlight placement)\", \"      array[j] = temp\", \"    gap = floor(gap / 2) // Reduce the gap\"],\n  selectionsort: [\"function selectionSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    // Assume current position i holds the minimum\", \"    minIndex = i\", \"    for j from i + 1 to n - 1:\", \"      // Highlight comparison between array[j] and array[minIndex]\", \"      if array[j] < array[minIndex]:\", \"        // Update the index of the minimum element\", \"        minIndex = j\", \"    // If a smaller element was found, swap it into position i\", \"    if minIndex is not i:\", \"      swap(array[i], array[minIndex])\", \"    // Position i is finalized\", \"  return array\"],\n  binarysearch: [\"function binarySearch(array, target):\", \"  // Array MUST be sorted\", \"  low = 0\", \"  high = array.length - 1\", \"  while low <= high:\", \"    mid = floor((low + high) / 2)\", \"    // Highlight mid element (array[mid])\", \"    if array[mid] == target:\", \"      return mid\", \"    else if array[mid] < target:\", \"      // Search right (New Low = mid + 1)\", \"      low = mid + 1\", \"    else:\", \"      // Search left (New High = mid - 1)\", \"      high = mid - 1\", \"  return -1\"],\n  linearsearch: [\"function linearSearch(array, target):\", \"  n = array.length\", \"  for i from 0 to n - 1:\", \"    // Highlight array[i]\", \"    if array[i] == target:\", \"      return i\", \"  return -1\"]\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = size => {\n  return Array.from({\n    length: size\n  }, () => Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE);\n};\nconst parseCustomArray = inputString => {\n  const elements = inputString.split(',').map(s => {\n    const num = parseInt(s.trim());\n    return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n  }).filter(n => n !== null);\n  return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization.\n */\nconst getBubbleSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  for (let i = 0; i < n - 1; i++) {\n    let swapped = false;\n    for (let j = 0; j < n - 1 - i; j++) {\n      // 1. Highlight comparison\n      steps.push({\n        array: [...array],\n        highlight_indices: [j, j + 1],\n        action: `Comparing array[${j}] and array[${j + 1}]`,\n        sorted_indices: [...sortedIndices]\n      });\n      if (array[j] > array[j + 1]) {\n        // 2. Swap\n        [array[j], array[j + 1]] = [array[j + 1], array[j]];\n        swapped = true;\n        steps.push({\n          array: [...array],\n          highlight_indices: [j, j + 1],\n          action: `Swapping ${array[j + 1]} and ${array[j]}`,\n          sorted_indices: [...sortedIndices]\n        });\n      }\n    }\n    if (n - 1 - i >= 0) {\n      sortedIndices.push(n - 1 - i);\n    }\n    if (!swapped) {\n      for (let k = 0; k < n - 1 - i; k++) {\n        if (!sortedIndices.includes(k)) {\n          sortedIndices.push(k);\n        }\n      }\n      break;\n    }\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Bubble Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization.\n */\nconst getMergeSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const merge = (arr, start, mid, end) => {\n    const left = arr.slice(start, mid);\n    const right = arr.slice(mid, end);\n    let i = 0,\n      j = 0,\n      k = start;\n    steps.push({\n      array: [...array],\n      highlight_indices: Array.from({\n        length: end - start\n      }, (_, idx) => start + idx),\n      action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n    while (i < left.length && j < right.length) {\n      if (left[i] <= right[j]) {\n        array[k] = left[i];\n        i++;\n      } else {\n        array[k] = right[j];\n        j++;\n      }\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing element at index ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (i < left.length) {\n      array[k] = left[i];\n      i++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from left half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (j < right.length) {\n      array[k] = right[j];\n      j++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from right half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    steps.push({\n      array: [...array],\n      highlight_indices: [],\n      action: `Merged segment complete from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n  };\n  const mergeSortHelper = (arr, start, end) => {\n    if (end - start <= 1) return;\n    const mid = Math.floor((start + end) / 2);\n    mergeSortHelper(arr, start, mid);\n    mergeSortHelper(arr, mid, end);\n    merge(arr, start, mid, end);\n  };\n  mergeSortHelper(array, 0, array.length);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Merge Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme).\n */\nconst getQuickSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: pivot_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  const partition = (arr, low, high, sortedIndices) => {\n    const pivot = arr[high];\n    let i = low - 1;\n    recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n    for (let j = low; j <= high - 1; j++) {\n      recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n      if (arr[j] < pivot) {\n        i++;\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n        recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n      }\n    }\n    const pivotIndex = i + 1;\n    [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n    recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n    return pivotIndex;\n  };\n  const sortedIndicesTracker = [];\n  const quickSortHelper = (arr, low, high) => {\n    if (low < high) {\n      const pi = partition(arr, low, high, sortedIndicesTracker);\n      if (!sortedIndicesTracker.includes(pi)) {\n        sortedIndicesTracker.push(pi);\n      }\n      quickSortHelper(arr, low, pi - 1);\n      quickSortHelper(arr, pi + 1, high);\n    } else if (low === high && low >= 0) {\n      if (!sortedIndicesTracker.includes(low)) {\n        sortedIndicesTracker.push(low);\n        recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n      }\n    }\n  };\n  quickSortHelper(array, 0, array.length - 1);\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    action: \"Finished Quick Sort\",\n    highlight_indices: [],\n    pivot_index: null,\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization.\n */\nconst getShellSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let gap = Math.floor(n / 2);\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      gap: current_gap,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  while (gap > 0) {\n    recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n    for (let i = gap; i < n; i++) {\n      const temp = array[i];\n      let j = i;\n      recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n      while (j >= gap && array[j - gap] > temp) {\n        recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n        array[j] = array[j - gap];\n        recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        j -= gap;\n      }\n      array[j] = temp;\n      recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n    }\n    gap = Math.floor(gap / 2);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n  return steps;\n};\n\n/**\n * Generates steps for Selection Sort visualization.\n */\nconst getSelectionSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: min_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  for (let i = 0; i < n - 1; i++) {\n    let minIndex = i;\n    recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n    for (let j = i + 1; j < n; j++) {\n      recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n      if (array[j] < array[minIndex]) {\n        minIndex = j;\n        recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n      }\n    }\n    if (minIndex !== i) {\n      [array[i], array[minIndex]] = [array[minIndex], array[i]];\n      recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n    } else {\n      recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n    }\n    sortedIndices.push(i);\n    recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n  }\n  if (n > 0 && !sortedIndices.includes(n - 1)) {\n    sortedIndices.push(n - 1);\n  }\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, k) => k);\n  recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n  return steps;\n};\n\n/**\n * Generates steps for Binary Search visualization.\n */\nconst getBinarySearchSteps = (arr, target) => {\n  const steps = [];\n  const array = [...arr];\n  steps.push({\n    array: [...array],\n    action: `Search started for target ${target}. Array must be sorted.`,\n    low: 0,\n    high: array.length - 1,\n    mid: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: []\n  });\n  let low = 0;\n  let high = array.length - 1;\n  let found = false;\n  let mid = -1;\n  while (low <= high) {\n    mid = Math.floor((low + high) / 2);\n    steps.push({\n      array: [...array],\n      action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: false,\n      search_target: target,\n      highlight_indices: [mid]\n    });\n    if (array[mid] === target) {\n      found = true;\n      break;\n    } else if (array[mid] < target) {\n      low = mid + 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: []\n      });\n    } else {\n      high = mid - 1;\n      steps.push({\n        array: [...array],\n        action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n        low: low,\n        high: high,\n        mid: mid,\n        found: false,\n        search_target: target,\n        highlight_indices: []\n      });\n    }\n  }\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n      low: low,\n      high: high,\n      mid: mid,\n      found: true,\n      search_target: target,\n      highlight_indices: [mid]\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n      low: low,\n      high: high,\n      mid: -1,\n      found: false,\n      search_target: target,\n      highlight_indices: []\n    });\n  }\n  return steps;\n};\n\n/**\n * Generates steps for Linear Search visualization.\n */\nconst getLinearSearchSteps = (arr, target) => {\n  const steps = [];\n  const array = [...arr];\n  const n = array.length;\n  let found = false;\n  let foundIndex = -1;\n\n  // Initial state tracking\n  steps.push({\n    array: [...array],\n    action: `Linear Search started for target ${target}.`,\n    current_index: -1,\n    found: false,\n    search_target: target,\n    highlight_indices: []\n  });\n  for (let i = 0; i < n; i++) {\n    // Track comparison\n    steps.push({\n      array: [...array],\n      action: `Comparing element at index ${i}: Value is ${array[i]}`,\n      current_index: i,\n      // Index currently being checked\n      found: false,\n      search_target: target,\n      highlight_indices: [i] // Highlight the current index\n    });\n    if (array[i] === target) {\n      found = true;\n      foundIndex = i;\n      break;\n    }\n\n    // Track comparison failure (if not found)\n    steps.push({\n      array: [...array],\n      action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n      current_index: i,\n      found: false,\n      search_target: target,\n      highlight_indices: []\n    });\n  }\n\n  // Final result tracking\n  if (found) {\n    steps.push({\n      array: [...array],\n      action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n      current_index: foundIndex,\n      found: true,\n      search_target: target,\n      highlight_indices: [foundIndex]\n    });\n  } else {\n    steps.push({\n      array: [...array],\n      action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n      current_index: n - 1,\n      found: false,\n      search_target: target,\n      highlight_indices: []\n    });\n  }\n  return steps;\n};\nfunction App() {\n  _s2();\n  const [currentView, setCurrentView] = useState('sort');\n\n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"linearsearch\"); // Changed default to new algorithm\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n\n  // NEW STATE FOR SEARCH ALGORITHMS\n  const [searchTarget, setSearchTarget] = useState(50);\n\n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  // If we are showing Linear Search, we may need the unsorted array, but for sorting/BS, the array in steps is definitive.\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\", \"linearsearch\"].includes(selectedAlgorithm);\n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n    const newArray = generateRandomArray(size);\n    setInputArray(newArray);\n    setCustomInputData(\"\");\n    setArraySize(size);\n    // Set a default search target from the new array\n    if (isSearchAlgorithm && newArray.length > 0) {\n      setSearchTarget(newArray[Math.floor(newArray.length / 2)]);\n    } else {\n      setSearchTarget(50);\n    }\n  };\n  const handleLoadCustomArray = () => {\n    const newArray = parseCustomArray(customInputData);\n    if (newArray.length > 0) {\n      setInputArray(newArray);\n      setArraySize(newArray.length);\n      setLoadingError(null);\n      // Set a default search target from the new array\n      if (isSearchAlgorithm && newArray.length > 0) {\n        setSearchTarget(newArray[Math.floor(newArray.length / 2)]);\n      } else {\n        setSearchTarget(50);\n      }\n    } else {\n      setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n    }\n  };\n\n  // Function to re-run the search on button click\n  const handleSearchClick = () => {\n    // Force regeneration in useEffect by toggling a value or ensuring the target state is updated\n    // Updating target with a slightly modified value ensures useEffect runs even if array/algo didn't change.\n    setSearchTarget(prev => {\n      const num = Number(prev);\n      // This is a common pattern to force re-render when dependencies haven't logically changed.\n      return num + 0.0000001;\n    });\n    // The value will be coerced back to the nearest integer in the useEffect/algorithm, \n    // but the state change triggers the visualization update.\n    // Immediately set it back to the clean number for display purposes, but use a timeout \n    // so the useEffect logic runs first based on the temporary fractional value.\n    setTimeout(() => setSearchTarget(Number(searchTarget)), 0);\n  };\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    // Resetting animation when starting a new visualization\n    if (animationRef.current) {\n      clearTimeout(animationRef.current);\n      setIsAnimating(false);\n    }\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    const isSearchAlgo = selectedAlgorithm === \"binarysearch\" || selectedAlgorithm === \"linearsearch\";\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    if (!isSupportedAlgorithm) {\n      setLoadingError(`Algorithm ${selectedAlgorithm} is unsupported.`);\n      return;\n    }\n    let processedArray = inputArray.map(val => Number(val));\n    let displayArray = [...inputArray]; // Array shown in the UI\n\n    // Binary Search REQUIRES a sorted array.\n    if (selectedAlgorithm === \"binarysearch\") {\n      processedArray.sort((a, b) => a - b);\n      displayArray = processedArray; // Update display to sorted version\n    } else if (selectedAlgorithm !== \"linearsearch\") {\n      // Sorting algorithms may or may not start with the processed array being the current inputArray\n      // but the steps will ultimately show the progression.\n      processedArray = [...inputArray];\n    }\n    let newSteps = [];\n    try {\n      const target = isNaN(Number(searchTarget)) ? 0 : Math.round(Number(searchTarget)); // Use round to handle fractional target updates\n\n      if (selectedAlgorithm === \"bubblesort\") {\n        newSteps = getBubbleSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"mergesort\") {\n        newSteps = getMergeSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"quicksort\") {\n        newSteps = getQuickSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"shellsort\") {\n        newSteps = getShellSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"selectionsort\") {\n        newSteps = getSelectionSortSteps(processedArray);\n      } else if (selectedAlgorithm === \"binarysearch\") {\n        newSteps = getBinarySearchSteps(processedArray, target);\n      } else if (selectedAlgorithm === \"linearsearch\") {\n        // Linear Search uses the current, possibly unsorted, displayArray for steps\n        newSteps = getLinearSearchSteps(displayArray, target);\n      }\n      if (newSteps && newSteps.length > 0) {\n        setSteps(newSteps);\n        setCurrentStepIndex(0);\n        // Crucially, update the main inputArray state to the correct starting/sorted version for display\n        setInputArray(displayArray);\n      } else {\n        setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n      }\n    } catch (error) {\n      console.error('Algorithm Generation Failed:', error);\n      setLoadingError(`Algorithm generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView, searchTarget]);\n\n  // --- 2. Animation Timer Logic (Sorting/Search) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || !steps || currentStepIndex >= steps.length - 1 || !isAnimating) {\n      // Stop animation if complete or paused\n      if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        animationRef.current = null;\n      }\n      return;\n    }\n    const timeout = setTimeout(() => {\n      setCurrentStepIndex(prev => prev + 1);\n    }, speed);\n    animationRef.current = timeout;\n    return () => clearTimeout(timeout);\n  }, [currentStepIndex, steps, isAnimating, speed, currentView]);\n\n  // --- Utility for the Visualizer ---\n  const maxArrayValue = Math.max(...inputArray, 1);\n  const maxBarHeight = 350;\n  // Determine bar width in pixels\n  const arrayBarWidthPx = Math.max(10, Math.floor(600 / currentArray.length) - 2);\n\n  // --- Render Functions ---\n\n  // Component for Sorting/Searching\n  const ArrayVisualizer = () => {\n    var _currentStep$low, _currentStep$high, _currentStep$mid, _currentStep$found, _currentStep$current_;\n    const currentLow = (_currentStep$low = currentStep === null || currentStep === void 0 ? void 0 : currentStep.low) !== null && _currentStep$low !== void 0 ? _currentStep$low : -1;\n    const currentHigh = (_currentStep$high = currentStep === null || currentStep === void 0 ? void 0 : currentStep.high) !== null && _currentStep$high !== void 0 ? _currentStep$high : -1;\n    const currentMid = (_currentStep$mid = currentStep === null || currentStep === void 0 ? void 0 : currentStep.mid) !== null && _currentStep$mid !== void 0 ? _currentStep$mid : -1;\n    const isFound = (_currentStep$found = currentStep === null || currentStep === void 0 ? void 0 : currentStep.found) !== null && _currentStep$found !== void 0 ? _currentStep$found : false;\n    const currentLinearIndex = (_currentStep$current_ = currentStep === null || currentStep === void 0 ? void 0 : currentStep.current_index) !== null && _currentStep$current_ !== void 0 ? _currentStep$current_ : -1;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bg-white p-6 rounded-xl shadow-2xl\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        className: \"text-3xl font-bold text-gray-800 mb-6\",\n        children: isSearchAlgorithm ? 'Search Visualizer' : 'Sorting Visualizer'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1000,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center space-x-4 mb-6 p-4 border rounded-xl bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"algorithm-select\",\n            className: \"font-semibold text-gray-700\",\n            children: \"Algorithm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1007,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"algorithm-select\",\n            className: \"p-2 border border-gray-300 rounded-lg shadow-sm\",\n            value: selectedAlgorithm,\n            onChange: e => setSelectedAlgorithm(e.target.value),\n            disabled: isAnimating,\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"selectionsort\",\n              children: \"Selection Sort (O(n\\xB2))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1016,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"bubblesort\",\n              children: \"Bubble Sort (O(n\\xB2))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1017,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"quicksort\",\n              children: \"Quick Sort (O(n log n))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1018,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"mergesort\",\n              children: \"Merge Sort (O(n log n))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1019,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"shellsort\",\n              children: \"Shell Sort (O(n log\\xB2 n))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1020,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              disabled: true,\n              children: \"--- Search ---\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1021,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"linearsearch\",\n              children: \"Linear Search (O(n))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1023,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"binarysearch\",\n              children: \"Binary Search (O(log n))\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1024,\n              columnNumber: 25\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1008,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1006,\n          columnNumber: 17\n        }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2 ml-4\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"number\",\n            placeholder: \"Target Value\",\n            className: \"p-2 border border-gray-300 rounded-lg w-32 focus:ring-green-500 focus:border-green-500 transition-shadow\"\n            // Display the rounded value of the search target\n            ,\n            value: Math.round(Number(searchTarget)),\n            onChange: e => setSearchTarget(Number(e.target.value)),\n            onKeyDown: e => {\n              if (e.key === 'Enter') handleSearchClick();\n            },\n            disabled: isAnimating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1031,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors shadow-md disabled:bg-gray-400\",\n            onClick: handleSearchClick,\n            disabled: isAnimating || isNaN(searchTarget),\n            children: \"Start Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1043,\n            columnNumber: 25\n          }, this), selectedAlgorithm === 'binarysearch' && /*#__PURE__*/_jsxDEV(\"span\", {\n            className: \"text-sm text-red-500 font-semibold\",\n            children: \"(Array is auto-sorted for BS)\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1051,\n            columnNumber: 30\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1030,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1005,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex flex-wrap items-center space-x-4 mb-6 p-4 border rounded-xl bg-gray-50\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"array-size\",\n            className: \"font-semibold text-gray-700\",\n            children: [\"Array Size (\", arraySize, \"):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1060,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"array-size\",\n            type: \"range\",\n            min: \"5\",\n            max: \"50\",\n            value: arraySize,\n            onChange: e => {\n              const newSize = parseInt(e.target.value, 10);\n              handleGenerateNewArray(newSize);\n            },\n            className: \"w-40 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\",\n            disabled: isAnimating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1061,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1059,\n          columnNumber: 18\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"px-4 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600 transition-colors shadow-md disabled:bg-gray-400\",\n          onClick: () => handleGenerateNewArray(),\n          disabled: isAnimating,\n          children: \"Generate Random Array\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1076,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex items-center space-x-2\",\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Custom Array (e.g., 5,12,3,40)\",\n            className: \"p-2 border border-gray-300 rounded-lg w-56\",\n            value: customInputData,\n            onChange: e => setCustomInputData(e.target.value),\n            onKeyDown: e => {\n              if (e.key === 'Enter') handleLoadCustomArray();\n            },\n            disabled: isAnimating\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1085,\n            columnNumber: 22\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors shadow-md disabled:bg-gray-400\",\n            onClick: handleLoadCustomArray,\n            disabled: isAnimating,\n            children: \"Load Custom Array\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1096,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1084,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1058,\n        columnNumber: 13\n      }, this), loadingError && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg\",\n        children: [\"**Error/Status:** \", loadingError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1109,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"flex justify-center items-end h-[400px] w-full bg-gray-100 p-4 rounded-lg shadow-inner mb-6 overflow-x-auto\",\n        children: currentArray.map((value, index) => {\n          const isRange = index >= currentLow && index <= currentHigh;\n          return /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              position: 'relative'\n            },\n            children: [/*#__PURE__*/_jsxDEV(ArrayBar, {\n              value: value,\n              height: value / maxArrayValue * maxBarHeight,\n              width: arrayBarWidthPx,\n              isHighlighted: highlightIndices.includes(index),\n              isPivot: pivotIndex === index,\n              isSorted: sortedIndices.includes(index)\n              // Search Specific Props\n              ,\n              isSearchMid: selectedAlgorithm === 'binarysearch' && currentMid === index,\n              isSearchRange: selectedAlgorithm === 'binarysearch' && isRange,\n              isFound: isFound && (currentMid === index || currentLinearIndex === index),\n              isLinearCheck: selectedAlgorithm === 'linearsearch' && currentLinearIndex === index\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1122,\n              columnNumber: 29\n            }, this), selectedAlgorithm === 'binarysearch' && /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [currentLow === index && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute bottom-[-15px] left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-700\",\n                children: \"L\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1139,\n                columnNumber: 41\n              }, this), currentHigh === index && /*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"absolute bottom-[-15px] left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-700\",\n                children: \"H\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 1141,\n                columnNumber: 41\n              }, this)]\n            }, void 0, true)]\n          }, index, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1121,\n            columnNumber: 25\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1116,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"grid grid-cols-2 gap-6\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-blue-50 rounded-lg border border-blue-200\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-blue-700 mb-2\",\n            children: \"Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1154,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-gray-700 font-medium mb-2\",\n            children: [\"Step \", currentStepIndex, \" of \", steps !== null && steps !== void 0 && steps.length ? steps.length - 1 : 0, \"(\", Math.round(currentStepIndex / ((steps === null || steps === void 0 ? void 0 : steps.length) - 1 || 1) * 100), \"% Complete)\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1155,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-lg text-gray-900\",\n            children: [\"**Action:** \", (currentStep === null || currentStep === void 0 ? void 0 : currentStep.action) || \"Waiting for algorithm execution.\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1159,\n            columnNumber: 21\n          }, this), isSearchAlgorithm && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"text-sm text-gray-600 mt-1\",\n            children: [\"**Target:** \", currentStep === null || currentStep === void 0 ? void 0 : currentStep.search_target]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1163,\n            columnNumber: 26\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1153,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"p-4 bg-gray-100 rounded-lg border border-gray-300\",\n          children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n            className: \"text-xl font-bold text-gray-700 mb-2\",\n            children: \"Controls\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 1171,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex justify-between items-center mb-3\",\n            children: [/*#__PURE__*/_jsxDEV(\"label\", {\n              htmlFor: \"speed-slider\",\n              className: \"font-semibold text-gray-600\",\n              children: [\"Speed (\", speed, \" ms):\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 1173,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n              id: \"speed-slider\",\n              type: \"range\",\n              min: \"50\",\n              max: \"500\",\n              step: \"50\",\n              value: speed,\n              onChange: e => setSpeed(parseInt(e.target.value, 10)),\n              className: \"w-32 h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer range-sm\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1174,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1172,\n            columnNumber: 21\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"flex space-x-2\",\n            children: [/*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-3 py-2 bg-indigo-500 text-white font-semibold rounded-lg hover:bg-indigo-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\",\n              onClick: () => setCurrentStepIndex(0),\n              disabled: isAnimating || currentStepIndex === 0,\n              children: \"Restart\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1187,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-3 py-2 bg-purple-500 text-white font-semibold rounded-lg hover:bg-purple-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\",\n              onClick: () => setIsAnimating(prev => !prev),\n              disabled: !steps || steps.length === 0 || isSortingComplete,\n              children: isAnimating ? 'Pause' : 'Play'\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1194,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-3 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\",\n              onClick: () => setCurrentStepIndex(prev => Math.max(0, prev - 1)),\n              disabled: isAnimating || currentStepIndex === 0,\n              children: \"Prev\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1201,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-3 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\",\n              onClick: () => setCurrentStepIndex(prev => Math.min(steps.length - 1, prev + 1)),\n              disabled: isAnimating || isSortingComplete,\n              children: \"Next\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1208,\n              columnNumber: 25\n            }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n              className: \"px-3 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\",\n              onClick: () => setCurrentStepIndex(steps.length - 1),\n              disabled: isAnimating || isSortingComplete,\n              children: \"Skip\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 1215,\n              columnNumber: 26\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 1186,\n            columnNumber: 21\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1170,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1150,\n        columnNumber: 14\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"text-xl font-bold text-gray-800 mb-2\",\n          children: [\"Pseudocode: \", selectedAlgorithm.toUpperCase()]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 1228,\n          columnNumber: 17\n        }, this), /*#__PURE__*/_jsxDEV(\"pre\", {\n          className: \"whitespace-pre-wrap text-sm text-gray-700 bg-white p-3 rounded border overflow-auto max-h-60\",\n          children: currentPseudocode ? currentPseudocode.join('\\n') : 'Select an algorithm to view pseudocode.'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 1229,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 1227,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 998,\n      columnNumber: 9\n    }, this);\n  };\n\n  // Main App Return\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-8 bg-gray-100 min-h-screen\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex justify-center space-x-4 mb-8\",\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        className: `px-6 py-2 rounded-lg font-bold transition-all ${currentView === 'sort' ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gray-200'}`,\n        onClick: () => setCurrentView('sort'),\n        children: \"Sorting & Searching Visualizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1242,\n        columnNumber: 13\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        className: `px-6 py-2 rounded-lg font-bold transition-all ${currentView === 'bst' ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gray-200'}`,\n        onClick: () => setCurrentView('bst'),\n        children: \"BST Visualizer (Dummy)\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1248,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 1241,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"max-w-7xl mx-auto\",\n      children: currentView === 'sort' ? /*#__PURE__*/_jsxDEV(ArrayVisualizer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1257,\n        columnNumber: 39\n      }, this) : /*#__PURE__*/_jsxDEV(BSTVisualizer, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 1257,\n        columnNumber: 61\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 1256,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 1240,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"eGaDZmfqXfr5LxKy3VvFxvZI7LM=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ArrayBar$React.memo\");\n$RefreshReg$(_c2, \"ArrayBar\");\n$RefreshReg$(_c3, \"BSTVisualizer\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useRef","jsxDEV","_jsxDEV","Fragment","_Fragment","ArrayBar","memo","_c","value","height","width","isHighlighted","isPivot","isSorted","isSearchMid","isSearchRange","isFound","isLinearCheck","color","opacity","finalWidth","style","margin","backgroundColor","transition","borderRadius","display","alignItems","justifyContent","fontSize","fontWeight","position","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","BSTVisualizer","_s","treeData","setTreeData","inputValue","setInputValue","message","setMessage","insertNode","data","left","right","handleInsert","num","parseInt","isNaN","newTreeData","length","push","renderTree","node","padding","border","marginTop","marginRight","borderRight","marginLeft","borderLeft","className","gap","marginBottom","type","onChange","e","target","placeholder","minWidth","onClick","cursor","minHeight","textAlign","_c3","DEFAULT_ARRAY_SIZE","MAX_ARRAY_VALUE","MIN_ARRAY_VALUE","ANIMATION_SPEED_MS","PSEUDOCODE","bubblesort","mergesort","quicksort","shellsort","selectionsort","binarysearch","linearsearch","generateRandomArray","size","Array","from","Math","floor","random","parseCustomArray","inputString","elements","split","map","s","trim","min","filter","n","getBubbleSortSteps","initialArray","array","steps","sortedIndices","i","swapped","j","highlight_indices","action","sorted_indices","k","includes","finalSortedIndices","_","getMergeSortSteps","merge","arr","start","mid","end","slice","idx","mergeSortHelper","getQuickSortSteps","recordStep","pivot_index","partition","low","high","pivot","pivotIndex","sortedIndicesTracker","quickSortHelper","pi","getShellSortSteps","current_gap","temp","getSelectionSortSteps","min_index","minIndex","getBinarySearchSteps","found","search_target","getLinearSearchSteps","foundIndex","current_index","App","_s2","currentView","setCurrentView","setSteps","currentStepIndex","setCurrentStepIndex","selectedAlgorithm","setSelectedAlgorithm","loadingError","setLoadingError","inputArray","setInputArray","arraySize","setArraySize","customInputData","setCustomInputData","speed","setSpeed","searchTarget","setSearchTarget","isAnimating","setIsAnimating","animationRef","currentStep","currentArray","highlightIndices","isSortingComplete","currentPseudocode","isSearchAlgorithm","isSupportedAlgorithm","handleGenerateNewArray","newArray","handleLoadCustomArray","handleSearchClick","prev","Number","setTimeout","current","clearTimeout","isSearchAlgo","processedArray","val","displayArray","sort","a","b","newSteps","round","error","console","timeout","maxArrayValue","max","maxBarHeight","arrayBarWidthPx","ArrayVisualizer","_currentStep$low","_currentStep$high","_currentStep$mid","_currentStep$found","_currentStep$current_","currentLow","currentHigh","currentMid","currentLinearIndex","htmlFor","id","disabled","onKeyDown","key","newSize","index","isRange","step","toUpperCase","join","_c4","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback, useRef } from 'react'; // Added useRef for animation loop\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nconst ArrayBar = React.memo(({ value, height, width, isHighlighted, isPivot, isSorted, isSearchMid, isSearchRange, isFound, isLinearCheck }) => {\n    // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot/MinIndex\n    let color = '#007bff'; // Default Blue\n    \n    // --- Search Mode Logic ---\n    let opacity = '1';\n    \n    // Binary Search Specific Colors\n    if (isSearchMid || isSearchRange || isFound) {\n        // Elements in the current search range\n        color = '#3b82f6'; // Light Blue\n        opacity = '1';\n        \n        if (isSearchMid) {\n            // Mid element\n            color = '#f59e0b'; // Amber/Mid\n        }\n        \n        if (isFound) {\n            // Found element\n            color = '#10b981'; // Emerald/Found\n        }\n    } else if (isSearchMid === false && isSearchRange === false && value) { \n        // Excluded elements during Binary Search\n        opacity = '0.3';\n        color = '#9ca3af'; // Gray\n    }\n    \n    // Linear Search Specific Color\n    if (isLinearCheck) {\n        color = '#FF5733'; // Orange for comparison/swap\n        if (isFound) {\n            color = '#10b981'; // Emerald/Found\n        }\n    }\n\n\n    // --- Sorting Mode Logic (Applied if not in active search highlight) ---\n    // Sorting highlights take precedence over default color, but not active search checks\n    if (isSorted) {\n        color = '#4CAF50';\n        opacity = '1';\n    } else if (isPivot) {\n        color = '#8A2BE2'; // BlueViolet for Pivot/MinIndex\n    } else if (isHighlighted && !isSearchRange && !isSearchMid && !isLinearCheck) {\n        color = '#FF5733'; // Orange for comparison/swap\n    }\n\n    const finalWidth = width > 0 ? `${width}px` : 'auto';\n\n    return (\n        <div \n            style={{\n                height: `${height}px`,\n                width: finalWidth,\n                margin: '0 1px',\n                backgroundColor: color,\n                transition: 'height 0.1s linear, background-color 0.1s linear, opacity 0.1s linear',\n                borderRadius: '2px 2px 0 0',\n                display: 'flex',\n                alignItems: 'flex-end',\n                justifyContent: 'center',\n                fontSize: '10px',\n                color: 'white',\n                fontWeight: 'bold',\n                position: 'relative',\n                opacity: opacity,\n            }}\n            title={`Value: ${value}`}\n        >\n            {/* Show value for smaller arrays */}\n            {width > 20 && value}\n        </div>\n    );\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\nconst BSTVisualizer = () => {\n    const [treeData, setTreeData] = useState([]);\n    const [inputValue, setInputValue] = useState('');\n    const [message, setMessage] = useState('Enter a number to build the BST.');\n\n    const insertNode = useCallback((data, value) => {\n        if (!data) return { value: value, left: null, right: null };\n        if (value < data.value) {\n            data.left = insertNode(data.left, value);\n        } else if (value > data.value) {\n            data.right = insertNode(data.right, value);\n        }\n        return data;\n    }, []);\n\n    const handleInsert = () => {\n        const num = parseInt(inputValue);\n        if (isNaN(num)) {\n            setMessage('Please enter a valid number.');\n            return;\n        }\n\n        let newTreeData = [...treeData];\n        if (newTreeData.length === 0) {\n            newTreeData.push({ value: num, left: null, right: null });\n        } else {\n            newTreeData = [insertNode(newTreeData[0], num)];\n        }\n\n        setTreeData(newTreeData);\n        setInputValue('');\n        setMessage(`Inserted ${num}. Try inserting another number.`);\n    };\n\n    const renderTree = (node) => {\n        if (!node) return null;\n        return (\n            <div style={{ margin: '10px', padding: '10px', border: '1px solid #ccc', borderRadius: '8px', display: 'inline-block', backgroundColor: '#e9f7ff' }}>\n                <p style={{ fontWeight: 'bold', margin: 0 }}>Root: {node.value}</p>\n                <div style={{ display: 'flex', justifyContent: 'center', marginTop: '10px' }}>\n                    {node.left && <div style={{ marginRight: '10px', borderRight: '1px dashed #ccc' }}>L: {renderTree(node.left)}</div>}\n                    {node.right && <div style={{ marginLeft: '10px', borderLeft: '1px dashed #ccc' }}>R: {renderTree(node.right)}</div>}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <h1>Binary Search Tree Visualizer</h1>\n            <p className=\"text-sm text-gray-600\">{message}</p>\n            <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\n                <input\n                    type=\"number\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    placeholder=\"Enter number\"\n                    style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px', minWidth: '150px' }}\n                />\n                <button \n                    onClick={handleInsert} \n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n                >\n                    Insert Node\n                </button>\n            </div>\n            \n            <div style={{ \n                minHeight: '400px', \n                backgroundColor: '#f9f9f9', \n                padding: '20px', \n                border: '1px solid #eee',\n                borderRadius: '8px',\n                textAlign: 'center'\n            }}>\n                {treeData.length > 0 ? (\n                    renderTree(treeData[0])\n                ) : (\n                    <p style={{marginTop: '150px', color: '#888'}}>Tree is empty. Insert the first node!</p>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n// --- Constants ---\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400; \nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80; \n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n    bubblesort: [\n        \"function bubbleSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    for j from 0 to n - 2 - i:\",\n        \"      // Compare & Highlight array[j] and array[j+1]\",\n        \"      if array[j] > array[j+1]:\",\n        \"        // Swap elements\",\n        \"        swap(array[j], array[j+1])\",\n        \"  return array\"\n    ],\n    mergesort: [\n        \"function mergeSort(array):\",\n        \"  if array.length <= 1: return array\",\n        \"  mid = floor(array.length / 2)\",\n        \"  left = mergeSort(array[0...mid])\",\n        \"  right = mergeSort(array[mid...n])\",\n        \"  return merge(left, right)\",\n        \"\",\n        \"function merge(left, right):\",\n        \"  // Merging sub-arrays and placing back into the original array...\",\n        \"  result = []\",\n        \"  while left & right are not empty:\",\n        \"    if left[0] <= right[0]:\",\n        \"      result.push(left.shift())\",\n        \"    else:\",\n        \"      result.push(right.shift())\",\n        \"  return result + left + right\"\n    ],\n    quicksort: [\n        \"function quickSort(array, low, high):\",\n        \"  if low < high:\",\n        \"    // Partition the array\",\n        \"    pi = partition(array, low, high)\",\n        \"    // Recursively sort left and right sub-arrays\",\n        \"    quickSort(array, low, pi - 1)\",\n        \"    quickSort(array, pi + 1, high)\",\n        \"\",\n        \"function partition(array, low, high):\",\n        \"  pivot = array[high] // Choose the last element as pivot\",\n        \"  i = low - 1\",\n        \"  for j from low to high - 1:\",\n        \"    if array[j] < pivot:\",\n        \"      i++\",\n        \"      swap(array[i], array[j])\",\n        \"  swap(array[i+1], array[high])\",\n        \"  return i + 1\"\n    ],\n    shellsort: [\n        \"function shellSort(array):\",\n        \"  n = array.length\",\n        \"  gap = floor(n / 2)\",\n        \"  while gap > 0:\",\n        \"    // Perform gapped insertion sort\",\n        \"    for i from gap to n - 1:\",\n        \"      temp = array[i]\",\n        \"      j = i\",\n        \"      while j >= gap and array[j - gap] > temp:\",\n        \"        // Shift elements (Highlight comparison and shift)\",\n        \"        array[j] = array[j - gap]\",\n        \"        j = j - gap\",\n        \"      // Place temp (Highlight placement)\",\n        \"      array[j] = temp\",\n        \"    gap = floor(gap / 2) // Reduce the gap\"\n    ],\n    selectionsort: [\n        \"function selectionSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    // Assume current position i holds the minimum\",\n        \"    minIndex = i\",\n        \"    for j from i + 1 to n - 1:\",\n        \"      // Highlight comparison between array[j] and array[minIndex]\",\n        \"      if array[j] < array[minIndex]:\",\n        \"        // Update the index of the minimum element\",\n        \"        minIndex = j\",\n        \"    // If a smaller element was found, swap it into position i\",\n        \"    if minIndex is not i:\",\n        \"      swap(array[i], array[minIndex])\",\n        \"    // Position i is finalized\",\n        \"  return array\"\n    ],\n    binarysearch: [\n        \"function binarySearch(array, target):\",\n        \"  // Array MUST be sorted\",\n        \"  low = 0\",\n        \"  high = array.length - 1\",\n        \"  while low <= high:\",\n        \"    mid = floor((low + high) / 2)\",\n        \"    // Highlight mid element (array[mid])\",\n        \"    if array[mid] == target:\",\n        \"      return mid\",\n        \"    else if array[mid] < target:\",\n        \"      // Search right (New Low = mid + 1)\",\n        \"      low = mid + 1\",\n        \"    else:\",\n        \"      // Search left (New High = mid - 1)\",\n        \"      high = mid - 1\",\n        \"  return -1\"\n    ],\n    linearsearch: [\n        \"function linearSearch(array, target):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 1:\",\n        \"    // Highlight array[i]\",\n        \"    if array[i] == target:\",\n        \"      return i\",\n        \"  return -1\"\n    ]\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = (size) => {\n    return Array.from({ length: size }, () => \n        Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE\n    );\n};\n\nconst parseCustomArray = (inputString) => {\n    const elements = inputString.split(',')\n        .map(s => {\n            const num = parseInt(s.trim());\n            return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n        })\n        .filter(n => n !== null);\n    return elements;\n};\n\n// --- CLIENT-SIDE ALGORITHM LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization.\n */\nconst getBubbleSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    for (let i = 0; i < n - 1; i++) {\n        let swapped = false;\n        for (let j = 0; j < n - 1 - i; j++) {\n            // 1. Highlight comparison\n            steps.push({\n                array: [...array], \n                highlight_indices: [j, j + 1], \n                action: `Comparing array[${j}] and array[${j + 1}]`,\n                sorted_indices: [...sortedIndices]\n            });\n\n            if (array[j] > array[j + 1]) {\n                // 2. Swap\n                [array[j], array[j + 1]] = [array[j + 1], array[j]];\n                swapped = true;\n                steps.push({\n                    array: [...array], \n                    highlight_indices: [j, j + 1], \n                    action: `Swapping ${array[j+1]} and ${array[j]}`, \n                    sorted_indices: [...sortedIndices]\n                });\n            }\n        }\n        \n        if (n - 1 - i >= 0) {\n            sortedIndices.push(n - 1 - i);\n        }\n\n        if (!swapped) {\n            for (let k = 0; k < n - 1 - i; k++) {\n                if (!sortedIndices.includes(k)) {\n                     sortedIndices.push(k);\n                }\n            }\n            break;\n        }\n    }\n\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Bubble Sort\",\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization.\n */\nconst getMergeSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    \n    const merge = (arr, start, mid, end) => {\n        const left = arr.slice(start, mid);\n        const right = arr.slice(mid, end);\n        let i = 0, j = 0, k = start;\n\n        steps.push({\n            array: [...array],\n            highlight_indices: Array.from({ length: end - start }, (_, idx) => start + idx),\n            action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n            sorted_indices: []\n        });\n\n        while (i < left.length && j < right.length) {\n            if (left[i] <= right[j]) {\n                array[k] = left[i];\n                i++;\n            } else {\n                array[k] = right[j];\n                j++;\n            }\n            k++;\n            \n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1], \n                action: `Placing element at index ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n\n        while (i < left.length) {\n            array[k] = left[i];\n            i++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from left half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        while (j < right.length) {\n            array[k] = right[j];\n            j++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from right half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        \n        steps.push({\n            array: [...array],\n            highlight_indices: [],\n            action: `Merged segment complete from index ${start} to ${end - 1}`,\n            sorted_indices: [] \n        });\n    };\n\n    const mergeSortHelper = (arr, start, end) => {\n        if (end - start <= 1) return;\n        \n        const mid = Math.floor((start + end) / 2);\n        mergeSortHelper(arr, start, mid);\n        mergeSortHelper(arr, mid, end);\n        merge(arr, start, mid, end);\n    };\n\n    mergeSortHelper(array, 0, array.length);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Merge Sort\",\n        sorted_indices: finalSortedIndices\n    });\n    \n    return steps;\n};\n\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme).\n */\nconst getQuickSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n\n    const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: pivot_index,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    const partition = (arr, low, high, sortedIndices) => {\n        const pivot = arr[high]; \n        let i = low - 1; \n\n        recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n\n        for (let j = low; j <= high - 1; j++) {\n            recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n            \n            if (arr[j] < pivot) {\n                i++;\n                [arr[i], arr[j]] = [arr[j], arr[i]];\n                recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n            }\n        }\n\n        const pivotIndex = i + 1;\n        [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n        \n        recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n\n        return pivotIndex;\n    };\n\n    const sortedIndicesTracker = [];\n\n    const quickSortHelper = (arr, low, high) => {\n        if (low < high) {\n            const pi = partition(arr, low, high, sortedIndicesTracker);\n\n            if (!sortedIndicesTracker.includes(pi)) {\n                sortedIndicesTracker.push(pi);\n            }\n\n            quickSortHelper(arr, low, pi - 1);\n            quickSortHelper(arr, pi + 1, high);\n        } else if (low === high && low >= 0) {\n            if (!sortedIndicesTracker.includes(low)) {\n                sortedIndicesTracker.push(low);\n                recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n            }\n        }\n    };\n\n    quickSortHelper(array, 0, array.length - 1);\n\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        action: \"Finished Quick Sort\",\n        highlight_indices: [],\n        pivot_index: null,\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization.\n */\nconst getShellSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let gap = Math.floor(n / 2);\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            gap: current_gap,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    while (gap > 0) {\n        recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n\n        for (let i = gap; i < n; i++) {\n            const temp = array[i];\n            let j = i;\n\n            recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n            while (j >= gap && array[j - gap] > temp) {\n                recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n                \n                array[j] = array[j - gap];\n                \n                recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n                \n                j -= gap;\n            }\n            \n            array[j] = temp;\n            \n            recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        }\n\n        gap = Math.floor(gap / 2);\n    }\n    \n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n\n    return steps;\n};\n\n/**\n * Generates steps for Selection Sort visualization.\n */\nconst getSelectionSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    const recordStep = (action, highlight_indices = [], min_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: min_index, \n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    for (let i = 0; i < n - 1; i++) {\n        let minIndex = i;\n        \n        recordStep(`Starting pass ${i + 1}. Assume minimum is ${array[i]} at index ${i}.`, [], minIndex, sortedIndices);\n\n        for (let j = i + 1; j < n; j++) {\n            recordStep(`Comparing ${array[j]} at ${j} with current minimum ${array[minIndex]} at ${minIndex}.`, [j], minIndex, sortedIndices);\n\n            if (array[j] < array[minIndex]) {\n                minIndex = j;\n                recordStep(`New minimum found: ${array[minIndex]} at index ${minIndex}.`, [j], minIndex, sortedIndices);\n            }\n        }\n\n        if (minIndex !== i) {\n            [array[i], array[minIndex]] = [array[minIndex], array[i]];\n            recordStep(`Swapping ${array[i]} (new smallest) with ${array[minIndex]} (current position) to place smallest element at ${i}.`, [i, minIndex], null, sortedIndices);\n        } else {\n             recordStep(`Element at ${i} is already the smallest in the unsorted portion.`, [], null, sortedIndices);\n        }\n        \n        sortedIndices.push(i);\n        recordStep(`Position ${i} is finalized (Sorted).`, [], null, sortedIndices);\n    }\n    \n    if (n > 0 && !sortedIndices.includes(n - 1)) {\n        sortedIndices.push(n - 1);\n    }\n\n    const finalSortedIndices = Array.from({ length: n }, (_, k) => k);\n    recordStep(\"Finished Selection Sort\", [], null, finalSortedIndices);\n\n    return steps;\n};\n\n/**\n * Generates steps for Binary Search visualization.\n */\nconst getBinarySearchSteps = (arr, target) => {\n    const steps = [];\n    const array = [...arr];\n\n    steps.push({\n        array: [...array],\n        action: `Search started for target ${target}. Array must be sorted.`,\n        low: 0,\n        high: array.length - 1,\n        mid: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [], \n    });\n\n    let low = 0;\n    let high = array.length - 1;\n    let found = false;\n    let mid = -1;\n\n    while (low <= high) {\n        mid = Math.floor((low + high) / 2);\n\n        steps.push({\n            array: [...array],\n            action: `Checking mid element at index ${mid}: Value is ${array[mid]}`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: false,\n            search_target: target,\n            highlight_indices: [mid],\n        });\n\n        if (array[mid] === target) {\n            found = true;\n            break;\n        } else if (array[mid] < target) {\n            low = mid + 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is greater than ${array[mid]}. Searching right half (New Low: ${low}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n            });\n        } else {\n            high = mid - 1;\n            steps.push({\n                array: [...array],\n                action: `Target (${target}) is less than ${array[mid]}. Searching left half (New High: ${high}).`,\n                low: low,\n                high: high,\n                mid: mid,\n                found: false,\n                search_target: target,\n                highlight_indices: [],\n            });\n        }\n    }\n\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${mid}. Search complete.`,\n            low: low,\n            high: high,\n            mid: mid,\n            found: true,\n            search_target: target,\n            highlight_indices: [mid],\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found. Low (${low}) > High (${high}).`,\n            low: low,\n            high: high,\n            mid: -1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n        });\n    }\n\n    return steps;\n};\n\n/**\n * Generates steps for Linear Search visualization.\n */\nconst getLinearSearchSteps = (arr, target) => {\n    const steps = [];\n    const array = [...arr];\n    const n = array.length;\n    let found = false;\n    let foundIndex = -1;\n\n    // Initial state tracking\n    steps.push({\n        array: [...array],\n        action: `Linear Search started for target ${target}.`,\n        current_index: -1,\n        found: false,\n        search_target: target,\n        highlight_indices: [],\n    });\n\n    for (let i = 0; i < n; i++) {\n        \n        // Track comparison\n        steps.push({\n            array: [...array],\n            action: `Comparing element at index ${i}: Value is ${array[i]}`,\n            current_index: i, // Index currently being checked\n            found: false,\n            search_target: target,\n            highlight_indices: [i], // Highlight the current index\n        });\n        \n        if (array[i] === target) {\n            found = true;\n            foundIndex = i;\n            break;\n        }\n\n        // Track comparison failure (if not found)\n        steps.push({\n            array: [...array],\n            action: `Value ${array[i]} does not match ${target}. Moving to next index.`,\n            current_index: i,\n            found: false,\n            search_target: target,\n            highlight_indices: [], \n        });\n    }\n\n    // Final result tracking\n    if (found) {\n        steps.push({\n            array: [...array],\n            action: `SUCCESS! Target ${target} found at index ${foundIndex}. Search complete.`,\n            current_index: foundIndex,\n            found: true,\n            search_target: target,\n            highlight_indices: [foundIndex],\n        });\n    } else {\n        steps.push({\n            array: [...array],\n            action: `FAILURE! Target ${target} not found after checking all elements. Search complete.`,\n            current_index: n - 1,\n            found: false,\n            search_target: target,\n            highlight_indices: [],\n        });\n    }\n\n    return steps;\n};\n\n\nfunction App() {\n  const [currentView, setCurrentView] = useState('sort'); \n    \n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"linearsearch\"); // Changed default to new algorithm\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n  \n  // NEW STATE FOR SEARCH ALGORITHMS\n  const [searchTarget, setSearchTarget] = useState(50); \n  \n  // Animation State\n  const [isAnimating, setIsAnimating] = useState(false);\n  const animationRef = useRef(null);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  // If we are showing Linear Search, we may need the unsorted array, but for sorting/BS, the array in steps is definitive.\n  const currentArray = currentStep ? currentStep.array : inputArray; \n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null;\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1; \n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  \n  const isSearchAlgorithm = selectedAlgorithm === 'binarysearch' || selectedAlgorithm === 'linearsearch';\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\", \"selectionsort\", \"binarysearch\", \"linearsearch\"].includes(selectedAlgorithm); \n\n  // --- Handlers ---\n  const handleGenerateNewArray = (size = arraySize) => {\n      const newArray = generateRandomArray(size);\n      setInputArray(newArray);\n      setCustomInputData(\"\"); \n      setArraySize(size);\n      // Set a default search target from the new array\n      if (isSearchAlgorithm && newArray.length > 0) {\n          setSearchTarget(newArray[Math.floor(newArray.length / 2)]); \n      } else {\n          setSearchTarget(50);\n      }\n  };\n  \n  const handleLoadCustomArray = () => {\n      const newArray = parseCustomArray(customInputData);\n      if (newArray.length > 0) {\n          setInputArray(newArray);\n          setArraySize(newArray.length); \n          setLoadingError(null);\n          // Set a default search target from the new array\n          if (isSearchAlgorithm && newArray.length > 0) {\n            setSearchTarget(newArray[Math.floor(newArray.length / 2)]);\n          } else {\n            setSearchTarget(50);\n          }\n      } else {\n          setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n      }\n  };\n  \n  // Function to re-run the search on button click\n  const handleSearchClick = () => {\n    // Force regeneration in useEffect by toggling a value or ensuring the target state is updated\n    // Updating target with a slightly modified value ensures useEffect runs even if array/algo didn't change.\n    setSearchTarget(prev => {\n        const num = Number(prev);\n        // This is a common pattern to force re-render when dependencies haven't logically changed.\n        return num + 0.0000001; \n    });\n    // The value will be coerced back to the nearest integer in the useEffect/algorithm, \n    // but the state change triggers the visualization update.\n    // Immediately set it back to the clean number for display purposes, but use a timeout \n    // so the useEffect logic runs first based on the temporary fractional value.\n    setTimeout(() => setSearchTarget(Number(searchTarget)), 0);\n  };\n\n\n  // --- 1. Generate Data on Array/Algorithm/Target Change (Sorting/Search only) ---\n  useEffect(() => {\n    // Resetting animation when starting a new visualization\n    if (animationRef.current) {\n        clearTimeout(animationRef.current);\n        setIsAnimating(false);\n    }\n    \n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    \n    const isSearchAlgo = selectedAlgorithm === \"binarysearch\" || selectedAlgorithm === \"linearsearch\"; \n\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    \n    if (!isSupportedAlgorithm) { \n        setLoadingError(`Algorithm ${selectedAlgorithm} is unsupported.`);\n        return; \n    }\n    \n    let processedArray = inputArray.map(val => Number(val));\n    let displayArray = [...inputArray]; // Array shown in the UI\n\n    // Binary Search REQUIRES a sorted array.\n    if (selectedAlgorithm === \"binarysearch\") {\n        processedArray.sort((a, b) => a - b);\n        displayArray = processedArray; // Update display to sorted version\n    } else if (selectedAlgorithm !== \"linearsearch\") {\n        // Sorting algorithms may or may not start with the processed array being the current inputArray\n        // but the steps will ultimately show the progression.\n        processedArray = [...inputArray]; \n    }\n    \n    let newSteps = [];\n\n    try {\n        const target = isNaN(Number(searchTarget)) ? 0 : Math.round(Number(searchTarget)); // Use round to handle fractional target updates\n\n        if (selectedAlgorithm === \"bubblesort\") {\n            newSteps = getBubbleSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"mergesort\") {\n            newSteps = getMergeSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"quicksort\") { \n            newSteps = getQuickSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"shellsort\") { \n            newSteps = getShellSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"selectionsort\") { \n             newSteps = getSelectionSortSteps(processedArray);\n        } else if (selectedAlgorithm === \"binarysearch\") { \n             newSteps = getBinarySearchSteps(processedArray, target);\n        } else if (selectedAlgorithm === \"linearsearch\") {\n             // Linear Search uses the current, possibly unsorted, displayArray for steps\n             newSteps = getLinearSearchSteps(displayArray, target);\n        }\n        \n        if (newSteps && newSteps.length > 0) {\n            setSteps(newSteps);\n            setCurrentStepIndex(0); \n            // Crucially, update the main inputArray state to the correct starting/sorted version for display\n            setInputArray(displayArray); \n        } else {\n             setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n        }\n        \n    } catch (error) {\n        console.error('Algorithm Generation Failed:', error);\n        setLoadingError(`Algorithm generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n    \n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView, searchTarget]); \n\n\n  // --- 2. Animation Timer Logic (Sorting/Search) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || !steps || currentStepIndex >= steps.length - 1 || !isAnimating) {\n        // Stop animation if complete or paused\n        if (animationRef.current) {\n            clearTimeout(animationRef.current);\n            animationRef.current = null;\n        }\n        return;\n    }\n\n    const timeout = setTimeout(() => {\n      setCurrentStepIndex(prev => prev + 1);\n    }, speed);\n\n    animationRef.current = timeout;\n    \n    return () => clearTimeout(timeout);\n  }, [currentStepIndex, steps, isAnimating, speed, currentView]);\n\n  // --- Utility for the Visualizer ---\n  const maxArrayValue = Math.max(...inputArray, 1);\n  const maxBarHeight = 350; \n  // Determine bar width in pixels\n  const arrayBarWidthPx = Math.max(10, Math.floor(600 / currentArray.length) - 2);\n\n\n  // --- Render Functions ---\n  \n  // Component for Sorting/Searching\n  const ArrayVisualizer = () => {\n      \n      const currentLow = currentStep?.low ?? -1;\n      const currentHigh = currentStep?.high ?? -1;\n      const currentMid = currentStep?.mid ?? -1;\n      const isFound = currentStep?.found ?? false;\n      const currentLinearIndex = currentStep?.current_index ?? -1;\n\n\n      return (\n        <div className=\"bg-white p-6 rounded-xl shadow-2xl\">\n            \n            <h2 className=\"text-3xl font-bold text-gray-800 mb-6\">\n                {isSearchAlgorithm ? 'Search Visualizer' : 'Sorting Visualizer'}\n            </h2>\n\n            {/* Algorithm Selection and Input */}\n            <div className=\"flex flex-wrap items-center space-x-4 mb-6 p-4 border rounded-xl bg-gray-50\">\n                <div className=\"flex items-center space-x-2\">\n                    <label htmlFor=\"algorithm-select\" className=\"font-semibold text-gray-700\">Algorithm:</label>\n                    <select\n                        id=\"algorithm-select\"\n                        className=\"p-2 border border-gray-300 rounded-lg shadow-sm\"\n                        value={selectedAlgorithm}\n                        onChange={(e) => setSelectedAlgorithm(e.target.value)}\n                        disabled={isAnimating}\n                    >\n                        {/* Sorting Algorithms */}\n                        <option value=\"selectionsort\">Selection Sort (O(n))</option>\n                        <option value=\"bubblesort\">Bubble Sort (O(n))</option>\n                        <option value=\"quicksort\">Quick Sort (O(n log n))</option>\n                        <option value=\"mergesort\">Merge Sort (O(n log n))</option>\n                        <option value=\"shellsort\">Shell Sort (O(n log n))</option>\n                        <option disabled>--- Search ---</option>\n                        {/* Search Algorithms */}\n                        <option value=\"linearsearch\">Linear Search (O(n))</option>\n                        <option value=\"binarysearch\">Binary Search (O(log n))</option>\n                    </select>\n                </div>\n\n                {/* Search Input */}\n                {isSearchAlgorithm && (\n                    <div className=\"flex items-center space-x-2 ml-4\">\n                        <input\n                            type=\"number\"\n                            placeholder=\"Target Value\"\n                            className=\"p-2 border border-gray-300 rounded-lg w-32 focus:ring-green-500 focus:border-green-500 transition-shadow\"\n                            // Display the rounded value of the search target\n                            value={Math.round(Number(searchTarget))} \n                            onChange={(e) => setSearchTarget(Number(e.target.value))}\n                            onKeyDown={(e) => {\n                                if (e.key === 'Enter') handleSearchClick();\n                            }}\n                            disabled={isAnimating}\n                        />\n                        <button\n                            className=\"px-4 py-2 bg-green-500 text-white font-semibold rounded-lg hover:bg-green-600 transition-colors shadow-md disabled:bg-gray-400\"\n                            onClick={handleSearchClick}\n                            disabled={isAnimating || isNaN(searchTarget)}\n                        >\n                            Start Search\n                        </button>\n                         {selectedAlgorithm === 'binarysearch' && \n                             <span className=\"text-sm text-red-500 font-semibold\">(Array is auto-sorted for BS)</span>\n                         }\n                    </div>\n                )}\n            </div>\n            \n            {/* Array Controls (Always visible for array manipulation) */}\n            <div className=\"flex flex-wrap items-center space-x-4 mb-6 p-4 border rounded-xl bg-gray-50\">\n                 <div className=\"flex items-center space-x-2\">\n                    <label htmlFor=\"array-size\" className=\"font-semibold text-gray-700\">Array Size ({arraySize}):</label>\n                    <input\n                        id=\"array-size\"\n                        type=\"range\"\n                        min=\"5\"\n                        max=\"50\"\n                        value={arraySize}\n                        onChange={(e) => {\n                            const newSize = parseInt(e.target.value, 10);\n                            handleGenerateNewArray(newSize);\n                        }}\n                        className=\"w-40 h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer range-lg\"\n                        disabled={isAnimating}\n                    />\n                </div>\n                \n                <button\n                    className=\"px-4 py-2 bg-yellow-500 text-white font-semibold rounded-lg hover:bg-yellow-600 transition-colors shadow-md disabled:bg-gray-400\"\n                    onClick={() => handleGenerateNewArray()}\n                    disabled={isAnimating}\n                >\n                    Generate Random Array\n                </button>\n                \n                <div className=\"flex items-center space-x-2\">\n                     <input\n                        type=\"text\"\n                        placeholder=\"Custom Array (e.g., 5,12,3,40)\"\n                        className=\"p-2 border border-gray-300 rounded-lg w-56\"\n                        value={customInputData}\n                        onChange={(e) => setCustomInputData(e.target.value)}\n                        onKeyDown={(e) => {\n                            if (e.key === 'Enter') handleLoadCustomArray();\n                        }}\n                        disabled={isAnimating}\n                    />\n                    <button\n                        className=\"px-4 py-2 bg-blue-500 text-white font-semibold rounded-lg hover:bg-blue-600 transition-colors shadow-md disabled:bg-gray-400\"\n                        onClick={handleLoadCustomArray}\n                        disabled={isAnimating}\n                    >\n                        Load Custom Array\n                    </button>\n                </div>\n            </div>\n\n\n            {/* Error and Status Display */}\n            {loadingError && (\n                 <div className=\"mb-4 p-3 bg-red-100 border border-red-400 text-red-700 rounded-lg\">\n                    **Error/Status:** {loadingError}\n                </div>\n            )}\n            \n            \n            {/* Visualization Area */}\n            <div className=\"flex justify-center items-end h-[400px] w-full bg-gray-100 p-4 rounded-lg shadow-inner mb-6 overflow-x-auto\">\n                {currentArray.map((value, index) => {\n                    const isRange = index >= currentLow && index <= currentHigh;\n                    \n                    return (\n                        <div key={index} style={{ position: 'relative' }}>\n                            <ArrayBar\n                                value={value}\n                                height={(value / maxArrayValue) * maxBarHeight}\n                                width={arrayBarWidthPx}\n                                isHighlighted={highlightIndices.includes(index)}\n                                isPivot={pivotIndex === index}\n                                isSorted={sortedIndices.includes(index)}\n                                // Search Specific Props\n                                isSearchMid={selectedAlgorithm === 'binarysearch' && currentMid === index}\n                                isSearchRange={selectedAlgorithm === 'binarysearch' && isRange}\n                                isFound={isFound && (currentMid === index || currentLinearIndex === index)}\n                                isLinearCheck={selectedAlgorithm === 'linearsearch' && currentLinearIndex === index}\n                            />\n                            {/* Low/High markers for Binary Search */}\n                            {selectedAlgorithm === 'binarysearch' && (\n                                <>\n                                    {currentLow === index && \n                                        <span className=\"absolute bottom-[-15px] left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-700\">L</span>}\n                                    {currentHigh === index && \n                                        <span className=\"absolute bottom-[-15px] left-1/2 transform -translate-x-1/2 text-xs font-bold text-red-700\">H</span>}\n                                </>\n                            )}\n                        </div>\n                    );\n                })}\n            </div>\n\n            {/* Animation Controls and Status */}\n             <div className=\"grid grid-cols-2 gap-6\">\n                \n                {/* Status and Animation Info */}\n                <div className=\"p-4 bg-blue-50 rounded-lg border border-blue-200\">\n                    <h3 className=\"text-xl font-bold text-blue-700 mb-2\">Status</h3>\n                    <p className=\"text-gray-700 font-medium mb-2\">\n                        Step {currentStepIndex} of {steps?.length ? steps.length - 1 : 0} \n                        ({Math.round((currentStepIndex / ((steps?.length - 1) || 1)) * 100)}% Complete)\n                    </p>\n                    <p className=\"text-lg text-gray-900\">\n                        **Action:** {currentStep?.action || \"Waiting for algorithm execution.\"}\n                    </p>\n                    {isSearchAlgorithm && (\n                         <p className=\"text-sm text-gray-600 mt-1\">\n                            **Target:** {currentStep?.search_target}\n                        </p>\n                    )}\n                </div>\n\n                {/* Controls */}\n                <div className=\"p-4 bg-gray-100 rounded-lg border border-gray-300\">\n                    <h3 className=\"text-xl font-bold text-gray-700 mb-2\">Controls</h3>\n                    <div className=\"flex justify-between items-center mb-3\">\n                        <label htmlFor=\"speed-slider\" className=\"font-semibold text-gray-600\">Speed ({speed} ms):</label>\n                         <input\n                            id=\"speed-slider\"\n                            type=\"range\"\n                            min=\"50\"\n                            max=\"500\"\n                            step=\"50\"\n                            value={speed}\n                            onChange={(e) => setSpeed(parseInt(e.target.value, 10))}\n                            className=\"w-32 h-2 bg-gray-300 rounded-lg appearance-none cursor-pointer range-sm\"\n                        />\n                    </div>\n                    \n                    <div className=\"flex space-x-2\">\n                        <button\n                            className=\"px-3 py-2 bg-indigo-500 text-white font-semibold rounded-lg hover:bg-indigo-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\"\n                            onClick={() => setCurrentStepIndex(0)}\n                            disabled={isAnimating || currentStepIndex === 0}\n                        >\n                            Restart\n                        </button>\n                        <button\n                            className=\"px-3 py-2 bg-purple-500 text-white font-semibold rounded-lg hover:bg-purple-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\"\n                            onClick={() => setIsAnimating(prev => !prev)}\n                            disabled={!steps || steps.length === 0 || isSortingComplete}\n                        >\n                            {isAnimating ? 'Pause' : 'Play'}\n                        </button>\n                        <button\n                            className=\"px-3 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\"\n                            onClick={() => setCurrentStepIndex(prev => Math.max(0, prev - 1))}\n                            disabled={isAnimating || currentStepIndex === 0}\n                        >\n                            Prev\n                        </button>\n                        <button\n                            className=\"px-3 py-2 bg-gray-500 text-white font-semibold rounded-lg hover:bg-gray-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\"\n                            onClick={() => setCurrentStepIndex(prev => Math.min(steps.length - 1, prev + 1))}\n                            disabled={isAnimating || isSortingComplete}\n                        >\n                            Next\n                        </button>\n                         <button\n                            className=\"px-3 py-2 bg-red-500 text-white font-semibold rounded-lg hover:bg-red-600 transition-colors shadow-md disabled:bg-gray-400 flex items-center\"\n                            onClick={() => setCurrentStepIndex(steps.length - 1)}\n                            disabled={isAnimating || isSortingComplete}\n                        >\n                            Skip\n                        </button>\n                    </div>\n                </div>\n            </div>\n\n            {/* Pseudocode Area */}\n            <div className=\"mt-6 p-4 bg-gray-50 rounded-lg border border-gray-200\">\n                <h3 className=\"text-xl font-bold text-gray-800 mb-2\">Pseudocode: {selectedAlgorithm.toUpperCase()}</h3>\n                <pre className=\"whitespace-pre-wrap text-sm text-gray-700 bg-white p-3 rounded border overflow-auto max-h-60\">\n                    {currentPseudocode ? currentPseudocode.join('\\n') : 'Select an algorithm to view pseudocode.'}\n                </pre>\n            </div>\n\n        </div>\n    );\n  };\n  \n  // Main App Return\n  return (\n    <div className=\"p-8 bg-gray-100 min-h-screen\">\n        <div className=\"flex justify-center space-x-4 mb-8\">\n            <button\n                className={`px-6 py-2 rounded-lg font-bold transition-all ${currentView === 'sort' ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gray-200'}`}\n                onClick={() => setCurrentView('sort')}\n            >\n                Sorting & Searching Visualizer\n            </button>\n            <button\n                className={`px-6 py-2 rounded-lg font-bold transition-all ${currentView === 'bst' ? 'bg-blue-600 text-white shadow-lg' : 'bg-white text-gray-700 hover:bg-gray-200'}`}\n                onClick={() => setCurrentView('bst')}\n            >\n                BST Visualizer (Dummy)\n            </button>\n        </div>\n        \n        <div className=\"max-w-7xl mx-auto\">\n            {currentView === 'sort' ? <ArrayVisualizer /> : <BSTVisualizer />}\n        </div>\n        \n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}