{"ast":null,"code":"var _jsxFileName = \"/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect, useCallback } from 'react';\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst ArrayBar = /*#__PURE__*/React.memo(_c = ({\n  value,\n  height,\n  width,\n  isHighlighted,\n  isPivot,\n  isSorted\n}) => {\n  // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot\n  let color = '#007bff';\n  if (isSorted) {\n    color = '#4CAF50';\n  } else if (isPivot) {\n    color = '#8A2BE2'; // BlueViolet for Pivot\n  } else if (isHighlighted) {\n    color = '#FF5733';\n  }\n  const finalWidth = width > 0 ? `${width}px` : 'auto';\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      height: `${height}px`,\n      width: finalWidth,\n      margin: '0 1px',\n      backgroundColor: color,\n      transition: 'height 0.1s linear, background-color 0.1s linear',\n      borderRadius: '2px 2px 0 0',\n      display: 'flex',\n      alignItems: 'flex-end',\n      justifyContent: 'center',\n      fontSize: '10px',\n      color: 'white',\n      fontWeight: 'bold',\n      position: 'relative'\n    },\n    title: `Value: ${value}`,\n    children: width > 20 && value\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 20,\n    columnNumber: 9\n  }, this);\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\n_c2 = ArrayBar;\nconst BSTVisualizer = () => {\n  _s();\n  const [treeData, setTreeData] = useState([]);\n  const [inputValue, setInputValue] = useState('');\n  const [message, setMessage] = useState('Enter a number to build the BST.');\n  const insertNode = useCallback((data, value) => {\n    if (!data) return {\n      value: value,\n      left: null,\n      right: null\n    };\n    if (value < data.value) {\n      data.left = insertNode(data.left, value);\n    } else if (value > data.value) {\n      data.right = insertNode(data.right, value);\n    }\n    return data;\n  }, []);\n  const handleInsert = () => {\n    const num = parseInt(inputValue);\n    if (isNaN(num)) {\n      setMessage('Please enter a valid number.');\n      return;\n    }\n    let newTreeData = [...treeData];\n    if (newTreeData.length === 0) {\n      newTreeData.push({\n        value: num,\n        left: null,\n        right: null\n      });\n    } else {\n      // Only update the root element (which is the single object in the array)\n      newTreeData = [insertNode(newTreeData[0], num)];\n    }\n    setTreeData(newTreeData);\n    setInputValue('');\n    setMessage(`Inserted ${num}. Try inserting another number.`);\n  };\n\n  // A simple function to render the tree (just showing the root for simplicity)\n  const renderTree = node => {\n    if (!node) return null;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        margin: '10px',\n        padding: '10px',\n        border: '1px solid #ccc',\n        borderRadius: '8px',\n        display: 'inline-block',\n        backgroundColor: '#e9f7ff'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          fontWeight: 'bold',\n          margin: 0\n        },\n        children: [\"Root: \", node.value]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          marginTop: '10px'\n        },\n        children: [node.left && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginRight: '10px',\n            borderRight: '1px dashed #ccc'\n          },\n          children: [\"L: \", renderTree(node.left)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 35\n        }, this), node.right && /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: '10px',\n            borderLeft: '1px dashed #ccc'\n          },\n          children: [\"R: \", renderTree(node.right)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 36\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 86,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 13\n    }, this);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Binary Search Tree Visualizer\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      className: \"text-sm text-gray-600\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        gap: '10px',\n        marginBottom: '20px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        value: inputValue,\n        onChange: e => setInputValue(e.target.value),\n        placeholder: \"Enter number\",\n        style: {\n          padding: '8px',\n          border: '1px solid #ccc',\n          borderRadius: '4px',\n          minWidth: '150px'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 99,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleInsert,\n        style: {\n          padding: '8px 15px',\n          cursor: 'pointer',\n          backgroundColor: '#007bff',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px'\n        },\n        children: \"Insert Node\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 98,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        minHeight: '400px',\n        backgroundColor: '#f9f9f9',\n        padding: '20px',\n        border: '1px solid #eee',\n        borderRadius: '8px',\n        textAlign: 'center'\n      },\n      children: treeData.length > 0 ? renderTree(treeData[0]) : /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          marginTop: '150px',\n          color: '#888'\n        },\n        children: \"Tree is empty. Insert the first node!\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 125,\n        columnNumber: 21\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 95,\n    columnNumber: 9\n  }, this);\n};\n\n// --- Constants ---\n_s(BSTVisualizer, \"F/Bh5RfURi7Cf3Nfij1t5WZYoq0=\");\n_c3 = BSTVisualizer;\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400;\nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80;\n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n  bubblesort: [\"function bubbleSort(array):\", \"  n = array.length\", \"  for i from 0 to n - 2:\", \"    for j from 0 to n - 2 - i:\", \"      // Compare & Highlight array[j] and array[j+1]\", \"      if array[j] > array[j+1]:\", \"        // Swap elements\", \"        swap(array[j], array[j+1])\", \"  return array\"],\n  mergesort: [\"function mergeSort(array):\", \"  if array.length <= 1: return array\", \"  mid = floor(array.length / 2)\", \"  left = mergeSort(array[0...mid])\", \"  right = mergeSort(array[mid...n])\", \"  return merge(left, right)\", \"\", \"function merge(left, right):\", \"  // Merging sub-arrays and placing back into the original array...\", \"  result = []\", \"  while left & right are not empty:\", \"    if left[0] <= right[0]:\", \"      result.push(left.shift())\", \"    else:\", \"      result.push(right.shift())\", \"  return result + left + right\"],\n  quicksort: [\"function quickSort(array, low, high):\", \"  if low < high:\", \"    // Partition the array\", \"    pi = partition(array, low, high)\", \"    // Recursively sort left and right sub-arrays\", \"    quickSort(array, low, pi - 1)\", \"    quickSort(array, pi + 1, high)\", \"\", \"function partition(array, low, high):\", \"  pivot = array[high] // Choose the last element as pivot\", \"  i = low - 1\", \"  for j from low to high - 1:\", \"    if array[j] < pivot:\", \"      i++\", \"      swap(array[i], array[j])\", \"  swap(array[i+1], array[high])\", \"  return i + 1\"],\n  // ADDED SHELL SORT PSEUDOCODE\n  shellsort: [\"function shellSort(array):\", \"  n = array.length\", \"  gap = floor(n / 2)\", \"  while gap > 0:\", \"    // Perform gapped insertion sort\", \"    for i from gap to n - 1:\", \"      temp = array[i]\", \"      j = i\", \"      while j >= gap and array[j - gap] > temp:\", \"        // Shift elements (Highlight comparison and shift)\", \"        array[j] = array[j - gap]\", \"        j = j - gap\", \"      // Place temp (Highlight placement)\", \"      array[j] = temp\", \"    gap = floor(gap / 2) // Reduce the gap\"]\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = size => {\n  return Array.from({\n    length: size\n  }, () => Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE);\n};\nconst parseCustomArray = inputString => {\n  const elements = inputString.split(',').map(s => {\n    const num = parseInt(s.trim());\n    return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n  }).filter(n => n !== null);\n  return elements;\n};\n\n// --- CLIENT-SIDE SORTING LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization.\n */\nconst getBubbleSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let sortedIndices = [];\n  for (let i = 0; i < n - 1; i++) {\n    let swapped = false;\n    for (let j = 0; j < n - 1 - i; j++) {\n      // 1. Highlight comparison\n      steps.push({\n        array: [...array],\n        highlight_indices: [j, j + 1],\n        action: `Comparing array[${j}] and array[${j + 1}]`,\n        sorted_indices: [...sortedIndices]\n      });\n      if (array[j] > array[j + 1]) {\n        // 2. Swap\n        [array[j], array[j + 1]] = [array[j + 1], array[j]];\n        swapped = true;\n        steps.push({\n          array: [...array],\n          highlight_indices: [j, j + 1],\n          action: `Swapping ${array[j + 1]} and ${array[j]}`,\n          sorted_indices: [...sortedIndices]\n        });\n      }\n    }\n\n    // Mark the largest element of this pass as sorted\n    if (n - 1 - i >= 0) {\n      sortedIndices.push(n - 1 - i);\n    }\n\n    // If no two elements were swapped in the inner loop, the array is sorted\n    if (!swapped) {\n      // Mark remaining elements as sorted and break\n      for (let k = 0; k < n - 1 - i; k++) {\n        if (!sortedIndices.includes(k)) {\n          sortedIndices.push(k);\n        }\n      }\n      break;\n    }\n  }\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Bubble Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization.\n */\nconst getMergeSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n\n  // Recursive Merge function that records steps\n  const merge = (arr, start, mid, end) => {\n    // Since we are working with the original array 'array', we use indices relative to it\n    const left = arr.slice(start, mid);\n    const right = arr.slice(mid, end);\n    let i = 0,\n      j = 0,\n      k = start;\n\n    // Step 1: Highlight the sub-array being merged\n    steps.push({\n      array: [...array],\n      highlight_indices: Array.from({\n        length: end - start\n      }, (_, idx) => start + idx),\n      action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n      sorted_indices: []\n    });\n    while (i < left.length && j < right.length) {\n      // Step 2: Comparison and placement\n      if (left[i] <= right[j]) {\n        array[k] = left[i];\n        i++;\n      } else {\n        array[k] = right[j];\n        j++;\n      }\n      k++;\n\n      // Record step after each placement\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        // Highlight the placed bar\n        action: `Placing element at index ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n\n    // Step 3: Handle remaining elements\n    while (i < left.length) {\n      array[k] = left[i];\n      i++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from left half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n    while (j < right.length) {\n      array[k] = right[j];\n      j++;\n      k++;\n      steps.push({\n        array: [...array],\n        highlight_indices: [k - 1],\n        action: `Placing remaining element from right half at ${k - 1}`,\n        sorted_indices: []\n      });\n    }\n\n    // Final coloring for the merged segment\n    steps.push({\n      array: [...array],\n      highlight_indices: [],\n      action: `Merged segment complete from index ${start} to ${end - 1}`,\n      // We don't mark as sorted until the whole thing is done to avoid visual clutter\n      sorted_indices: []\n    });\n  };\n  const mergeSortHelper = (arr, start, end) => {\n    if (end - start <= 1) return;\n    const mid = Math.floor((start + end) / 2);\n    mergeSortHelper(arr, start, mid);\n    mergeSortHelper(arr, mid, end);\n    merge(arr, start, mid, end);\n  };\n  mergeSortHelper(array, 0, array.length);\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    highlight_indices: [],\n    action: \"Finished Merge Sort\",\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme).\n */\nconst getQuickSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n\n  // Helper to record a step\n  const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      pivot_index: pivot_index,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n\n  // Partition function (Lomuto)\n  const partition = (arr, low, high, sortedIndices) => {\n    const pivot = arr[high]; // Pivot is the last element\n    let i = low - 1; // Index of smaller element\n\n    recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n    for (let j = low; j <= high - 1; j++) {\n      // Highlight comparison\n      recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n      if (arr[j] < pivot) {\n        i++;\n        // Swap arr[i] and arr[j]\n        [arr[i], arr[j]] = [arr[j], arr[i]];\n\n        // Highlight swap\n        recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n      }\n    }\n\n    // Swap arr[i+1] and arr[high] (put pivot in correct position)\n    const pivotIndex = i + 1;\n    [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n\n    // Final placement of pivot\n    recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n    return pivotIndex;\n  };\n  const sortedIndicesTracker = [];\n\n  // Recursive helper\n  const quickSortHelper = (arr, low, high) => {\n    if (low < high) {\n      const pi = partition(arr, low, high, sortedIndicesTracker);\n\n      // Add the placed pivot index to the tracker (it's permanently sorted)\n      if (!sortedIndicesTracker.includes(pi)) {\n        sortedIndicesTracker.push(pi);\n      }\n\n      // Recursive calls\n      quickSortHelper(arr, low, pi - 1);\n      quickSortHelper(arr, pi + 1, high);\n    } else if (low === high && low >= 0) {\n      // Base case for single element array/sub-array\n      if (!sortedIndicesTracker.includes(low)) {\n        sortedIndicesTracker.push(low);\n        recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n      }\n    }\n  };\n  quickSortHelper(array, 0, array.length - 1);\n\n  // Final step: Ensure all are marked as sorted\n  const finalSortedIndices = Array.from({\n    length: array.length\n  }, (_, i) => i);\n  steps.push({\n    array: [...array],\n    action: \"Finished Quick Sort\",\n    highlight_indices: [],\n    pivot_index: null,\n    sorted_indices: finalSortedIndices\n  });\n  return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization (using array halving gap).\n * NEW IMPLEMENTATION FOR SHELL SORT\n */\nconst getShellSortSteps = initialArray => {\n  const array = [...initialArray];\n  const steps = [];\n  const n = array.length;\n  let gap = Math.floor(n / 2);\n  let sortedIndices = [];\n\n  // Helper to record a step\n  const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n    steps.push({\n      array: [...array],\n      action: action,\n      highlight_indices: highlight_indices,\n      gap: current_gap,\n      sorted_indices: [...sorted_indices]\n    });\n  };\n  while (gap > 0) {\n    recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n    for (let i = gap; i < n; i++) {\n      const temp = array[i];\n      let j = i;\n\n      // Highlight the element being inserted\n      recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n      // Inner Insertion Sort with a gap\n      while (j >= gap && array[j - gap] > temp) {\n        // 1. Highlight comparison\n        recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n\n        // 2. Shift the element\n        array[j] = array[j - gap];\n\n        // 3. Highlight shift\n        recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        j -= gap;\n      }\n\n      // Place the element (temp) into its correct gapped position\n      array[j] = temp;\n\n      // 4. Highlight placement\n      recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n    }\n\n    // Reduce the gap\n    gap = Math.floor(gap / 2);\n  }\n\n  // Final step: Mark all as sorted\n  const finalSortedIndices = Array.from({\n    length: n\n  }, (_, i) => i);\n  recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n  return steps;\n};\nfunction App() {\n  _s2();\n  // NEW STATE: Controls the current view ('sort' or 'bst')\n  const [currentView, setCurrentView] = useState('sort');\n\n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"shellsort\"); // Default to shellsort now\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n\n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null; // NEW: Track pivot\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && sortedIndices.length === inputArray.length;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n\n  // UPDATED: Now includes shellsort\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\"].includes(selectedAlgorithm);\n\n  // --- Sorting Visualizer Helper Functions ---\n  const handleGenerateNewArray = (size = arraySize) => {\n    const newArray = generateRandomArray(size);\n    setInputArray(newArray);\n    setCustomInputData(\"\");\n    setArraySize(size);\n  };\n  const handleLoadCustomArray = () => {\n    const newArray = parseCustomArray(customInputData);\n    if (newArray.length > 0) {\n      setInputArray(newArray);\n      setArraySize(newArray.length);\n      setLoadingError(null);\n    } else {\n      setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n    }\n  };\n\n  // --- 1. Generate Data on Array/Algorithm Change (Sorting only) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n\n    // Clear steps/error before generation\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    if (!isSupportedAlgorithm) {\n      return;\n    }\n    const cleanedArray = inputArray.map(val => Number(val));\n    let newSteps;\n    try {\n      if (selectedAlgorithm === \"bubblesort\") {\n        newSteps = getBubbleSortSteps(cleanedArray);\n      } else if (selectedAlgorithm === \"mergesort\") {\n        newSteps = getMergeSortSteps(cleanedArray);\n      } else if (selectedAlgorithm === \"quicksort\") {\n        newSteps = getQuickSortSteps(cleanedArray);\n      } else if (selectedAlgorithm === \"shellsort\") {\n        // NEW: Shell Sort\n        newSteps = getShellSortSteps(cleanedArray);\n      }\n      if (newSteps && newSteps.length > 0) {\n        setSteps(newSteps);\n      } else {\n        setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n      }\n    } catch (error) {\n      console.error('Local Algorithm Generation Failed:', error);\n      setLoadingError(`Local generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView]);\n\n  // --- 2. Animation Timer Logic (Sorting only) ---\n  useEffect(() => {\n    // CONDITION 1: Check if we are in the sort view\n    if (currentView !== 'sort') return;\n\n    // CONDITION 2: Check if steps data is loaded and sorting is not yet complete\n    if (!steps || currentStepIndex >= steps.length - 1) return;\n    const intervalId = setInterval(() => {\n      setCurrentStepIndex(prevIndex => prevIndex + 1);\n    }, speed); // Use dynamic speed state\n\n    return () => clearInterval(intervalId);\n  }, [steps, currentStepIndex, currentView, speed]); // Animation relies on steps, index, view, and speed\n\n  // --- Algorithm Options Structure ---\n  const algorithmOptions = [{\n    label: \"--- Supported Algorithms ---\",\n    value: \"header-supported\",\n    disabled: true\n  }, {\n    label: \"Bubble Sort (O(n²)) - RUNNING\",\n    value: \"bubblesort\"\n  }, {\n    label: \"Merge Sort (O(n log n)) - RUNNING\",\n    value: \"mergesort\"\n  }, {\n    label: \"Quick Sort (O(n log n)) - RUNNING\",\n    value: \"quicksort\"\n  }, {\n    label: \"Shell Sort (O(n log² n)) - RUNNING (NEW)\",\n    value: \"shellsort\"\n  },\n  // NEW SHELL SORT OPTION\n  {\n    label: \"--- Other Sorting Algorithms ---\",\n    value: \"header-sort\",\n    disabled: true\n  }, {\n    label: \"Selection Sort (O(n²))\",\n    value: \"selectionsort\"\n  }, {\n    label: \"Insertion Sort (O(n²))\",\n    value: \"insertionsort\"\n  }, {\n    label: \"Heap Sort (O(n log n))\",\n    value: \"heapsort\"\n  }, {\n    label: \"--- Search Algorithms ---\",\n    value: \"header-search\",\n    disabled: true\n  }, {\n    label: \"Linear Search (O(n))\",\n    value: \"linearsearch\"\n  }, {\n    label: \"Binary Search (O(log n))\",\n    value: \"binarysearch\"\n  }];\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      padding: '20px',\n      minWidth: '800px',\n      fontFamily: 'Inter, sans-serif'\n    },\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginBottom: '20px',\n        borderBottom: '2px solid #eee',\n        paddingBottom: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentView('sort'),\n        style: {\n          padding: '10px 20px',\n          marginRight: '10px',\n          fontWeight: currentView === 'sort' ? 'bold' : 'normal',\n          backgroundColor: currentView === 'sort' ? '#007bff' : '#f0f0f0',\n          color: currentView === 'sort' ? 'white' : '#333',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          boxShadow: currentView === 'sort' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        children: \"Array Visualizer (Sorting & Search) \\uD83D\\uDCC8\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 666,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: () => setCurrentView('bst'),\n        style: {\n          padding: '10px 20px',\n          fontWeight: currentView === 'bst' ? 'bold' : 'normal',\n          backgroundColor: currentView === 'bst' ? '#007bff' : '#f0f0f0',\n          color: currentView === 'bst' ? 'white' : '#333',\n          border: 'none',\n          borderRadius: '5px',\n          cursor: 'pointer',\n          boxShadow: currentView === 'bst' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n        },\n        children: \"Binary Search Tree Visualizer \\uD83C\\uDF33\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 681,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 665,\n      columnNumber: 7\n    }, this), currentView === 'sort' ?\n    /*#__PURE__*/\n    // === ARRAY VISUALIZER (SORTING & SEARCH) ===\n    _jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        style: {\n          fontSize: '24px',\n          marginBottom: '15px'\n        },\n        children: \"Array Sorting & Search Visualizer\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 700,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginBottom: '20px',\n          padding: '15px',\n          borderRadius: '8px',\n          backgroundColor: '#f4f7fa',\n          display: 'flex',\n          flexWrap: 'wrap',\n          gap: '20px',\n          alignItems: 'center',\n          boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"algo-select\",\n            style: {\n              marginRight: '10px',\n              fontWeight: 'bold'\n            },\n            children: \"Algorithm:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 707,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n            id: \"algo-select\",\n            value: selectedAlgorithm,\n            onChange: e => setSelectedAlgorithm(e.target.value),\n            style: {\n              padding: '8px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            },\n            children: algorithmOptions.map(option => /*#__PURE__*/_jsxDEV(\"option\", {\n              value: option.value,\n              disabled: option.disabled,\n              children: option.label\n            }, option.value, false, {\n              fileName: _jsxFileName,\n              lineNumber: 714,\n              columnNumber: 27\n            }, this))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 708,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 706,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => handleGenerateNewArray(),\n          style: {\n            padding: '8px 15px',\n            cursor: 'pointer',\n            border: 'none',\n            borderRadius: '4px',\n            backgroundColor: '#FFC107',\n            color: '#333',\n            fontWeight: 'bold'\n          },\n          children: \"Generate New Array\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 725,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: 'flex',\n            gap: '10px',\n            alignItems: 'center'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Custom Array (e.g., 5,12,3,40)\",\n            value: customInputData,\n            onChange: e => setCustomInputData(e.target.value),\n            style: {\n              padding: '8px',\n              minWidth: '200px',\n              border: '1px solid #ccc',\n              borderRadius: '4px'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 741,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: handleLoadCustomArray,\n            style: {\n              padding: '8px 15px',\n              cursor: 'pointer',\n              backgroundColor: '#28A745',\n              color: 'white',\n              border: 'none',\n              borderRadius: '4px',\n              fontWeight: 'bold'\n            },\n            children: \"Load Custom Array\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 748,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 740,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            marginLeft: 'auto'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            htmlFor: \"speed-slider\",\n            style: {\n              marginRight: '10px',\n              fontWeight: 'bold'\n            },\n            children: [\"Speed (\", (1000 / speed).toFixed(1), \" ops/sec):\"]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 765,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            id: \"speed-slider\",\n            type: \"range\",\n            min: \"10\",\n            max: \"500\",\n            value: speed,\n            onChange: e => setSpeed(Number(e.target.value))\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 766,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 764,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 703,\n        columnNumber: 11\n      }, this), loadingError && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          color: '#D9534F',\n          backgroundColor: '#FEE',\n          padding: '10px',\n          borderRadius: '4px'\n        },\n        children: [\"**Error:** \", loadingError]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 777,\n        columnNumber: 28\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: 'flex',\n          justifyContent: 'center',\n          alignItems: 'flex-end',\n          height: '400px',\n          width: '100%',\n          borderBottom: '3px solid #333',\n          backgroundColor: '#ffffff',\n          paddingTop: '20px'\n        },\n        children: isSupportedAlgorithm ? currentArray.map((value, index) => /*#__PURE__*/_jsxDEV(ArrayBar, {\n          value: value,\n          height: value / MAX_ARRAY_VALUE * 380\n          // Ensure width scales based on array size\n          ,\n          width: Math.max(5, 800 / arraySize - 2),\n          isHighlighted: highlightIndices.includes(index),\n          isPivot: pivotIndex === index // NEW: Pass pivot index\n          ,\n          isSorted: isSortingComplete || sortedIndices.includes(index)\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 793,\n          columnNumber: 15\n        }, this)) : /*#__PURE__*/_jsxDEV(\"h3\", {\n          style: {\n            marginTop: '150px',\n            color: '#888'\n          },\n          children: [\"Visualization not available for **\", selectedAlgorithm.toUpperCase().replace(/SEARCH|SORT/g, ' '), \"**. Please select Bubble Sort, Merge Sort, Quick Sort, or Shell Sort.\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 803,\n          columnNumber: 18\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 780,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          marginTop: '20px',\n          display: 'flex',\n          gap: '40px'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '20px',\n              borderBottom: '1px solid #ccc',\n              paddingBottom: '5px'\n            },\n            children: \"Algorithm Status\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 811,\n            columnNumber: 19\n          }, this), isSupportedAlgorithm ? /*#__PURE__*/_jsxDEV(_Fragment, {\n            children: [!steps && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Generating steps...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 814,\n              columnNumber: 38\n            }, this), steps && isSortingComplete && /*#__PURE__*/_jsxDEV(\"h3\", {\n              style: {\n                color: '#28A745',\n                fontSize: '18px'\n              },\n              children: \"Sorting Complete! Array is sorted.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 816,\n              columnNumber: 31\n            }, this), steps && !isSortingComplete && currentStep && /*#__PURE__*/_jsxDEV(\"p\", {\n              style: {\n                fontSize: '16px'\n              },\n              children: [\"**Step \", currentStepIndex + 1, \"** of \", steps.length, \". Action: *\", currentStep.action, \"*\"]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 818,\n              columnNumber: 31\n            }, this), steps && !isSortingComplete && !currentStep && /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Starting sort...\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 820,\n              columnNumber: 31\n            }, this)]\n          }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n            style: {\n              color: '#FFC107',\n              fontWeight: 'bold'\n            },\n            children: \"Algorithm implementation coming soon! Select a supported algorithm to visualize.\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 823,\n            columnNumber: 23\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 810,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            flex: 1,\n            borderLeft: '1px solid #ccc',\n            paddingLeft: '20px'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            style: {\n              fontSize: '20px',\n              borderBottom: '1px solid #ccc',\n              paddingBottom: '5px'\n            },\n            children: [\"Pseudocode: \", selectedAlgorithm]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 829,\n            columnNumber: 19\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              backgroundColor: '#f9f9f9',\n              padding: '10px',\n              borderRadius: '5px',\n              fontSize: '14px',\n              fontFamily: 'monospace',\n              whiteSpace: 'pre-wrap',\n              maxHeight: '200px',\n              overflowY: 'auto',\n              border: '1px solid #eee'\n            },\n            children: currentPseudocode ? currentPseudocode.map((line, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n              style: {\n                // Simple line highlighting is not implemented in the new steps object yet, but the structure is here\n                // backgroundColor: currentStep?.line === index ? '#ffe0b2' : 'transparent', \n                transition: 'background-color 0.2s',\n                padding: '1px 0'\n              },\n              children: line\n            }, index, false, {\n              fileName: _jsxFileName,\n              lineNumber: 832,\n              columnNumber: 25\n            }, this)) : /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"// Pseudocode not yet available for this algorithm.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 842,\n              columnNumber: 26\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 830,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 828,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 807,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true) :\n    /*#__PURE__*/\n    // === BST VISUALIZER ===\n    _jsxDEV(BSTVisualizer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 850,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        marginTop: '50px',\n        paddingTop: '10px',\n        borderTop: '1px solid #eee',\n        textAlign: 'center',\n        fontSize: '12px',\n        color: '#666'\n      },\n      children: [\"Developed by: **Shubham Jana** | Contact: \", /*#__PURE__*/_jsxDEV(\"a\", {\n        href: \"mailto:devshubhamjana@gmail.com\",\n        children: \"**devshubhamjana@gmail.com**\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 855,\n        columnNumber: 53\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 854,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 662,\n    columnNumber: 5\n  }, this);\n}\n_s2(App, \"v/pW8lXDW4nmepwXXBQaEicYKxE=\");\n_c4 = App;\nexport default App;\nvar _c, _c2, _c3, _c4;\n$RefreshReg$(_c, \"ArrayBar$React.memo\");\n$RefreshReg$(_c2, \"ArrayBar\");\n$RefreshReg$(_c3, \"BSTVisualizer\");\n$RefreshReg$(_c4, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","jsxDEV","_jsxDEV","Fragment","_Fragment","ArrayBar","memo","_c","value","height","width","isHighlighted","isPivot","isSorted","color","finalWidth","style","margin","backgroundColor","transition","borderRadius","display","alignItems","justifyContent","fontSize","fontWeight","position","title","children","fileName","_jsxFileName","lineNumber","columnNumber","_c2","BSTVisualizer","_s","treeData","setTreeData","inputValue","setInputValue","message","setMessage","insertNode","data","left","right","handleInsert","num","parseInt","isNaN","newTreeData","length","push","renderTree","node","padding","border","marginTop","marginRight","borderRight","marginLeft","borderLeft","className","gap","marginBottom","type","onChange","e","target","placeholder","minWidth","onClick","cursor","minHeight","textAlign","_c3","DEFAULT_ARRAY_SIZE","MAX_ARRAY_VALUE","MIN_ARRAY_VALUE","ANIMATION_SPEED_MS","PSEUDOCODE","bubblesort","mergesort","quicksort","shellsort","generateRandomArray","size","Array","from","Math","floor","random","parseCustomArray","inputString","elements","split","map","s","trim","min","filter","n","getBubbleSortSteps","initialArray","array","steps","sortedIndices","i","swapped","j","highlight_indices","action","sorted_indices","k","includes","finalSortedIndices","_","getMergeSortSteps","merge","arr","start","mid","end","slice","idx","mergeSortHelper","getQuickSortSteps","recordStep","pivot_index","partition","low","high","pivot","pivotIndex","sortedIndicesTracker","quickSortHelper","pi","getShellSortSteps","current_gap","temp","App","_s2","currentView","setCurrentView","setSteps","currentStepIndex","setCurrentStepIndex","selectedAlgorithm","setSelectedAlgorithm","loadingError","setLoadingError","inputArray","setInputArray","arraySize","setArraySize","customInputData","setCustomInputData","speed","setSpeed","currentStep","currentArray","highlightIndices","isSortingComplete","currentPseudocode","isSupportedAlgorithm","handleGenerateNewArray","newArray","handleLoadCustomArray","cleanedArray","val","Number","newSteps","error","console","intervalId","setInterval","prevIndex","clearInterval","algorithmOptions","label","disabled","fontFamily","borderBottom","paddingBottom","boxShadow","flexWrap","htmlFor","id","option","toFixed","max","paddingTop","index","toUpperCase","replace","flex","paddingLeft","whiteSpace","maxHeight","overflowY","line","borderTop","href","_c4","$RefreshReg$"],"sources":["/Users/shubhamjana/Desktop/algo-visualizer/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useCallback } from 'react';\n\n// --- Components (Moved locally for single-file mandate) ---\n\n// 1. ArrayBar Component\nconst ArrayBar = React.memo(({ value, height, width, isHighlighted, isPivot, isSorted }) => {\n    // Green: Sorted, Blue: Default, Orange: Highlighted (Comparison/Swap), Violet: Pivot\n    let color = '#007bff';\n    if (isSorted) {\n        color = '#4CAF50';\n    } else if (isPivot) {\n        color = '#8A2BE2'; // BlueViolet for Pivot\n    } else if (isHighlighted) {\n        color = '#FF5733';\n    }\n\n    const finalWidth = width > 0 ? `${width}px` : 'auto';\n\n    return (\n        <div \n            style={{\n                height: `${height}px`,\n                width: finalWidth,\n                margin: '0 1px',\n                backgroundColor: color,\n                transition: 'height 0.1s linear, background-color 0.1s linear',\n                borderRadius: '2px 2px 0 0',\n                display: 'flex',\n                alignItems: 'flex-end',\n                justifyContent: 'center',\n                fontSize: '10px',\n                color: 'white',\n                fontWeight: 'bold',\n                position: 'relative',\n            }}\n            title={`Value: ${value}`}\n        >\n            {/* Show value for smaller arrays */}\n            {width > 20 && value}\n        </div>\n    );\n});\n\n// 2. BST Visualizer Component (Simplified/Dummy)\nconst BSTVisualizer = () => {\n    const [treeData, setTreeData] = useState([]);\n    const [inputValue, setInputValue] = useState('');\n    const [message, setMessage] = useState('Enter a number to build the BST.');\n\n    const insertNode = useCallback((data, value) => {\n        if (!data) return { value: value, left: null, right: null };\n        if (value < data.value) {\n            data.left = insertNode(data.left, value);\n        } else if (value > data.value) {\n            data.right = insertNode(data.right, value);\n        }\n        return data;\n    }, []);\n\n    const handleInsert = () => {\n        const num = parseInt(inputValue);\n        if (isNaN(num)) {\n            setMessage('Please enter a valid number.');\n            return;\n        }\n\n        let newTreeData = [...treeData];\n        if (newTreeData.length === 0) {\n            newTreeData.push({ value: num, left: null, right: null });\n        } else {\n            // Only update the root element (which is the single object in the array)\n            newTreeData = [insertNode(newTreeData[0], num)];\n        }\n\n        setTreeData(newTreeData);\n        setInputValue('');\n        setMessage(`Inserted ${num}. Try inserting another number.`);\n    };\n\n    // A simple function to render the tree (just showing the root for simplicity)\n    const renderTree = (node) => {\n        if (!node) return null;\n        return (\n            <div style={{ margin: '10px', padding: '10px', border: '1px solid #ccc', borderRadius: '8px', display: 'inline-block', backgroundColor: '#e9f7ff' }}>\n                <p style={{ fontWeight: 'bold', margin: 0 }}>Root: {node.value}</p>\n                <div style={{ display: 'flex', justifyContent: 'center', marginTop: '10px' }}>\n                    {node.left && <div style={{ marginRight: '10px', borderRight: '1px dashed #ccc' }}>L: {renderTree(node.left)}</div>}\n                    {node.right && <div style={{ marginLeft: '10px', borderLeft: '1px dashed #ccc' }}>R: {renderTree(node.right)}</div>}\n                </div>\n            </div>\n        );\n    };\n\n    return (\n        <div>\n            <h1>Binary Search Tree Visualizer</h1>\n            <p className=\"text-sm text-gray-600\">{message}</p>\n            <div style={{ display: 'flex', gap: '10px', marginBottom: '20px' }}>\n                <input\n                    type=\"number\"\n                    value={inputValue}\n                    onChange={(e) => setInputValue(e.target.value)}\n                    placeholder=\"Enter number\"\n                    style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px', minWidth: '150px' }}\n                />\n                <button \n                    onClick={handleInsert} \n                    style={{ padding: '8px 15px', cursor: 'pointer', backgroundColor: '#007bff', color: 'white', border: 'none', borderRadius: '4px' }}\n                >\n                    Insert Node\n                </button>\n            </div>\n            \n            <div style={{ \n                minHeight: '400px', \n                backgroundColor: '#f9f9f9', \n                padding: '20px', \n                border: '1px solid #eee',\n                borderRadius: '8px',\n                textAlign: 'center'\n            }}>\n                {treeData.length > 0 ? (\n                    renderTree(treeData[0])\n                ) : (\n                    <p style={{marginTop: '150px', color: '#888'}}>Tree is empty. Insert the first node!</p>\n                )}\n            </div>\n        </div>\n    );\n};\n\n\n// --- Constants ---\nconst DEFAULT_ARRAY_SIZE = 15;\nconst MAX_ARRAY_VALUE = 400; \nconst MIN_ARRAY_VALUE = 10;\nconst ANIMATION_SPEED_MS = 80; \n\n// --- Algorithm Pseudocode ---\nconst PSEUDOCODE = {\n    bubblesort: [\n        \"function bubbleSort(array):\",\n        \"  n = array.length\",\n        \"  for i from 0 to n - 2:\",\n        \"    for j from 0 to n - 2 - i:\",\n        \"      // Compare & Highlight array[j] and array[j+1]\",\n        \"      if array[j] > array[j+1]:\",\n        \"        // Swap elements\",\n        \"        swap(array[j], array[j+1])\",\n        \"  return array\"\n    ],\n    mergesort: [\n        \"function mergeSort(array):\",\n        \"  if array.length <= 1: return array\",\n        \"  mid = floor(array.length / 2)\",\n        \"  left = mergeSort(array[0...mid])\",\n        \"  right = mergeSort(array[mid...n])\",\n        \"  return merge(left, right)\",\n        \"\",\n        \"function merge(left, right):\",\n        \"  // Merging sub-arrays and placing back into the original array...\",\n        \"  result = []\",\n        \"  while left & right are not empty:\",\n        \"    if left[0] <= right[0]:\",\n        \"      result.push(left.shift())\",\n        \"    else:\",\n        \"      result.push(right.shift())\",\n        \"  return result + left + right\"\n    ],\n    quicksort: [\n        \"function quickSort(array, low, high):\",\n        \"  if low < high:\",\n        \"    // Partition the array\",\n        \"    pi = partition(array, low, high)\",\n        \"    // Recursively sort left and right sub-arrays\",\n        \"    quickSort(array, low, pi - 1)\",\n        \"    quickSort(array, pi + 1, high)\",\n        \"\",\n        \"function partition(array, low, high):\",\n        \"  pivot = array[high] // Choose the last element as pivot\",\n        \"  i = low - 1\",\n        \"  for j from low to high - 1:\",\n        \"    if array[j] < pivot:\",\n        \"      i++\",\n        \"      swap(array[i], array[j])\",\n        \"  swap(array[i+1], array[high])\",\n        \"  return i + 1\"\n    ],\n    // ADDED SHELL SORT PSEUDOCODE\n    shellsort: [\n        \"function shellSort(array):\",\n        \"  n = array.length\",\n        \"  gap = floor(n / 2)\",\n        \"  while gap > 0:\",\n        \"    // Perform gapped insertion sort\",\n        \"    for i from gap to n - 1:\",\n        \"      temp = array[i]\",\n        \"      j = i\",\n        \"      while j >= gap and array[j - gap] > temp:\",\n        \"        // Shift elements (Highlight comparison and shift)\",\n        \"        array[j] = array[j - gap]\",\n        \"        j = j - gap\",\n        \"      // Place temp (Highlight placement)\",\n        \"      array[j] = temp\",\n        \"    gap = floor(gap / 2) // Reduce the gap\"\n    ]\n};\n\n// --- Helper Functions ---\nconst generateRandomArray = (size) => {\n    return Array.from({ length: size }, () => \n        Math.floor(Math.random() * (MAX_ARRAY_VALUE - MIN_ARRAY_VALUE + 1)) + MIN_ARRAY_VALUE\n    );\n};\n\nconst parseCustomArray = (inputString) => {\n    const elements = inputString.split(',')\n        .map(s => {\n            const num = parseInt(s.trim());\n            return isNaN(num) || num <= 0 ? null : Math.min(num, MAX_ARRAY_VALUE);\n        })\n        .filter(n => n !== null);\n    return elements;\n};\n\n// --- CLIENT-SIDE SORTING LOGIC ---\n\n/**\n * Generates steps for Bubble Sort visualization.\n */\nconst getBubbleSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let sortedIndices = [];\n\n    for (let i = 0; i < n - 1; i++) {\n        let swapped = false;\n        for (let j = 0; j < n - 1 - i; j++) {\n            // 1. Highlight comparison\n            steps.push({\n                array: [...array], \n                highlight_indices: [j, j + 1], \n                action: `Comparing array[${j}] and array[${j + 1}]`,\n                sorted_indices: [...sortedIndices]\n            });\n\n            if (array[j] > array[j + 1]) {\n                // 2. Swap\n                [array[j], array[j + 1]] = [array[j + 1], array[j]];\n                swapped = true;\n                steps.push({\n                    array: [...array], \n                    highlight_indices: [j, j + 1], \n                    action: `Swapping ${array[j+1]} and ${array[j]}`, \n                    sorted_indices: [...sortedIndices]\n                });\n            }\n        }\n        \n        // Mark the largest element of this pass as sorted\n        if (n - 1 - i >= 0) {\n            sortedIndices.push(n - 1 - i);\n        }\n\n        // If no two elements were swapped in the inner loop, the array is sorted\n        if (!swapped) {\n            // Mark remaining elements as sorted and break\n            for (let k = 0; k < n - 1 - i; k++) {\n                if (!sortedIndices.includes(k)) {\n                     sortedIndices.push(k);\n                }\n            }\n            break;\n        }\n    }\n\n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Bubble Sort\",\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Merge Sort visualization.\n */\nconst getMergeSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    \n    // Recursive Merge function that records steps\n    const merge = (arr, start, mid, end) => {\n        // Since we are working with the original array 'array', we use indices relative to it\n        const left = arr.slice(start, mid);\n        const right = arr.slice(mid, end);\n        let i = 0, j = 0, k = start;\n\n        // Step 1: Highlight the sub-array being merged\n        steps.push({\n            array: [...array],\n            highlight_indices: Array.from({ length: end - start }, (_, idx) => start + idx),\n            action: `Merging sub-arrays from index ${start} to ${end - 1}`,\n            sorted_indices: []\n        });\n\n        while (i < left.length && j < right.length) {\n            // Step 2: Comparison and placement\n            if (left[i] <= right[j]) {\n                array[k] = left[i];\n                i++;\n            } else {\n                array[k] = right[j];\n                j++;\n            }\n            k++;\n            \n            // Record step after each placement\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1], // Highlight the placed bar\n                action: `Placing element at index ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n\n        // Step 3: Handle remaining elements\n        while (i < left.length) {\n            array[k] = left[i];\n            i++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from left half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        while (j < right.length) {\n            array[k] = right[j];\n            j++; k++;\n            steps.push({\n                array: [...array],\n                highlight_indices: [k - 1],\n                action: `Placing remaining element from right half at ${k - 1}`,\n                sorted_indices: []\n            });\n        }\n        \n        // Final coloring for the merged segment\n        steps.push({\n            array: [...array],\n            highlight_indices: [],\n            action: `Merged segment complete from index ${start} to ${end - 1}`,\n            // We don't mark as sorted until the whole thing is done to avoid visual clutter\n            sorted_indices: [] \n        });\n    };\n\n    const mergeSortHelper = (arr, start, end) => {\n        if (end - start <= 1) return;\n        \n        const mid = Math.floor((start + end) / 2);\n        mergeSortHelper(arr, start, mid);\n        mergeSortHelper(arr, mid, end);\n        merge(arr, start, mid, end);\n    };\n\n    mergeSortHelper(array, 0, array.length);\n\n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        highlight_indices: [], \n        action: \"Finished Merge Sort\",\n        sorted_indices: finalSortedIndices\n    });\n    \n    return steps;\n};\n\n\n/**\n * Generates steps for Quick Sort visualization (Lomuto Partition Scheme).\n */\nconst getQuickSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n\n    // Helper to record a step\n    const recordStep = (action, highlight_indices = [], pivot_index = null, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            pivot_index: pivot_index,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    // Partition function (Lomuto)\n    const partition = (arr, low, high, sortedIndices) => {\n        const pivot = arr[high]; // Pivot is the last element\n        let i = low - 1; // Index of smaller element\n\n        recordStep(`Selecting pivot ${pivot} at index ${high}`, [], high, sortedIndices);\n\n        for (let j = low; j <= high - 1; j++) {\n            // Highlight comparison\n            recordStep(`Comparing ${arr[j]} at ${j} with pivot ${pivot}`, [j], high, sortedIndices);\n            \n            if (arr[j] < pivot) {\n                i++;\n                // Swap arr[i] and arr[j]\n                [arr[i], arr[j]] = [arr[j], arr[i]];\n                \n                // Highlight swap\n                recordStep(`Swapping ${arr[i]} at ${i} and ${arr[j]} at ${j}`, [i, j], high, sortedIndices);\n            }\n        }\n\n        // Swap arr[i+1] and arr[high] (put pivot in correct position)\n        const pivotIndex = i + 1;\n        [arr[pivotIndex], arr[high]] = [arr[high], arr[pivotIndex]];\n        \n        // Final placement of pivot\n        recordStep(`Pivot ${pivot} placed correctly at index ${pivotIndex}`, [pivotIndex], null, [...sortedIndices, pivotIndex]);\n\n        return pivotIndex;\n    };\n\n    const sortedIndicesTracker = [];\n\n    // Recursive helper\n    const quickSortHelper = (arr, low, high) => {\n        if (low < high) {\n            const pi = partition(arr, low, high, sortedIndicesTracker);\n\n            // Add the placed pivot index to the tracker (it's permanently sorted)\n            if (!sortedIndicesTracker.includes(pi)) {\n                sortedIndicesTracker.push(pi);\n            }\n\n            // Recursive calls\n            quickSortHelper(arr, low, pi - 1);\n            quickSortHelper(arr, pi + 1, high);\n        } else if (low === high && low >= 0) {\n            // Base case for single element array/sub-array\n            if (!sortedIndicesTracker.includes(low)) {\n                sortedIndicesTracker.push(low);\n                recordStep(`Sub-array of size 1 at index ${low} is sorted.`, [], null, sortedIndicesTracker);\n            }\n        }\n    };\n\n    quickSortHelper(array, 0, array.length - 1);\n\n    // Final step: Ensure all are marked as sorted\n    const finalSortedIndices = Array.from({ length: array.length }, (_, i) => i);\n    steps.push({\n        array: [...array], \n        action: \"Finished Quick Sort\",\n        highlight_indices: [],\n        pivot_index: null,\n        sorted_indices: finalSortedIndices\n    });\n\n    return steps;\n};\n\n/**\n * Generates steps for Shell Sort visualization (using array halving gap).\n * NEW IMPLEMENTATION FOR SHELL SORT\n */\nconst getShellSortSteps = (initialArray) => {\n    const array = [...initialArray];\n    const steps = [];\n    const n = array.length;\n    let gap = Math.floor(n / 2);\n    let sortedIndices = [];\n\n    // Helper to record a step\n    const recordStep = (action, highlight_indices = [], current_gap = gap, sorted_indices = []) => {\n        steps.push({\n            array: [...array],\n            action: action,\n            highlight_indices: highlight_indices,\n            gap: current_gap,\n            sorted_indices: [...sorted_indices]\n        });\n    };\n\n    while (gap > 0) {\n        recordStep(`Starting pass with Gap = ${gap}`, [], gap, sortedIndices);\n\n        for (let i = gap; i < n; i++) {\n            const temp = array[i];\n            let j = i;\n\n            // Highlight the element being inserted\n            recordStep(`Selecting element ${temp} at index ${i}. Gap = ${gap}`, [i], gap, sortedIndices);\n\n            // Inner Insertion Sort with a gap\n            while (j >= gap && array[j - gap] > temp) {\n                // 1. Highlight comparison\n                recordStep(`Comparing ${array[j - gap]} at ${j - gap} and ${temp} (to be placed at ${j}). Gap = ${gap}`, [j, j - gap], gap, sortedIndices);\n                \n                // 2. Shift the element\n                array[j] = array[j - gap];\n                \n                // 3. Highlight shift\n                recordStep(`Shifting ${array[j - gap]} to ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n                \n                j -= gap;\n            }\n            \n            // Place the element (temp) into its correct gapped position\n            array[j] = temp;\n            \n            // 4. Highlight placement\n            recordStep(`Placing ${temp} at index ${j}. Gap = ${gap}`, [j], gap, sortedIndices);\n        }\n\n        // Reduce the gap\n        gap = Math.floor(gap / 2);\n    }\n    \n    // Final step: Mark all as sorted\n    const finalSortedIndices = Array.from({ length: n }, (_, i) => i);\n    recordStep(\"Finished Shell Sort\", [], 0, finalSortedIndices);\n\n    return steps;\n};\n\n\nfunction App() {\n  // NEW STATE: Controls the current view ('sort' or 'bst')\n  const [currentView, setCurrentView] = useState('sort'); \n    \n  // Sorting Visualizer States\n  const [steps, setSteps] = useState(null);\n  const [currentStepIndex, setCurrentStepIndex] = useState(0);\n  const [selectedAlgorithm, setSelectedAlgorithm] = useState(\"shellsort\"); // Default to shellsort now\n  const [loadingError, setLoadingError] = useState(null);\n  const [inputArray, setInputArray] = useState(() => generateRandomArray(DEFAULT_ARRAY_SIZE));\n  const [arraySize, setArraySize] = useState(DEFAULT_ARRAY_SIZE);\n  const [customInputData, setCustomInputData] = useState(\"\");\n  const [speed, setSpeed] = useState(ANIMATION_SPEED_MS);\n  \n  // Derived States\n  const currentStep = steps ? steps[currentStepIndex] : null;\n  const currentArray = currentStep ? currentStep.array : inputArray;\n  const highlightIndices = currentStep ? currentStep.highlight_indices : [];\n  const pivotIndex = currentStep ? currentStep.pivot_index : null; // NEW: Track pivot\n  const sortedIndices = currentStep ? currentStep.sorted_indices || [] : [];\n  const isSortingComplete = steps && currentStepIndex >= steps.length - 1 && sortedIndices.length === inputArray.length;\n  const currentPseudocode = PSEUDOCODE[selectedAlgorithm];\n  \n  // UPDATED: Now includes shellsort\n  const isSupportedAlgorithm = [\"bubblesort\", \"mergesort\", \"quicksort\", \"shellsort\"].includes(selectedAlgorithm);\n\n\n  // --- Sorting Visualizer Helper Functions ---\n  const handleGenerateNewArray = (size = arraySize) => {\n      const newArray = generateRandomArray(size);\n      setInputArray(newArray);\n      setCustomInputData(\"\"); \n      setArraySize(size);\n  };\n  \n  const handleLoadCustomArray = () => {\n      const newArray = parseCustomArray(customInputData);\n      if (newArray.length > 0) {\n          setInputArray(newArray);\n          setArraySize(newArray.length); \n          setLoadingError(null);\n      } else {\n          setLoadingError(\"Invalid or empty custom array input. Please use comma-separated integers (e.g., 5,12,3,40).\");\n      }\n  };\n\n\n  // --- 1. Generate Data on Array/Algorithm Change (Sorting only) ---\n  useEffect(() => {\n    if (currentView !== 'sort' || inputArray.length === 0) return;\n    \n    // Clear steps/error before generation\n    setSteps(null);\n    setCurrentStepIndex(0);\n    setLoadingError(null);\n    \n    if (!isSupportedAlgorithm) {\n        return; \n    }\n\n    const cleanedArray = inputArray.map(val => Number(val));\n    let newSteps;\n\n    try {\n        if (selectedAlgorithm === \"bubblesort\") {\n            newSteps = getBubbleSortSteps(cleanedArray);\n        } else if (selectedAlgorithm === \"mergesort\") {\n            newSteps = getMergeSortSteps(cleanedArray);\n        } else if (selectedAlgorithm === \"quicksort\") { \n            newSteps = getQuickSortSteps(cleanedArray);\n        } else if (selectedAlgorithm === \"shellsort\") { // NEW: Shell Sort\n            newSteps = getShellSortSteps(cleanedArray);\n        }\n        \n        if (newSteps && newSteps.length > 0) {\n            setSteps(newSteps);\n        } else {\n             setLoadingError(`Algorithm ${selectedAlgorithm} failed to generate steps or resulted in an empty step list.`);\n        }\n        \n    } catch (error) {\n        console.error('Local Algorithm Generation Failed:', error);\n        setLoadingError(`Local generation failed for ${selectedAlgorithm}: ${error.message}`);\n    }\n    \n  }, [selectedAlgorithm, inputArray, isSupportedAlgorithm, currentView]); \n\n  // --- 2. Animation Timer Logic (Sorting only) ---\n  useEffect(() => {\n    // CONDITION 1: Check if we are in the sort view\n    if (currentView !== 'sort') return;\n    \n    // CONDITION 2: Check if steps data is loaded and sorting is not yet complete\n    if (!steps || currentStepIndex >= steps.length - 1) return;\n\n    const intervalId = setInterval(() => {\n      setCurrentStepIndex(prevIndex => prevIndex + 1);\n    }, speed); // Use dynamic speed state\n\n    return () => clearInterval(intervalId); \n    \n  }, [steps, currentStepIndex, currentView, speed]); // Animation relies on steps, index, view, and speed\n    \n  // --- Algorithm Options Structure ---\n  const algorithmOptions = [\n    { label: \"--- Supported Algorithms ---\", value: \"header-supported\", disabled: true },\n    { label: \"Bubble Sort (O(n²)) - RUNNING\", value: \"bubblesort\" },\n    { label: \"Merge Sort (O(n log n)) - RUNNING\", value: \"mergesort\" },\n    { label: \"Quick Sort (O(n log n)) - RUNNING\", value: \"quicksort\" },\n    { label: \"Shell Sort (O(n log² n)) - RUNNING (NEW)\", value: \"shellsort\" }, // NEW SHELL SORT OPTION\n    { label: \"--- Other Sorting Algorithms ---\", value: \"header-sort\", disabled: true },\n    { label: \"Selection Sort (O(n²))\", value: \"selectionsort\" },\n    { label: \"Insertion Sort (O(n²))\", value: \"insertionsort\" },\n    { label: \"Heap Sort (O(n log n))\", value: \"heapsort\" },\n    { label: \"--- Search Algorithms ---\", value: \"header-search\", disabled: true },\n    { label: \"Linear Search (O(n))\", value: \"linearsearch\" },\n    { label: \"Binary Search (O(log n))\", value: \"binarysearch\" },\n  ];\n\n\n  return (\n    <div style={{ padding: '20px', minWidth: '800px', fontFamily: 'Inter, sans-serif' }}>\n\n      {/* VIEW TOGGLE BUTTONS */}\n      <div style={{ marginBottom: '20px', borderBottom: '2px solid #eee', paddingBottom: '10px' }}>\n        <button \n          onClick={() => setCurrentView('sort')} \n          style={{ \n            padding: '10px 20px', \n            marginRight: '10px', \n            fontWeight: currentView === 'sort' ? 'bold' : 'normal',\n            backgroundColor: currentView === 'sort' ? '#007bff' : '#f0f0f0',\n            color: currentView === 'sort' ? 'white' : '#333',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            boxShadow: currentView === 'sort' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n          }}>\n          Array Visualizer (Sorting & Search) 📈\n        </button>\n        <button \n          onClick={() => setCurrentView('bst')} \n          style={{ \n            padding: '10px 20px', \n            fontWeight: currentView === 'bst' ? 'bold' : 'normal',\n            backgroundColor: currentView === 'bst' ? '#007bff' : '#f0f0f0',\n            color: currentView === 'bst' ? 'white' : '#333',\n            border: 'none',\n            borderRadius: '5px',\n            cursor: 'pointer',\n            boxShadow: currentView === 'bst' ? '0 2px 4px rgba(0,0,0,0.2)' : 'none'\n          }}>\n          Binary Search Tree Visualizer 🌳\n        </button>\n      </div>\n\n      {currentView === 'sort' ? (\n        // === ARRAY VISUALIZER (SORTING & SEARCH) ===\n        <>\n          <h1 style={{fontSize: '24px', marginBottom: '15px'}}>Array Sorting & Search Visualizer</h1>\n          \n          {/* CONTROL PANEL */}\n          <div style={{ marginBottom: '20px', padding: '15px', borderRadius: '8px', backgroundColor: '#f4f7fa', display: 'flex', flexWrap: 'wrap', gap: '20px', alignItems: 'center', boxShadow: '0 4px 6px -1px rgba(0, 0, 0, 0.1)' }}>\n              \n              {/* Algorithm Selector */}\n              <div>\n                  <label htmlFor=\"algo-select\" style={{ marginRight: '10px', fontWeight: 'bold' }}>Algorithm:</label>\n                  <select \n                      id=\"algo-select\" \n                      value={selectedAlgorithm} \n                      onChange={(e) => setSelectedAlgorithm(e.target.value)}\n                      style={{ padding: '8px', border: '1px solid #ccc', borderRadius: '4px' }}>\n                      {algorithmOptions.map(option => (\n                          <option \n                              key={option.value} \n                              value={option.value} \n                              disabled={option.disabled}>\n                              {option.label}\n                          </option>\n                      ))}\n                  </select>\n              </div>\n              \n              {/* New Random Array Button */}\n              <button \n                onClick={() => handleGenerateNewArray()} \n                style={{ \n                    padding: '8px 15px', \n                    cursor: 'pointer', \n                    border: 'none', \n                    borderRadius: '4px', \n                    backgroundColor: '#FFC107', \n                    color: '#333', \n                    fontWeight: 'bold' \n                }}>\n                  Generate New Array\n              </button>\n              \n              {/* Custom Array Input */}\n              <div style={{ display: 'flex', gap: '10px', alignItems: 'center' }}>\n                <input\n                    type=\"text\"\n                    placeholder=\"Custom Array (e.g., 5,12,3,40)\"\n                    value={customInputData}\n                    onChange={(e) => setCustomInputData(e.target.value)}\n                    style={{ padding: '8px', minWidth: '200px', border: '1px solid #ccc', borderRadius: '4px' }}\n                />\n                <button \n                    onClick={handleLoadCustomArray} \n                    style={{ \n                        padding: '8px 15px', \n                        cursor: 'pointer', \n                        backgroundColor: '#28A745', \n                        color: 'white', \n                        border: 'none', \n                        borderRadius: '4px',\n                        fontWeight: 'bold'\n                    }}>\n                    Load Custom Array\n                </button>\n              </div>\n\n              {/* Speed Slider */}\n              <div style={{ marginLeft: 'auto' }}>\n                  <label htmlFor=\"speed-slider\" style={{ marginRight: '10px', fontWeight: 'bold' }}>Speed ({(1000/speed).toFixed(1)} ops/sec):</label>\n                  <input \n                      id=\"speed-slider\"\n                      type=\"range\"\n                      min=\"10\" \n                      max=\"500\" \n                      value={speed}\n                      onChange={(e) => setSpeed(Number(e.target.value))} \n                  />\n              </div>\n          </div>\n\n          {loadingError && <p style={{color: '#D9534F', backgroundColor: '#FEE', padding: '10px', borderRadius: '4px'}}>**Error:** {loadingError}</p>}\n          \n          {/* Visualization Container */}\n          <div \n            style={{ \n              display: 'flex', \n              justifyContent: 'center', \n              alignItems: 'flex-end', \n              height: '400px',\n              width: '100%',\n              borderBottom: '3px solid #333',\n              backgroundColor: '#ffffff',\n              paddingTop: '20px'\n            }}>\n            \n            {isSupportedAlgorithm ? currentArray.map((value, index) => (\n              <ArrayBar \n                key={index}\n                value={value}\n                height={(value / MAX_ARRAY_VALUE) * 380} \n                // Ensure width scales based on array size\n                width={Math.max(5, (800 / arraySize) - 2)} \n                isHighlighted={highlightIndices.includes(index)}\n                isPivot={pivotIndex === index} // NEW: Pass pivot index\n                isSorted={isSortingComplete || sortedIndices.includes(index)}\n              />\n            )) : <h3 style={{marginTop: '150px', color: '#888'}}>Visualization not available for **{selectedAlgorithm.toUpperCase().replace(/SEARCH|SORT/g, ' ')}**. Please select Bubble Sort, Merge Sort, Quick Sort, or Shell Sort.</h3>}\n          </div>\n          \n          {/* Status Bar & Pseudocode Area */}\n          <div style={{ marginTop: '20px', display: 'flex', gap: '40px' }}>\n              \n              {/* Status Bar */}\n              <div style={{ flex: 1 }}>\n                  <h2 style={{fontSize: '20px', borderBottom: '1px solid #ccc', paddingBottom: '5px'}}>Algorithm Status</h2>\n                  {isSupportedAlgorithm ? (\n                      <>\n                          {!steps && <p>Generating steps...</p>}\n                          {steps && isSortingComplete && \n                              <h3 style={{color: '#28A745', fontSize: '18px'}}>Sorting Complete! Array is sorted.</h3>}\n                          {steps && !isSortingComplete && currentStep &&\n                              <p style={{fontSize: '16px'}}>**Step {currentStepIndex + 1}** of {steps.length}. Action: *{currentStep.action}*</p>}\n                          {steps && !isSortingComplete && !currentStep &&\n                              <p>Starting sort...</p>}\n                      </>\n                  ) : (\n                      <p style={{color: '#FFC107', fontWeight: 'bold'}}>Algorithm implementation coming soon! Select a supported algorithm to visualize.</p>\n                  )}\n              </div>\n\n              {/* Pseudocode Area */}\n              <div style={{ flex: 1, borderLeft: '1px solid #ccc', paddingLeft: '20px' }}>\n                  <h2 style={{fontSize: '20px', borderBottom: '1px solid #ccc', paddingBottom: '5px'}}>Pseudocode: {selectedAlgorithm}</h2>\n                  <div style={{ backgroundColor: '#f9f9f9', padding: '10px', borderRadius: '5px', fontSize: '14px', fontFamily: 'monospace', whiteSpace: 'pre-wrap', maxHeight: '200px', overflowY: 'auto', border: '1px solid #eee' }}>\n                    {currentPseudocode ? currentPseudocode.map((line, index) => (\n                        <div \n                            key={index} \n                            style={{ \n                                // Simple line highlighting is not implemented in the new steps object yet, but the structure is here\n                                // backgroundColor: currentStep?.line === index ? '#ffe0b2' : 'transparent', \n                                transition: 'background-color 0.2s',\n                                padding: '1px 0'\n                            }}>\n                            {line}\n                        </div>\n                    )) : <p>// Pseudocode not yet available for this algorithm.</p>}\n                  </div>\n              </div>\n              \n          </div>\n        </>\n      ) : (\n        // === BST VISUALIZER ===\n        <BSTVisualizer />\n      )}\n      \n      {/* DEVELOPER CREDIT LINE (Always visible) */}\n      <div style={{ marginTop: '50px', paddingTop: '10px', borderTop: '1px solid #eee', textAlign: 'center', fontSize: '12px', color: '#666' }}>\n          Developed by: **Shubham Jana** | Contact: <a href=\"mailto:devshubhamjana@gmail.com\">**devshubhamjana@gmail.com**</a>\n      </div>\n\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}